/*! For license information please see main.9dd60ede.js.LICENSE.txt */
(()=>{var e={694:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var o=r.apply(null,n);o&&e.push(o)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},176:e=>{"use strict";e.exports=function(e,t,n,i,r,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},559:function(e,t){!function(e){"use strict";var t="1.9.3";function n(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var s=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++s),e._leaflet_id}function a(e,t,n){var i,r,s,o;return o=function(){i=!1,r&&(s.apply(n,r),r=!1)},s=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(o,t),i=!0)},s}function l(e,t,n){var i=t[1],r=t[0],s=i-r;return e===i&&n?e:((e-r)%s+s)%s+r}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"===typeof i&&(i=i(t)),i}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var E=window.requestAnimationFrame||w("RequestAnimationFrame")||x,T=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||E!==x)return E.call(window,r(e,t));e.call(t)}function k(e){e&&T.call(window,e)}var I={__proto__:null,extend:n,create:i,bind:r,get lastId(){return s},stamp:o,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:_,requestFn:E,cancelFn:T,requestAnimFrame:S,cancelAnimFrame:k};function C(){}function N(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}C.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=t.__super__=this.prototype,s=i(r);for(var o in s.constructor=t,t.prototype=s,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&n(t,e.statics),e.includes&&(N(e.includes),n.apply(null,[s].concat(e.includes))),n(s,e),delete s.statics,delete s.includes,s.options&&(s.options=r.options?i(r.options):{},n(s.options,e.options)),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=s._initHooks.length;e<t;e++)s._initHooks[e].call(this)}},t},C.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},C.mergeOptions=function(e){return n(this.prototype.options,e),this},C.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,s=(e=d(e)).length;r<s;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var i in e)this._off(i,e[i],t);else{e=d(e);for(var r=1===arguments.length,s=0,o=e.length;s<o;s++)r?this._off(e[s]):this._off(e[s],t,n)}else delete this._events;return this},_on:function(e,t,n,i){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var r={fn:t,ctx:n};i&&(r.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(r)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,s;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var o=this._listens(e,t,n);if(!1!==o){var a=i[o];this._firingCount&&(a.fn=c,this._events[e]=i=i.slice()),i.splice(o,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,s=i.length;r<s;r++)i[r].fn=c;delete this._events[e]}},fire:function(e,t,i){if(!this.listens(e,i))return this;var r=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var o=0,a=s.length;o<a;o++){var l=s[o],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t,n,i){"string"!==typeof e&&console.warn('"string" type argument expected');var r=t;"function"!==typeof t&&(i=!!t,r=void 0,n=void 0);var s=this._events&&this._events[e];if(s&&s.length&&!1!==this._listens(e,r,n))return!0;if(i)for(var o in this._eventParents)if(this._eventParents[o].listens(e,t,n,i))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var i=this._events[e]||[];if(!t)return!!i.length;n===this&&(n=void 0);for(var r=0,s=i.length;r<s;r++)if(i[r].fn===t&&i[r].ctx===n)return r;return!1},once:function(e,t,n){if("object"===typeof e)for(var i in e)this._on(i,e[i],t,!0);else for(var r=0,s=(e=d(e)).length;r<s;r++)this._on(e[r],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var A=C.extend(P);function D(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var O=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof D?e:v(e)?new D(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function F(e,t){return!e||e instanceof M?e:new M(e,t)}function j(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function z(e,t){return e instanceof j?e:new j(e,t)}function U(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof U?e:v(e)&&"object"!==typeof e[0]?3===e.length?new U(e[0],e[1],e[2]):2===e.length?new U(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new U(e,t,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},M.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof D||"number"===typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=F(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof D?R(e):F(e))instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=F(e);var t=this.min,n=this.max,i=e.min,r=e.max,s=r.x>=t.x&&i.x<=n.x,o=r.y>=t.y&&i.y<=n.y;return s&&o},overlaps:function(e){e=F(e);var t=this.min,n=this.max,i=e.min,r=e.max,s=r.x>t.x&&i.x<n.x,o=r.y>t.y&&i.y<n.y;return s&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,i=Math.abs(t.x-n.x)*e,r=Math.abs(t.y-n.y)*e;return F(R(t.x-i,t.y-r),R(n.x+i,n.y+r))},equals:function(e){return!!e&&(e=F(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},j.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof U)t=e,n=e;else{if(!(e instanceof j))return e?this.extend(B(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new U(t.lat,t.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new j(new U(t.lat-i,t.lng-r),new U(n.lat+i,n.lng+r))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof U||"lat"in e?B(e):z(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof j?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),s=r.lat>=t.lat&&i.lat<=n.lat,o=r.lng>=t.lng&&i.lng<=n.lng;return s&&o},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),s=r.lat>t.lat&&i.lat<n.lat,o=r.lng>t.lng&&i.lng<n.lng;return s&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,B(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new U(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var s=e.getSouthWest(),o=e.getNorthEast();return new j(new U(s.lat-i,s.lng-r),new U(o.lat-i,o.lng-r))}},q=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,s=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),a=s*s+Math.cos(i)*Math.cos(r)*o*o,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),H=6378137,W={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new D(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new M([-e,-e],[e,e])}()};function G(e,t,n,i){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function K(e,t,n,i){return new G(e,t,n,i)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new D((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Y=n({},q,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return K(e,.5,-e,.5)}()}),Z=n({},Y,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,t){var n,i,r,s,o,a,l="";for(n=0,r=e.length;n<r;n++){for(i=0,s=(o=e[n]).length;i<s;i++)l+=(i?"L":"M")+(a=o[i]).x+" "+a.y;l+=t?Me.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Re("webkit"),ie=Re("android"),re=Re("android 2")||Re("android 3"),se=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),oe=ie&&Re("Google")&&se<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Re("chrome"),ce=Re("gecko")&&!ne&&!ae&&!$,ue=!le&&Re("safari"),he=Re("phantom"),de="OTransition"in J,fe=0===navigator.platform.indexOf("Win"),pe=$&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in J,ve=!window.L_DISABLE_3D&&(pe||me||ge)&&!de&&!he,ye="undefined"!==typeof orientation||Re("mobile"),_e=ye&&ne,we=ye&&me,be=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!be),Ee="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(Ee||xe),Se=ye&&ae,ke=ye&&ce,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ce=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ne=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!Q("svg").createSVGRect),Ae=!!Pe&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),De=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Oe=0===navigator.platform.indexOf("Mac"),Le=0===navigator.platform.indexOf("Linux");function Re(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Me={ie:$,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:oe,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:he,opera12:de,win:fe,ie3d:pe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:_e,mobileWebkit3d:we,msPointer:be,pointer:xe,touch:Te,touchNative:Ee,mobileOpera:Se,mobileGecko:ke,retina:Ie,passiveEvents:Ce,canvas:Ne,svg:Pe,vml:De,inlineSvg:Ae,mac:Oe,linux:Le},Fe=Me.msPointer?"MSPointerDown":"pointerdown",je=Me.msPointer?"MSPointerMove":"pointermove",ze=Me.msPointer?"MSPointerUp":"pointerup",Ue=Me.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:Fe,touchmove:je,touchend:ze,touchcancel:Ue},Ve={touchstart:Je,touchmove:Xe,touchend:Xe,touchcancel:Xe},qe={},He=!1;function We(e,t,n){return"touchstart"===t&&Qe(),Ve[t]?(n=Ve[t].bind(this,n),e.addEventListener(Be[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){Be[t]?e.removeEventListener(Be[t],n,!1):console.warn("wrong event specified:",t)}function Ke(e){qe[e.pointerId]=e}function Ye(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Ze(e){delete qe[e.pointerId]}function Qe(){He||(document.addEventListener(Fe,Ke,!0),document.addEventListener(je,Ye,!0),document.addEventListener(ze,Ze,!0),document.addEventListener(Ue,Ze,!0),He=!0)}function Xe(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}function Je(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Kt(t),Xe(e,t)}function $e(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Zt(e);if(!r.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||r.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var s=Date.now();s-i<=et?2===++n&&t($e(e)):n=1,i=s}}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var it,rt,st,ot,at,lt=St(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=St(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ht(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function ft(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=d(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!yt(e,t)){var s=xt(e);bt(e,(s?s+" ":"")+t)}}function wt(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,h((" "+xt(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function Et(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Tt(e,t)}function Tt(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(r){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}function St(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function kt(e,t,n){var i=t||new D(0,0);e.style[lt]=(Me.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function It(e,t){e._leaflet_pos=t,Me.any3d?kt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Ct(e){return e._leaflet_pos||new D(0,0)}if("onselectstart"in document)it=function(){Ft(window,"selectstart",Kt)},rt=function(){zt(window,"selectstart",Kt)};else{var Nt=St(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);it=function(){if(Nt){var e=document.documentElement.style;st=e[Nt],e[Nt]="none"}},rt=function(){Nt&&(document.documentElement.style[Nt]=st,st=void 0)}}function Pt(){Ft(window,"dragstart",Kt)}function At(){zt(window,"dragstart",Kt)}function Dt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ot(),ot=e,at=e.style.outline,e.style.outline="none",Ft(window,"keydown",Ot))}function Ot(){ot&&(ot.style.outline=at,ot=void 0,at=void 0,zt(window,"keydown",Ot))}function Lt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Rt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Mt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:ht,getStyle:dt,create:ft,remove:pt,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:_t,removeClass:wt,setClass:bt,getClass:xt,setOpacity:Et,testProp:St,setTransform:kt,setPosition:It,getPosition:Ct,get disableTextSelection(){return it},get enableTextSelection(){return rt},disableImageDrag:Pt,enableImageDrag:At,preventOutline:Dt,restoreOutline:Ot,getSizedParentNode:Lt,getScale:Rt};function Ft(e,t,n,i){if(t&&"object"===typeof t)for(var r in t)Vt(e,r,t[r],n);else for(var s=0,o=(t=d(t)).length;s<o;s++)Vt(e,t[s],n,i);return this}var jt="_leaflet_events";function zt(e,t,n,i){if(1===arguments.length)Ut(e),delete e[jt];else if(t&&"object"===typeof t)for(var r in t)qt(e,r,t[r],n);else if(t=d(t),2===arguments.length)Ut(e,(function(e){return-1!==y(t,e)}));else for(var s=0,o=t.length;s<o;s++)qt(e,t[s],n,i);return this}function Ut(e,t){for(var n in e[jt]){var i=n.split(/\d/)[0];t&&!t(i)||qt(e,i,null,null,n)}}var Bt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vt(e,t,n,i){var r=t+o(n)+(i?"_"+o(i):"");if(e[jt]&&e[jt][r])return this;var s=function(t){return n.call(i||e,t||window.event)},a=s;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?s=We(e,t,s):Me.touch&&"dblclick"===t?s=tt(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Bt[t]||t,s,!!Me.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,$t(e,t)&&a(t)},e.addEventListener(Bt[t],s,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,s),e[jt]=e[jt]||{},e[jt][r]=s}function qt(e,t,n,i,r){r=r||t+o(n)+(i?"_"+o(i):"");var s=e[jt]&&e[jt][r];if(!s)return this;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?Ge(e,t,s):Me.touch&&"dblclick"===t?nt(e,s):"removeEventListener"in e?e.removeEventListener(Bt[t]||t,s,!1):e.detachEvent("on"+t,s),e[jt][r]=null}function Ht(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return Vt(e,"wheel",Ht),this}function Gt(e){return Ft(e,"mousedown touchstart dblclick contextmenu",Ht),e._leaflet_disable_click=!0,this}function Kt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Yt(e){return Kt(e),Ht(e),this}function Zt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new D(e.clientX,e.clientY);var n=Rt(t),i=n.boundingClientRect;return new D((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var Xt=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jt(e){return Me.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Xt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(i){return!1}return n!==e}var en={__proto__:null,on:Ft,off:zt,stopPropagation:Ht,disableScrollPropagation:Wt,disableClickPropagation:Gt,preventDefault:Kt,stop:Yt,getPropagationPath:Zt,getMousePosition:Qt,getWheelDelta:Jt,isExternalTarget:$t,addListener:Ft,removeListener:zt},tn=A.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ct(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),It(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=A.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,i.pan&&i.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),s=(e instanceof D?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),o=this.containerPointToLatLng(r.add(s));return this.setView(o,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),i=R(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"===typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var s=i.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r);return{center:this.unproject(o.add(a).divideBy(2).add(s),r),zoom:r}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Me.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),s=this.getSize(),o=this._zoom;e=B(e),t=void 0===t?o:t;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(o,t),c=r.distanceTo(i)||1,u=1.42,h=u*u;function d(e){var t=(l*l-a*a+(e?-1:1)*h*h*c*c)/(2*(e?l:a)*h*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=d(0);function v(e){return a*(p(g)/p(g+u*e))}function y(e){return a*(p(g)*m(g+u*e)-f(g))/h}function _(e){return 1-Math.pow(1-e,1.5)}var w=Date.now(),b=(d(1)-g)/u,x=n.duration?1e3*n.duration:1e3*b*.8;function E(){var n=(Date.now()-w)/x,s=_(n)*b;n<=1?(this._flyToFrame=S(E,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(y(s)/c)),o),this.getScaleZoom(a/v(s),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=z(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,z(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=R(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),s=this.project(e),o=this.getPixelBounds(),a=F([o.min.add(n),o.max.subtract(i)]),l=a.getSize();if(!a.contains(s)){this._enforcingBounds=!0;var c=s.subtract(a.getCenter()),u=a.extend(s).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),s=t.divideBy(2).round(),o=i.divideBy(2).round(),a=s.subtract(o);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new U(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var s={latlng:t,bounds:n,timestamp:e.timestamp};for(var o in e.coords)"number"===typeof e.coords[o]&&(s[o]=e.coords[o]);this.fire("locationfound",s)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new j(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=R(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),s=this.getMaxZoom(),o=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=F(this.project(a,i),this.project(o,i)).getSize(),u=Me.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=t?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(f,i),u&&(i=Math.round(i/(u/100))*(u/100),i=t?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(r,Math.min(s,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ht(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Ft(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,_t(e,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),It(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){It(this._mapPane,new D(0,0));var i=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,n)._move(e,t)._moveEnd(r),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){It(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?zt:Ft;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,a=!1;s;){if((n=this._targets[o(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(r&&!$t(s,e))break;if(i.push(n),r)break}if(s===this._container)break;s=s.parentNode}return i.length||a||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Dt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if("click"===e.type){var r=n({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var s=this._findEventTargets(e,t);if(i){for(var o=[],a=0;a<i.length;a++)i[a].listens(t,!0)&&o.push(i[a]);s=o.concat(s)}if(s.length){"contextmenu"===t&&Kt(e);var l=s[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<s.length;a++)if(s[a].fire(t,c,!0),c.originalEvent._stopped||!1===s[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Ct(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return F([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),s=new M(i.subtract(r),i.add(r)),o=this._getBoundsOffset(s,n,t);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?e:this.unproject(i.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=F(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),s=i.max.subtract(e.max);return new D(this._rebound(r.x,-s.x),this._rebound(r.y,-s.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=Me.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];kt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();kt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(S((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var sn=C.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new sn(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function i(i,r){var s=t+i+" "+t+r;e[i+r]=ft("div",s,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=sn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return sn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Wt(t);var i=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Ft(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=ft("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Ft(r,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Kt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",i),this._separator=ft("div",e+"-separator",i),this._overlaysList=ft("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+o(this),i),this._layerControlInputs.push(t),t.layerId=o(e.layer),Ft(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)e=n[s],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(s=0;s<r.length;s++)this._map.hasLayer(r[s])&&this._map.removeLayer(r[s]);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])||this._map.addLayer(i[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;Ft(e,"click",Kt),this.expand(),setTimeout((function(){zt(e,"click",Kt)}))}}),ln=function(e,t,n){return new an(e,t,n)},cn=sn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var s=ft("a",n,i);return s.innerHTML=e,s.href="#",s.title=t,s.setAttribute("role","button"),s.setAttribute("aria-label",t),Gt(s),Ft(s,"click",Yt),Ft(s,"click",r,this),Ft(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";wt(this._zoomInButton,t),wt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(_t(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(_t(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(e){return new cn(e)},hn=sn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new hn(e)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=sn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var mn=function(e){return new pn(e)};sn.Layers=an,sn.Zoom=cn,sn.Scale=hn,sn.Attribution=pn,on.layers=ln,on.zoom=un,on.scale=dn,on.attribution=mn;var gn=C.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn,yn={Events:P},_n=Me.touch?"touchstart mousedown":"mousedown",wn=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){f(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Ft(this._dragStartTarget,_n,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(!0),zt(this._dragStartTarget,_n,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)wn._dragging===this&&this.finishDrag();else if(!(wn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(wn._dragging=this,this._preventOutline&&Dt(this._element),Pt(),it(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Lt(this._element);this._startPoint=new D(t.clientX,t.clientY),this._startPos=Ct(this._element),this._parentScale=Rt(n);var i="mousedown"===e.type;Ft(document,i?"mousemove":"touchmove",this._onMove,this),Ft(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new D(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Kt(e),this._moved||(this.fire("dragstart"),this._moved=!0,_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),It(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zt(document,"mousemove touchmove",this._onMove,this),zt(document,"mouseup touchend touchcancel",this._onUp,this),At(),rt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,wn._dragging=!1}});function bn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Tn(e=kn(e,n),n)}function xn(e,t,n){return Math.sqrt(An(e,t,n,!0))}function En(e,t,n){return An(e,t,n)}function Tn(e,t){var n=e.length,i=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Sn(e,i,t,0,n-1);var r,s=[];for(r=0;r<n;r++)i[r]&&s.push(e[r]);return s}function Sn(e,t,n,i,r){var s,o,a,l=0;for(o=i+1;o<=r-1;o++)(a=An(e[o],e[i],e[r],!0))>l&&(s=o,l=a);l>n&&(t[s]=1,Sn(e,t,n,i,s),Sn(e,t,n,s,r))}function kn(e,t){for(var n=[e[0]],i=1,r=0,s=e.length;i<s;i++)Pn(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<s-1&&n.push(e[s-1]),n}function In(e,t,n,i,r){var s,o,a,l=i?vn:Nn(e,n),c=Nn(t,n);for(vn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=Nn(o=Cn(e,t,s=l||c,n,r),n),s===l?(e=o,l=a):(t=o,c=a)}}function Cn(e,t,n,i,r){var s,o,a=t.x-e.x,l=t.y-e.y,c=i.min,u=i.max;return 8&n?(s=e.x+a*(u.y-e.y)/l,o=u.y):4&n?(s=e.x+a*(c.y-e.y)/l,o=c.y):2&n?(s=u.x,o=e.y+l*(u.x-e.x)/a):1&n&&(s=c.x,o=e.y+l*(c.x-e.x)/a),new D(s,o,r)}function Nn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Pn(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function An(e,t,n,i){var r,s=t.x,o=t.y,a=n.x-s,l=n.y-o,c=a*a+l*l;return c>0&&((r=((e.x-s)*a+(e.y-o)*l)/c)>1?(s=n.x,o=n.y):r>0&&(s+=a*r,o+=l*r)),a=e.x-s,l=e.y-o,i?a*a+l*l:new D(s,o)}function Dn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function On(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function Ln(e,t){var n,i,r,s,o,a,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=[];for(var h in e)u.push(t.project(B(e[h])));var d=u.length;for(n=0,i=0;n<d-1;n++)i+=u[n].distanceTo(u[n+1])/2;if(0===i)c=u[0];else for(n=0,s=0;n<d-1;n++)if(o=u[n],a=u[n+1],(s+=r=o.distanceTo(a))>i){l=(s-i)/r,c=[a.x-l*(a.x-o.x),a.y-l*(a.y-o.y)];break}return t.unproject(R(c))}var Rn={__proto__:null,simplify:bn,pointToSegmentDistance:xn,closestPointOnSegment:En,clipSegment:In,_getEdgeIntersection:Cn,_getBitCode:Nn,_sqClosestPointOnSegment:An,isFlat:Dn,_flat:On,polylineCenter:Ln};function Mn(e,t,n){var i,r,s,o,a,l,c,u,h,d=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=Nn(e[r],t);for(o=0;o<4;o++){for(u=d[o],i=[],r=0,s=(c=e.length)-1;r<c;s=r++)a=e[r],l=e[s],a._code&u?l._code&u||((h=Cn(l,a,u,t,n))._code=Nn(h,t),i.push(h)):(l._code&u&&((h=Cn(l,a,u,t,n))._code=Nn(h,t),i.push(h)),i.push(a));e=i}return e}function Fn(e,t){var n,i,r,s,o,a,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=[];for(var d in e)h.push(t.project(B(e[d])));var f=h.length;for(a=l=c=0,n=0,i=f-1;n<f;i=n++)r=h[n],s=h[i],o=r.y*s.x-s.y*r.x,l+=(r.x+s.x)*o,c+=(r.y+s.y)*o,a+=3*o;return u=0===a?h[0]:[l/a,c/a],t.unproject(R(u))}var jn={__proto__:null,clipPolygon:Mn,polygonCenter:Fn},zn={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,s=Math.sqrt(1-r*r),o=s*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-o)/(1+o),s/2);return i=-n*Math.log(Math.max(a,1e-10)),new D(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,s=Math.sqrt(1-r*r),o=Math.exp(-e.y/i),a=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=s*Math.sin(a),t=Math.pow((1-t)/(1+t),s/2),a+=c=Math.PI/2-2*Math.atan(o*t)-a;return new U(a*n,e.x*n/i)}},Bn={__proto__:null,LonLat:zn,Mercator:Un,SphericalMercator:W},Vn=n({},q,{code:"EPSG:3395",projection:Un,transformation:function(){var e=.5/(Math.PI*Un.R);return K(e,.5,-e,.5)}()}),qn=n({},q,{code:"EPSG:4326",projection:zn,transformation:K(1/180,1,-1/180,.5)}),Hn=n({},V,{projection:zn,transformation:K(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});V.Earth=q,V.EPSG3395=Vn,V.EPSG3857=Y,V.EPSG900913=Z,V.EPSG4326=qn,V.Simple=Hn;var Wn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Wn.extend({initialize:function(e,t){var n,i;if(f(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Kn=function(e,t){return new Gn(e,t)},Yn=Gn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Gn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Gn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new j;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Zn=function(e,t){return new Yn(e,t)},Qn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"===typeof i&&(i=[i,i]);var r=R(i),s=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Me.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Qn(e)}var Jn=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Qn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),$n=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,s=Ct(t._icon),o=n.getPixelBounds(),a=n.getPixelOrigin(),l=F(o.min._subtract(a).add(r),o.max._subtract(a).subtract(r));if(!l.contains(s)){var c=R((Math.max(l.max.x,s.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),It(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=Ct(t._icon),r=t._map.layerPointToLatLng(i);n&&It(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ei=Wn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),s=!1;r!==this._shadow&&(this._removeShadow(),s=!0),r&&(_t(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&s&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&It(this._icon,e),this._shadow&&It(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$n)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $n(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Et(this._icon,e),this._shadow&&Et(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),i=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ti(e,t){return new ei(e,t)}var ni=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ii=ni.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return ni.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new M(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ri(e,t){return new ii(e,t)}var si=ii.extend({initialize:function(e,t,i){if("number"===typeof t&&(t=n({},i,{radius:t})),f(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:ni.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===q.distance){var r=Math.PI/180,s=this._mRadius/q.R/r,o=n.project([t+s,e]),a=n.project([t-s,e]),l=o.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(s*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=s/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-o.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function oi(e,t,n){return new si(e,t,n)}var ai=ni.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,s=An,o=0,a=this._parts.length;o<a;o++)for(var l=this._parts[o],c=1,u=l.length;c<u;c++){var h=s(e,t=l[c-1],n=l[c],!0);h<i&&(i=h,r=s(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ln(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new j,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),i=0,r=e.length;i<r;i++)n?(t[i]=B(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new D(e,e);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,s=e[0]instanceof U,o=e.length;if(s){for(r=[],i=0;i<o;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<o;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,s,o,a,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,s=(a=this._rings[t]).length;n<s-1;n++)(o=In(a[n],a[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(o[0]),o[1]===a[n+1]&&n!==s-2||(l[i].push(o[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=bn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,s,o,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,s=this._parts.length;n<s;n++)for(i=0,r=(o=(a=this._parts[n]).length)-1;i<o;r=i++)if((t||0!==i)&&xn(e,a[r],a[i])<=l)return!0;return!1}});function li(e,t){return new ai(e,t)}ai._flat=On;var ci=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=ai.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof U&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ai.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new D(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,s=this._rings.length;r<s;r++)(i=Mn(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,s,o,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++)for(s=0,o=(l=(t=this._parts[r]).length)-1;s<l;o=s++)n=t[s],i=t[o],n.y>e.y!==i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||ai.prototype._containsPoint.call(this,e,!0)}});function ui(e,t){return new ci(e,t)}var hi=Yn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=v(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var s=this.options;if(s.filter&&!s.filter(e))return this;var o=di(e,s);return o?(o.feature=_i(e),o.defaultOptions=o.options,this.resetStyle(o),s.onEachFeature&&s.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function di(e,t){var n,i,r,s,o="Feature"===e.type?e.geometry:e,a=o?o.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||pi;if(!a&&!o)return null;switch(o.type){case"Point":return fi(c,e,n=u(a),t);case"MultiPoint":for(r=0,s=a.length;r<s;r++)n=u(a[r]),l.push(fi(c,e,n,t));return new Yn(l);case"LineString":case"MultiLineString":return i=mi(a,"LineString"===o.type?0:1,u),new ai(i,t);case"Polygon":case"MultiPolygon":return i=mi(a,"Polygon"===o.type?1:2,u),new ci(i,t);case"GeometryCollection":for(r=0,s=o.geometries.length;r<s;r++){var h=di({geometry:o.geometries[r],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Yn(l);case"FeatureCollection":for(r=0,s=o.features.length;r<s;r++){var d=di(o.features[r],t);d&&l.push(d)}return new Yn(l);default:throw new Error("Invalid GeoJSON object.")}}function fi(e,t,n,i){return e?e(t,n):new ei(n,i&&i.markersInheritOptions&&i)}function pi(e){return new U(e[1],e[0],e[2])}function mi(e,t,n){for(var i,r=[],s=0,o=e.length;s<o;s++)i=t?mi(e[s],t-1,n):(n||pi)(e[s]),r.push(i);return r}function gi(e,t){return void 0!==(e=B(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function vi(e,t,n,i){for(var r=[],s=0,o=e.length;s<o;s++)r.push(t?vi(e[s],Dn(e[s])?0:t-1,n,i):gi(e[s],i));return!t&&n&&r.push(r[0].slice()),r}function yi(e,t){return e.feature?n({},e.feature,{geometry:t}):_i(t)}function _i(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wi={toGeoJSON:function(e){return yi(this,{type:"Point",coordinates:gi(this.getLatLng(),e)})}};function bi(e,t){return new hi(e,t)}ei.include(wi),si.include(wi),ii.include(wi),ai.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return yi(this,{type:(t?"Multi":"")+"LineString",coordinates:vi(this._latlngs,t?1:0,!1,e)})}}),ci.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),i=vi(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),yi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Gn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yi(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var s=_i(r);"FeatureCollection"===s.type?i.push.apply(i,s.features):i.push(s)}}})),n?yi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var xi=bi,Ei=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;kt(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();It(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Ti=function(e,t,n){return new Ei(e,t,n)},Si=Ei.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],s=0;s<n.length;s++)i.push(n[s].src);this._url=n.length>0?i:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var a=ft("source");a.src=this._url[o],t.appendChild(a)}}}});function ki(e,t,n){return new Si(e,t,n)}var Ii=Ei.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ci(e,t,n){return new Ii(e,t,n)}var Ni=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof U||v(e))?(this._latlng=B(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(r(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Yn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?It(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),Wn.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(f(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var Pi=Ni.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ni.prototype.openOn.call(this,e)},onAdd:function(e){Ni.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ni||this._source.on("preclick",Ht))},onRemove:function(e){Ni.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ni||this._source.off("preclick",Ht))},getEvents:function(){var e=Ni.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Gt(t),Wt(this._contentNode),Ft(t,"contextmenu",Ht),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ft("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(i,"click",(function(e){Kt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",_t(e,s)):wt(e,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();It(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(dt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,i=this._containerWidth,r=new D(this._containerLeft,-n-this._containerBottom);r._add(Ct(this._container));var s=e.layerPointToContainerPoint(r),o=R(this.options.autoPanPadding),a=R(this.options.autoPanPaddingTopLeft||o),l=R(this.options.autoPanPaddingBottomRight||o),c=e.getSize(),u=0,h=0;s.x+i+l.x>c.x&&(u=s.x+i-c.x+l.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+n+l.y>c.y&&(h=s.y+n-c.y+l.y),s.y-h-a.y<0&&(h=s.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ai=function(e,t){return new Pi(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Pi,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Wn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Pi,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Yt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof ni?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Di=Ni.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ni.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ni.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ni.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,s=i.latLngToContainerPoint(i.getCenter()),o=i.layerPointToContainerPoint(e),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=R(this.options.offset),h=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):o.x<s.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+h.x),n=c/2),e=e.subtract(R(t,n,!0)).add(u).add(h),wt(r,"leaflet-tooltip-right"),wt(r,"leaflet-tooltip-left"),wt(r,"leaflet-tooltip-top"),wt(r,"leaflet-tooltip-bottom"),_t(r,"leaflet-tooltip-"+a),It(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Et(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Oi=function(e,t){return new Di(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Di,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Wn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Di,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=e.getElement();t&&(Ft(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Ft(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Li=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=R(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Ri(e){return new Li(e)}Qn.Default=Jn;var Mi=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,s=n.length;r<s;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){Et(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var s=Math.min(1,(e-r.loaded)/200);Et(r.el,s),s<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(k(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),s=Math.floor(t/2),o=n-1,a=new D(+r,+s);a.z=+o;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>i&&this._retainParent(r,s,o,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var s=2*t;s<2*t+2;s++){var o=new D(r,s);o.z=n+1;var a=this._tileCoordsToKey(o),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,s,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var s=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!s||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();Me.any3d?kt(e.el,r,i):It(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),s=t.getSize().divideBy(2*i);return new M(r.subtract(s),r.add(s))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),s=r.getCenter(),o=[],a=this.options.keepBuffer,l=new M(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new D(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var f=new D(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:o.push(f)}}if(o.sort((function(e,t){return e.distanceTo(s)-t.distanceTo(s)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<o.length;d++)this._addTile(o[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new j(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new D(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Me.ielt9&&this.options.opacity<1&&Et(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&S(r(this._tileReady,this,e,null,s)),It(s,n),this._tiles[i]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(Et(n.el,0),k(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new D(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fi(e){return new Mi(e)}var ji=Mi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Me.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Ft(n,"load",r(this._tileOnLoad,this,t,n)),Ft(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Me.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Me.ielt9?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=_;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",_),Mi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==_))return Mi.prototype._tileReady.call(this,e,t,n)}});function zi(e,t){return new ji(e,t)}var Ui=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=n({},this.defaultWmsParams);for(var r in t)r in this.options||(i[r]=t[r]);var s=(t=f(this,t)).detectRetina&&Me.retina?2:1,o=this.getTileSize();i.width=o.x*s,i.height=o.y*s,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,ji.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=F(n.project(t[0]),n.project(t[1])),r=i.min,s=i.max,o=(this._wmsVersion>=1.3&&this._crs===qn?[r.y,r.x,s.y,s.x]:[r.x,r.y,s.x,s.y]).join(","),a=ji.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Bi(e,t){return new Ui(e,t)}ji.WMS=Ui,zi.wms=Bi;var Vi=Wn.extend({options:{padding:.1},initialize:function(e){f(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),s=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));Me.any3d?kt(this._container,s,n):It(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qi=Vi.extend({options:{tolerance:0},getEvents:function(){var e=Vi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Ft(e,"mousemove",this._onMouseMove,this),Ft(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,pt(this._container),zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=Me.retina?2:1;It(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Vi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,s,o=e._parts,a=o.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,r=o[n].length;i<r;i++)s=o[n][i],l[i?"lineTo":"moveTo"](s.x,s.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(wt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,s=this._drawFirst;s;s=s.next)(n=s.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(_t(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Hi(e){return Me.canvas?new qi(e):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gi={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wi("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=Wi("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=Wi("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Ki=Me.vml?Wi:Q,Yi=Vi.extend({_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vi.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),It(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ki("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,X(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Zi(e){return Me.svg||Me.vml?new Yi(e):null}Me.vml&&Yi.include(Gi),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Hi(e)||Zi(e)}});var Qi=ci.extend({initialize:function(e,t){ci.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xi(e,t){return new Qi(e,t)}Yi.create=Ki,Yi.pointsToPath=X,hi.geometryToLayer=di,hi.coordsToLatLng=pi,hi.coordsToLatLngs=mi,hi.latLngToCoords=gi,hi.latLngsToCoords=vi,hi.getFeature=yi,hi.asFeature=_i,nn.mergeOptions({boxZoom:!0});var Ji=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),it(),Pt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Ft(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();It(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),wt(this._container,"leaflet-crosshair")),rt(),At(),zt(document,{contextmenu:Yt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Ji),nn.mergeOptions({doubleClickZoom:!0});var $i=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",$i),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,s=(i+t+n)%e-t-n,o=Math.abs(r+n)<Math.abs(s+n)?r:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,a=r.multiplyBy(o/s),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*o),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),S((function(){t.panBy(d,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",er),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var tr=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Ft(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),i.options.maxBounds&&(t=i._limitOffset(R(t),i.options.maxBounds)),i.options.worldCopyJump){var r=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(t)));i.panTo(r)}else i.panBy(t)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Yt(e)}}});nn.addInitHook("addHandler","keyboard",tr),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=gn.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Yt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,s=n?Math.ceil(r/n)*n:r,o=e._limitZoom(t+(this._delta>0?s:-s))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});nn.addInitHook("addHandler","scrollWheelZoom",nr);var ir=600;nn.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var rr=gn.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new D(t.clientX,t.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Kt),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ir),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){zt(document,"touchend",Kt),zt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new D(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",rr),nn.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var sr=gn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Kt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),s=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var a=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(a,this,!0),Kt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",sr),nn.BoxZoom=Ji,nn.DoubleClickZoom=$i,nn.Drag=er,nn.Keyboard=tr,nn.ScrollWheelZoom=nr,nn.TapHold=rr,nn.TouchZoom=sr,e.Bounds=M,e.Browser=Me,e.CRS=V,e.Canvas=qi,e.Circle=si,e.CircleMarker=ii,e.Class=C,e.Control=sn,e.DivIcon=Li,e.DivOverlay=Ni,e.DomEvent=en,e.DomUtil=Mt,e.Draggable=wn,e.Evented=A,e.FeatureGroup=Yn,e.GeoJSON=hi,e.GridLayer=Mi,e.Handler=gn,e.Icon=Qn,e.ImageOverlay=Ei,e.LatLng=U,e.LatLngBounds=j,e.Layer=Wn,e.LayerGroup=Gn,e.LineUtil=Rn,e.Map=nn,e.Marker=ei,e.Mixin=yn,e.Path=ni,e.Point=D,e.PolyUtil=jn,e.Polygon=ci,e.Polyline=ai,e.Popup=Pi,e.PosAnimation=tn,e.Projection=Bn,e.Rectangle=Qi,e.Renderer=Vi,e.SVG=Yi,e.SVGOverlay=Ii,e.TileLayer=ji,e.Tooltip=Di,e.Transformation=G,e.Util=I,e.VideoOverlay=Si,e.bind=r,e.bounds=F,e.canvas=Hi,e.circle=oi,e.circleMarker=ri,e.control=on,e.divIcon=Ri,e.extend=n,e.featureGroup=Zn,e.geoJSON=bi,e.geoJson=xi,e.gridLayer=Fi,e.icon=Xn,e.imageOverlay=Ti,e.latLng=B,e.latLngBounds=z,e.layerGroup=Kn,e.map=rn,e.marker=ti,e.point=R,e.polygon=ui,e.polyline=li,e.popup=Ai,e.rectangle=Xi,e.setOptions=f,e.stamp=o,e.svg=Zi,e.svgOverlay=Ci,e.tileLayer=zi,e.tooltip=Oi,e.transformation=K,e.version=t,e.videoOverlay=ki;var or=window.L;e.noConflict=function(){return window.L=or,this},window.L=e}(t)},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function r(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return Yn(e,t,n,i,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function v(e){if(null==e._isValid){var t=g(e),i=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function y(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var _=i.momentProperties=[],w=!1;function b(e,t){var n,i,r,s=_.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)c(r=t[i=_[n]])||(e[i]=r);return e}function x(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,i.updateOffset(this),w=!1)}function E(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function T(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,s,o,l=[],c=arguments.length;for(s=0;s<c;s++){if(r="","object"===typeof arguments[s]){for(o in r+="\n["+s+"] ",arguments[0])a(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];l.push(r)}T(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,I={};function C(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),I[e]||(T(t),I[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)a(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,i=f({},e);for(n in t)a(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)a(e,n)&&!a(t,n)&&o(e[n])&&(i[n]=f({},i[n]));return i}function D(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function L(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return N(i)?i.call(t,n):i}function R(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},z={};function U(e,t,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),e&&(z[e]=r),t&&(z[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,i=e.match(M);for(t=0,n=i.length;t<n;t++)z[i[t]]?i[t]=z[i[t]]:i[t]=B(i[t]);return function(t){var r,s="";for(r=0;r<n;r++)s+=N(i[r])?i[r].call(t,e):i[r];return s}}function q(e,t){return e.isValid()?(t=H(t,e.localeData()),j[t]=j[t]||V(t),j[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,i),F.lastIndex=0,n-=1;return e}var W={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Z="%d",Q=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,i){var r=this._relativeTime[n];return N(r)?r(e,t,n,i):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function ie(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,i={};for(n in e)a(e,n)&&(t=ie(n))&&(i[t]=e[n]);return i}var se={};function oe(e,t){se[e]=t}function ae(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:se[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function he(e,t){return function(n){return null!=n?(fe(this,e,n),i.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),$e(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=ie(e)])?this[e]():this}function me(e,t){if("object"===typeof e){var n,i=ae(e=re(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(N(this[e=ie(e)]))return this[e](t);return this}var ge,ve=/\d/,ye=/\d\d/,_e=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,xe=/\d\d?/,Ee=/\d\d\d\d?/,Te=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,ke=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Le(e,t,n){ge[e]=N(t)?t:function(e,i){return e&&n?n:t}}function Re(e,t){return a(ge,e)?ge[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var je={};function ze(e,t){var n,i,r=t;for("string"===typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=ue(e)}),i=e.length,n=0;n<i;n++)je[e[n]]=r}function Ue(e,t){ze(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function Be(e,t,n){null!=t&&a(je,e)&&je[e](t,n._a,n,e)}var Ve,qe=0,He=1,We=2,Ge=3,Ke=4,Ye=5,Ze=6,Qe=7,Xe=8;function Je(e,t){return(e%t+t)%t}function $e(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Ve=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Le("M",xe),Le("MM",xe,ye),Le("MMM",(function(e,t){return t.monthsShortRegex(e)})),Le("MMMM",(function(e,t){return t.monthsRegex(e)})),ze(["M","MM"],(function(e,t){t[He]=ue(e)-1})),ze(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[He]=r:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,it=Oe,rt=Oe;function st(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ot(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function at(e,t,n){var i,r,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ve.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ve.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Ve.call(this._shortMonthsParse,o))||-1!==(r=Ve.call(this._longMonthsParse,o))?r:null:-1!==(r=Ve.call(this._longMonthsParse,o))||-1!==(r=Ve.call(this._shortMonthsParse,o))?r:null}function lt(e,t,n){var i,r,s;if(this._monthsParseExact)return at.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),$e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(ct(this,e),i.updateOffset(this,!0),this):de(this,"Month")}function ht(){return $e(this.year(),this.month())}function dt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=it),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=rt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],s=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),s.sort(e),t=0;t<12;t++)i[t]=Fe(i[t]),r[t]=Fe(r[t]);for(t=0;t<24;t++)s[t]=Fe(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function mt(e){return le(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Le("Y",Ne),Le("YY",xe,ye),Le("YYYY",ke,we),Le("YYYYY",Ie,be),Le("YYYYYY",Ie,be),ze(["YYYYY","YYYYYY"],qe),ze("YYYY",(function(e,t){t[qe]=2===e.length?i.parseTwoDigitYear(e):ue(e)})),ze("YY",(function(e,t){t[qe]=i.parseTwoDigitYear(e)})),ze("Y",(function(e,t){t[qe]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var gt=he("FullYear",!0);function vt(){return le(this.year())}function yt(e,t,n,i,r,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,s,o),a}function _t(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var i=7+t-n;return-(7+_t(e,0,i).getUTCDay()-t)%7+i-1}function bt(e,t,n,i,r){var s,o,a=1+7*(t-1)+(7+n-i)%7+wt(e,i,r);return a<=0?o=mt(s=e-1)+a:a>mt(e)?(s=e+1,o=a-mt(e)):(s=e,o=a),{year:s,dayOfYear:o}}function xt(e,t,n){var i,r,s=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?i=o+Et(r=e.year()-1,t,n):o>Et(e.year(),t,n)?(i=o-Et(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function Et(e,t,n){var i=wt(e,t,n),r=wt(e+1,t,n);return(mt(e)-i+r)/7}function Tt(e){return xt(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Le("w",xe),Le("ww",xe,ye),Le("W",xe),Le("WW",xe,ye),Ue(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=ue(e)}));var St={dow:0,doy:6};function kt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Le("d",xe),Le("e",xe),Le("E",xe),Le("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Le("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Le("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ue(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e})),Ue(["d","e","E"],(function(e,t,n,i){t[i]=ue(e)}));var Ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=Oe,Ft=Oe,jt=Oe;function zt(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Ut(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var i,r,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ve.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ve.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ve.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Ve.call(this._weekdaysParse,o))||-1!==(r=Ve.call(this._shortWeekdaysParse,o))||-1!==(r=Ve.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ve.call(this._shortWeekdaysParse,o))||-1!==(r=Ve.call(this._weekdaysParse,o))||-1!==(r=Ve.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ve.call(this._minWeekdaysParse,o))||-1!==(r=Ve.call(this._weekdaysParse,o))||-1!==(r=Ve.call(this._shortWeekdaysParse,o))?r:null}function qt(e,t,n){var i,r,s;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,i,r,s,o=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=Fe(this.weekdaysMin(n,"")),r=Fe(this.weekdaysShort(n,"")),s=Fe(this.weekdays(n,"")),o.push(i),a.push(r),l.push(s),c.push(i),c.push(r),c.push(s);o.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function $t(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Xt),U("k",["kk",2],0,Jt),U("hmm",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),$t("a",!0),$t("A",!1),ne("hour","h"),oe("hour",13),Le("a",en),Le("A",en),Le("H",xe),Le("h",xe),Le("k",xe),Le("HH",xe,ye),Le("hh",xe,ye),Le("kk",xe,ye),Le("hmm",Ee),Le("hmmss",Te),Le("Hmm",Ee),Le("Hmmss",Te),ze(["H","HH"],Ge),ze(["k","kk"],(function(e,t,n){var i=ue(e);t[Ge]=24===i?0:i})),ze(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ze(["h","hh"],(function(e,t,n){t[Ge]=ue(e),g(n).bigHour=!0})),ze("hmm",(function(e,t,n){var i=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ke]=ue(e.substr(i)),g(n).bigHour=!0})),ze("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ke]=ue(e.substr(i,2)),t[Ye]=ue(e.substr(r)),g(n).bigHour=!0})),ze("Hmm",(function(e,t,n){var i=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ke]=ue(e.substr(i))})),ze("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[Ge]=ue(e.substr(0,i)),t[Ke]=ue(e.substr(i,2)),t[Ye]=ue(e.substr(r))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an={calendar:O,longDateFormat:W,invalidDate:K,ordinal:Z,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:St,weekdays:Ot,weekdaysMin:Rt,weekdaysShort:Lt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,i,r,s=0;s<e.length;){for(t=(r=hn(e[s]).split("-")).length,n=(n=hn(e[s+1]))?n.split("-"):null;t>0;){if(i=pn(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&un(r,n)>=t-1)break;t--}s++}return on}function fn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(i){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?yn(e):gn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function gn(e,t){if(null!==t){var n,i=an;if(t.abbr=e,null!=ln[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])i=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ln[e]=new D(A(i,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function vn(e,t){if(null!=t){var n,i,r=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(A(ln[e]._config,t)):(null!=(i=pn(e))&&(r=i._config),t=A(r,t),null==i&&(t.abbr=e),(n=new D(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!s(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function _n(){return k(ln)}function wn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[He]<0||n[He]>11?He:n[We]<1||n[We]>$e(n[qe],n[He])?We:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Ze])?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Ze]<0||n[Ze]>999?Ze:-1,g(e)._overflowDayOfYear&&(t<qe||t>We)&&(t=We),g(e)._overflowWeeks&&-1===t&&(t=Qe),g(e)._overflowWeekday&&-1===t&&(t=Xe),g(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,i,r,s,o,a=e._i,l=bn.exec(a)||xn.exec(a),c=Tn.length,u=Sn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Tn[t][1].exec(l[1])){r=Tn[t][0],i=!1!==Tn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Sn[t][1].exec(l[3])){s=(l[2]||" ")+Sn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(s||"")+(o||""),Bn(e)}else e._isValid=!1}function Pn(e,t,n,i,r,s){var o=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Lt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Ln(e,t,n){if(e)return Cn[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Rn(e){var t,n=In.exec(Dn(e._i));if(n){if(t=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=Ln(n[8],n[9],n[10]),e._d=_t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=kn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,i,r,s,o=[];if(!e._d){for(i=jn(e),e._w&&null==e._a[We]&&null==e._a[He]&&Un(e),null!=e._dayOfYear&&(s=Fn(e._a[qe],i[qe]),(e._dayOfYear>mt(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=_t(s,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[We]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?_t:yt).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(g(e).weekdayMismatch=!0)}}function Un(e){var t,n,i,r,s,o,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,n=Fn(t.GG,e._a[qe],xt(Zn(),1,4).year),i=Fn(t.W,1),((r=Fn(t.E,1))<1||r>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,c=xt(Zn(),s,o),n=Fn(t.gg,e._a[qe],c.year),i=Fn(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+s,(t.e<0||t.e>6)&&(l=!0)):r=s),i<1||i>Et(n,s,o)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=bt(n,i,r,s,o),e._a[qe]=a.year,e._dayOfYear=a.dayOfYear)}function Bn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],g(e).empty=!0;var t,n,r,s,o,a,l,c=""+e._i,u=c.length,h=0;for(l=(r=H(e._f,e._locale).match(M)||[]).length,t=0;t<l;t++)s=r[t],(n=(c.match(Re(s,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),h+=n.length),z[s]?(n?g(e).empty=!1:g(e).unusedTokens.push(s),Be(s,n,e)):e._strict&&!n&&g(e).unusedTokens.push(s);g(e).charsLeftOver=u-h,c.length>0&&g(e).unusedInput.push(c),e._a[Ge]<=12&&!0===g(e).bigHour&&e._a[Ge]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Ge]=Vn(e._locale,e._a[Ge],e._meridiem),null!==(a=g(e).era)&&(e._a[qe]=e._locale.erasConvertYear(a,e._a[qe])),zn(e),wn(e)}else Rn(e);else Nn(e)}function Vn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function qn(e){var t,n,i,r,s,o,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)s=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Bn(t),v(t)&&(o=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,a?s<i&&(i=s,n=t):(null==i||s<i||o)&&(i=s,n=t,o&&(a=!0));f(e,n||t)}function Hn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),zn(e)}}function Wn(e){var t=new x(wn(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new x(wn(t)):(h(t)?e._d=t:s(n)?qn(e):n?Bn(e):Kn(e),v(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(i.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):s(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),zn(e)):o(t)?Hn(e):u(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Yn(e,t,n,i,r){var a={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,Wn(a)}function Zn(e,t,n,i){return Yn(e,t,n,i,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Qn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Xn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Zn();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function $n(){return Jn("isBefore",[].slice.call(arguments,0))}function ei(){return Jn("isAfter",[].slice.call(arguments,0))}var ti=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){var t,n,i=!1,r=ni.length;for(t in e)if(a(e,t)&&(-1===Ve.call(ni,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[ni[n]]){if(i)return!1;parseFloat(e[ni[n]])!==ue(e[ni[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function si(){return Ci(NaN)}function oi(e){var t=re(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=ii(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=yn(),this._bubble()}function ai(e){return e instanceof oi}function li(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ci(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&ue(e[i])!==ue(t[i]))&&o++;return o+s}function ui(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}ui("Z",":"),ui("ZZ",""),Le("Z",Ae),Le("ZZ",Ae),ze(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=di(Ae,e)}));var hi=/([\+\-]|\d\d)/gi;function di(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(hi)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?i:-i}function fi(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(E(e)||h(e)?e.valueOf():Zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Zn(e).local()}function pi(e){return-Math.round(e._d.getTimezoneOffset())}function mi(e,t,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=di(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=pi(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?Oi(this,Ci(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pi(this)}function gi(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function vi(e){return this.utcOffset(0,e)}function yi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pi(this),"m")),this}function _i(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=di(Pe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wi(e){return!!this.isValid()&&(e=e?Zn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function bi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function xi(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Zn(t._a),this._isDSTShifted=this.isValid()&&ci(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ei(){return!!this.isValid()&&!this._isUTC}function Ti(){return!!this.isValid()&&this._isUTC}function Si(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var ki=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ii=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ci(e,t){var n,i,r,s=e,o=null;return ai(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(o=ki.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:ue(o[We])*n,h:ue(o[Ge])*n,m:ue(o[Ke])*n,s:ue(o[Ye])*n,ms:ue(li(1e3*o[Ze]))*n}):(o=Ii.exec(e))?(n="-"===o[1]?-1:1,s={y:Ni(o[2],n),M:Ni(o[3],n),w:Ni(o[4],n),d:Ni(o[5],n),h:Ni(o[6],n),m:Ni(o[7],n),s:Ni(o[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(r=Ai(Zn(s.from),Zn(s.to)),(s={}).ms=r.milliseconds,s.M=r.months),i=new oi(s),ai(e)&&a(e,"_locale")&&(i._locale=e._locale),ai(e)&&a(e,"_isValid")&&(i._isValid=e._isValid),i}function Ni(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Pi(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ai(e,t){var n;return e.isValid()&&t.isValid()?(t=fi(t,e),e.isBefore(t)?n=Pi(e,t):((n=Pi(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Di(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Oi(this,Ci(n,i),e),this}}function Oi(e,t,n,r){var s=t._milliseconds,o=li(t._days),a=li(t._months);e.isValid()&&(r=null==r||r,a&&ct(e,de(e,"Month")+a*n),o&&fe(e,"Date",de(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&i.updateOffset(e,o||a))}Ci.fn=oi.prototype,Ci.invalid=si;var Li=Di(1,"add"),Ri=Di(-1,"subtract");function Mi(e){return"string"===typeof e||e instanceof String}function Fi(e){return E(e)||h(e)||Mi(e)||u(e)||zi(e)||ji(e)||null===e||void 0===e}function ji(e){var t,n,i=o(e)&&!l(e),r=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=s.length;for(t=0;t<c;t+=1)n=s[t],r=r||a(e,n);return i&&r}function zi(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Mi(e)})).length),t&&n}function Ui(e){var t,n,i=o(e)&&!l(e),r=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=s[t],r=r||a(e,n);return i&&r}function Bi(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vi(e,t){1===arguments.length&&(arguments[0]?Fi(arguments[0])?(e=arguments[0],t=void 0):Ui(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Zn(),r=fi(n,this).startOf("day"),s=i.calendarFormat(this,r)||"sameElse",o=t&&(N(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Zn(n)))}function qi(){return new x(this)}function Hi(e,t){var n=E(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wi(e,t){var n=E(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gi(e,t,n,i){var r=E(e)?e:Zn(e),s=E(t)?t:Zn(t);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Ki(e,t){var n,i=E(e)?e:Zn(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ie(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qi(e,t,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=fi(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=ie(t)){case"year":s=Xi(this,i)/12;break;case"month":s=Xi(this,i);break;case"quarter":s=Xi(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:ce(s)}function Xi(e,t){if(e.date()<t.date())return-Xi(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Ji(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $i(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i,r="moment",s="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=s+'[")]',this.format(e+t+n+i)}function tr(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(E(e)&&e.isValid()||Zn(e).isValid())?Ci({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.from(Zn(),e)}function rr(e,t){return this.isValid()&&(E(e)&&e.isValid()||Zn(e).isValid())?Ci({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sr(e){return this.to(Zn(),e)}function or(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ar=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lr(){return this._locale}var cr=1e3,ur=60*cr,hr=60*ur,dr=3506328*hr;function fr(e,t){return(e%t+t)%t}function pr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-dr:new Date(e,t,n).valueOf()}function mr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-dr:Date.UTC(e,t,n)}function gr(e){var t,n;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:pr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fr(t+(this._isUTC?0:this.utcOffset()*ur),hr);break;case"minute":t=this._d.valueOf(),t-=fr(t,ur);break;case"second":t=this._d.valueOf(),t-=fr(t,cr)}return this._d.setTime(t),i.updateOffset(this,!0),this}function vr(e){var t,n;if(void 0===(e=ie(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mr:pr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hr-fr(t+(this._isUTC?0:this.utcOffset()*ur),hr)-1;break;case"minute":t=this._d.valueOf(),t+=ur-fr(t,ur)-1;break;case"second":t=this._d.valueOf(),t+=cr-fr(t,cr)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function yr(){return this._d.valueOf()-6e4*(this._offset||0)}function _r(){return Math.floor(this.valueOf()/1e3)}function wr(){return new Date(this.valueOf())}function br(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Er(){return this.isValid()?this.toISOString():null}function Tr(){return v(this)}function Sr(){return f({},g(this))}function kr(){return g(this).overflow}function Ir(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cr(e,t){var n,r,s,o=this._eras||yn("en")._eras;for(n=0,r=o.length;n<r;++n)switch("string"===typeof o[n].since&&(s=i(o[n].since).startOf("day"),o[n].since=s.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=i(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}return o}function Nr(e,t,n){var i,r,s,o,a,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(s=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[i];break;case"NNNN":if(s===e)return l[i];break;case"NNNNN":if(a===e)return l[i]}else if([s,o,a].indexOf(e)>=0)return l[i]}function Pr(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function Ar(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""}function Dr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""}function Or(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""}function Lr(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-i(s[e].since).year())*n+s[e].offset;return this.year()}function Rr(e){return a(this,"_erasNameRegex")||Vr.call(this),e?this._erasNameRegex:this._erasRegex}function Mr(e){return a(this,"_erasAbbrRegex")||Vr.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fr(e){return a(this,"_erasNarrowRegex")||Vr.call(this),e?this._erasNarrowRegex:this._erasRegex}function jr(e,t){return t.erasAbbrRegex(e)}function zr(e,t){return t.erasNameRegex(e)}function Ur(e,t){return t.erasNarrowRegex(e)}function Br(e,t){return t._eraYearOrdinalRegex||Ce}function Vr(){var e,t,n=[],i=[],r=[],s=[],o=this.eras();for(e=0,t=o.length;e<t;++e)i.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),r.push(Fe(o[e].narrow)),s.push(Fe(o[e].name)),s.push(Fe(o[e].abbr)),s.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function qr(e,t){U(0,[e,e.length],0,t)}function Hr(e){return Qr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wr(e){return Qr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gr(){return Et(this.year(),1,4)}function Kr(){return Et(this.isoWeekYear(),1,4)}function Yr(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Zr(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Qr(e,t,n,i,r){var s;return null==e?xt(this,i,r).year:(t>(s=Et(e,i,r))&&(t=s),Xr.call(this,e,t,n,i,r))}function Xr(e,t,n,i,r){var s=bt(e,t,n,i,r),o=_t(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Jr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Le("N",jr),Le("NN",jr),Le("NNN",jr),Le("NNNN",zr),Le("NNNNN",Ur),ze(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?g(n).era=r:g(n).invalidEra=e})),Le("y",Ce),Le("yy",Ce),Le("yyy",Ce),Le("yyyy",Ce),Le("yo",Br),ze(["y","yy","yyy","yyyy"],qe),ze(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,r):t[qe]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qr("gggg","weekYear"),qr("ggggg","weekYear"),qr("GGGG","isoWeekYear"),qr("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Le("G",Ne),Le("g",Ne),Le("GG",xe,ye),Le("gg",xe,ye),Le("GGGG",ke,we),Le("gggg",ke,we),Le("GGGGG",Ie,be),Le("ggggg",Ie,be),Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=ue(e)})),Ue(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Le("Q",ve),ze("Q",(function(e,t){t[He]=3*(ue(e)-1)})),U("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Le("D",xe),Le("DD",xe,ye),Le("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ze(["D","DD"],We),ze("Do",(function(e,t){t[We]=ue(e.match(xe)[0])}));var $r=he("Date",!0);function es(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Le("DDD",Se),Le("DDDD",_e),ze(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),U("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Le("m",xe),Le("mm",xe,ye),ze(["m","mm"],Ke);var ts=he("Minutes",!1);U("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Le("s",xe),Le("ss",xe,ye),ze(["s","ss"],Ye);var ns,is,rs=he("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Le("S",Se,ve),Le("SS",Se,ye),Le("SSS",Se,_e),ns="SSSS";ns.length<=9;ns+="S")Le(ns,Ce);function ss(e,t){t[Ze]=ue(1e3*("0."+e))}for(ns="S";ns.length<=9;ns+="S")ze(ns,ss);function os(){return this._isUTC?"UTC":""}function as(){return this._isUTC?"Coordinated Universal Time":""}is=he("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var ls=x.prototype;function cs(e){return Zn(1e3*e)}function us(){return Zn.apply(null,arguments).parseZone()}function hs(e){return e}ls.add=Li,ls.calendar=Vi,ls.clone=qi,ls.diff=Qi,ls.endOf=vr,ls.format=tr,ls.from=nr,ls.fromNow=ir,ls.to=rr,ls.toNow=sr,ls.get=pe,ls.invalidAt=kr,ls.isAfter=Hi,ls.isBefore=Wi,ls.isBetween=Gi,ls.isSame=Ki,ls.isSameOrAfter=Yi,ls.isSameOrBefore=Zi,ls.isValid=Tr,ls.lang=ar,ls.locale=or,ls.localeData=lr,ls.max=Xn,ls.min=Qn,ls.parsingFlags=Sr,ls.set=me,ls.startOf=gr,ls.subtract=Ri,ls.toArray=br,ls.toObject=xr,ls.toDate=wr,ls.toISOString=$i,ls.inspect=er,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Er,ls.toString=Ji,ls.unix=_r,ls.valueOf=yr,ls.creationData=Ir,ls.eraName=Ar,ls.eraNarrow=Dr,ls.eraAbbr=Or,ls.eraYear=Lr,ls.year=gt,ls.isLeapYear=vt,ls.weekYear=Hr,ls.isoWeekYear=Wr,ls.quarter=ls.quarters=Jr,ls.month=ut,ls.daysInMonth=ht,ls.week=ls.weeks=Ct,ls.isoWeek=ls.isoWeeks=Nt,ls.weeksInYear=Yr,ls.weeksInWeekYear=Zr,ls.isoWeeksInYear=Gr,ls.isoWeeksInISOWeekYear=Kr,ls.date=$r,ls.day=ls.days=Ht,ls.weekday=Wt,ls.isoWeekday=Gt,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=rs,ls.millisecond=ls.milliseconds=is,ls.utcOffset=mi,ls.utc=vi,ls.local=yi,ls.parseZone=_i,ls.hasAlignedHourOffset=wi,ls.isDST=bi,ls.isLocal=Ei,ls.isUtcOffset=Ti,ls.isUtc=Si,ls.isUTC=Si,ls.zoneAbbr=os,ls.zoneName=as,ls.dates=S("dates accessor is deprecated. Use date instead.",$r),ls.months=S("months accessor is deprecated. Use month instead",ut),ls.years=S("years accessor is deprecated. Use year instead",gt),ls.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),ls.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",xi);var ds=D.prototype;function fs(e,t,n,i){var r=yn(),s=p().set(i,t);return r[n](s,e)}function ps(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fs(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=fs(e,i,n,"month");return r}function ms(e,t,n,i){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,s=yn(),o=e?s._week.dow:0,a=[];if(null!=n)return fs(t,(n+o)%7,i,"day");for(r=0;r<7;r++)a[r]=fs(t,(r+o)%7,i,"day");return a}function gs(e,t){return ps(e,t,"months")}function vs(e,t){return ps(e,t,"monthsShort")}function ys(e,t,n){return ms(e,t,n,"weekdays")}function _s(e,t,n){return ms(e,t,n,"weekdaysShort")}function ws(e,t,n){return ms(e,t,n,"weekdaysMin")}ds.calendar=L,ds.longDateFormat=G,ds.invalidDate=Y,ds.ordinal=X,ds.preparse=hs,ds.postformat=hs,ds.relativeTime=$,ds.pastFuture=ee,ds.set=P,ds.eras=Cr,ds.erasParse=Nr,ds.erasConvertYear=Pr,ds.erasAbbrRegex=Mr,ds.erasNameRegex=Rr,ds.erasNarrowRegex=Fr,ds.months=st,ds.monthsShort=ot,ds.monthsParse=lt,ds.monthsRegex=ft,ds.monthsShortRegex=dt,ds.week=Tt,ds.firstDayOfYear=It,ds.firstDayOfWeek=kt,ds.weekdays=zt,ds.weekdaysMin=Bt,ds.weekdaysShort=Ut,ds.weekdaysParse=qt,ds.weekdaysRegex=Kt,ds.weekdaysShortRegex=Yt,ds.weekdaysMinRegex=Zt,ds.isPM=tn,ds.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",mn),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",yn);var bs=Math.abs;function xs(){var e=this._data;return this._milliseconds=bs(this._milliseconds),this._days=bs(this._days),this._months=bs(this._months),e.milliseconds=bs(e.milliseconds),e.seconds=bs(e.seconds),e.minutes=bs(e.minutes),e.hours=bs(e.hours),e.months=bs(e.months),e.years=bs(e.years),this}function Es(e,t,n,i){var r=Ci(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Ts(e,t){return Es(this,e,t,1)}function Ss(e,t){return Es(this,e,t,-1)}function ks(e){return e<0?Math.floor(e):Math.ceil(e)}function Is(){var e,t,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*ks(Ns(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=ce(s/1e3),l.seconds=e%60,t=ce(e/60),l.minutes=t%60,n=ce(t/60),l.hours=n%24,o+=ce(n/24),a+=r=ce(Cs(o)),o-=ks(Ns(r)),i=ce(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function Cs(e){return 4800*e/146097}function Ns(e){return 146097*e/4800}function Ps(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=ie(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Cs(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ns(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function As(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function Ds(e){return function(){return this.as(e)}}var Os=Ds("ms"),Ls=Ds("s"),Rs=Ds("m"),Ms=Ds("h"),Fs=Ds("d"),js=Ds("w"),zs=Ds("M"),Us=Ds("Q"),Bs=Ds("y");function Vs(){return Ci(this)}function qs(e){return e=ie(e),this.isValid()?this[e+"s"]():NaN}function Hs(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ws=Hs("milliseconds"),Gs=Hs("seconds"),Ks=Hs("minutes"),Ys=Hs("hours"),Zs=Hs("days"),Qs=Hs("months"),Xs=Hs("years");function Js(){return ce(this.days()/7)}var $s=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function no(e,t,n,i){var r=Ci(e).abs(),s=$s(r.as("s")),o=$s(r.as("m")),a=$s(r.as("h")),l=$s(r.as("d")),c=$s(r.as("M")),u=$s(r.as("w")),h=$s(r.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=i,to.apply(null,d)}function io(e){return void 0===e?$s:"function"===typeof e&&($s=e,!0)}function ro(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function so(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,s=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(s=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),i=no(this,!r,s,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var oo=Math.abs;function ao(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,s,o,a,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),h=this.asSeconds();return h?(e=ce(l/60),t=ce(e/60),l%=60,e%=60,n=ce(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",s=ao(this._months)!==ao(h)?"-":"",o=ao(this._days)!==ao(h)?"-":"",a=ao(this._milliseconds)!==ao(h)?"-":"",r+"P"+(n?s+n+"Y":"")+(u?s+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+i+"S":"")):"P0D"}var co=oi.prototype;return co.isValid=ri,co.abs=xs,co.add=Ts,co.subtract=Ss,co.as=Ps,co.asMilliseconds=Os,co.asSeconds=Ls,co.asMinutes=Rs,co.asHours=Ms,co.asDays=Fs,co.asWeeks=js,co.asMonths=zs,co.asQuarters=Us,co.asYears=Bs,co.valueOf=As,co._bubble=Is,co.clone=Vs,co.get=qs,co.milliseconds=Ws,co.seconds=Gs,co.minutes=Ks,co.hours=Ys,co.days=Zs,co.weeks=Js,co.months=Qs,co.years=Xs,co.humanize=so,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=or,co.localeData=lr,co.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=ar,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Le("x",Ne),Le("X",De),ze("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ze("x",(function(e,t,n){n._d=new Date(ue(e))})),i.version="2.29.4",r(Zn),i.fn=ls,i.min=$n,i.max=ei,i.now=ti,i.utc=p,i.unix=cs,i.months=gs,i.isDate=h,i.locale=mn,i.invalid=y,i.duration=Ci,i.isMoment=E,i.weekdays=ys,i.parseZone=us,i.localeData=yn,i.isDuration=ai,i.monthsShort=vs,i.weekdaysMin=ws,i.defineLocale=gn,i.updateLocale=vn,i.locales=_n,i.weekdaysShort=_s,i.normalizeUnits=ie,i.relativeTimeRounding=io,i.relativeTimeThreshold=ro,i.calendarFormat=Bi,i.prototype=ls,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},573:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}))};var i,r=n(54),s=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},54:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,i,r,s,o){var a=r||"<<anonymous>>",l=o||i;if(null==n[i])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,i,a,s,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:(e,t,n)=>{"use strict";var i=n(47);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},7:(e,t,n)=>{e.exports=n(888)()},47:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:(e,t,n)=>{"use strict";var i=n(791),r=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=W(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Te=null;function Se(e){if(e=_r(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=br(t),xe(e.stateNode,e.type,t))}}function ke(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Te)&&(Ne(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var i=br(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Oe=!1}function Re(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,ze=null,Ue={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,i,r,s,o,a,l){Me=!1,Fe=null,Re.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return He(r),e;if(o===i)return He(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Ze=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Xe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ht(a):0!==(s&=o)&&(i=ht(s))}else 0!==(o=n&~r)?i=ht(o):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Et,Tt,St,kt=!1,It=[],Ct=null,Nt=null,Pt=null,At=new Map,Dt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&xt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ft(e){var t=yr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&xt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Ut(){kt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Pt&&jt(Pt)&&(Pt=null),At.forEach(zt),Dt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var i=It[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(i=Ot[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,i){var r=_t,s=qt.transition;qt.transition=null;try{_t=1,Kt(e,t,n,i)}finally{_t=r,qt.transition=s}}function Gt(e,t,n,i){var r=_t,s=qt.transition;qt.transition=null;try{_t=4,Kt(e,t,n,i)}finally{_t=r,qt.transition=s}}function Kt(e,t,n,i){if(Ht){var r=Zt(e,t,n,i);if(null===r)Hi(e,t,i,Yt,n),Rt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,i,r),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,i,r),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Dt.set(s,Mt(Dt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Rt(e,i),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var s=_r(r);if(null!==s&&bt(s),null===(s=Zt(e,t,n,i))&&Hi(e,t,i,Yt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Yt=null;function Zt(e,t,n,i){if(Yt=null,null!==(e=yr(e=be(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,i=n.length,r="value"in Xt?Xt.value:Xt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),wn=sn(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Tn}var kn=F({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(kn),Cn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),On=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Rn,Fn=u&&(!Ln||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,i){ke(i),0<(t=Gi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){ji(e,0)}function Zn(e){if(K(wr(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Jn=$n}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Gn&&(Gn.detachEvent("onpropertychange",ni),Kn=Gn=null)}function ni(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Wn(t,Kn,e,be(e)),Ae(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(Gn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function si(e,t){if("click"===e)return Zn(t)}function oi(e,t){if("input"===e||"change"===e)return Zn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!ai(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var o=ui(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,yi=null,_i=!1;function wi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==Y(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Gi(vi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ei={},Ti={};function Si(e){if(Ei[e])return Ei[e];if(!xi[e])return e;var t,n=xi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ti)return Ei[e]=n[t];return e}u&&(Ti=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);var ki=Si("animationend"),Ii=Si("animationiteration"),Ci=Si("animationstart"),Ni=Si("transitionend"),Pi=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Pi.set(e,t),l(t,[e])}for(var Oi=0;Oi<Ai.length;Oi++){var Li=Ai[Oi];Di(Li.toLowerCase(),"on"+(Li[0].toUpperCase()+Li.slice(1)))}Di(ki,"onAnimationEnd"),Di(Ii,"onAnimationIteration"),Di(Ci,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ni,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,ze=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Fi(r,a,c),s=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Bi]){e[Bi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mi.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bi]||(t[Bi]=!0,Ui("selectionchange",!1,t))}}function qi(e,t,n,i){switch(Qt(t)){case 1:var r=Wt;break;case 4:r=Gt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=yr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}Ae((function(){var i=s,r=be(n),o=[];e:{var a=Pi.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case ki:case Ii:case Ci:l=vn;break;case Ni:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Wi(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yr(c)&&!c[pr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?yr(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wr(l),f=null==c?a:wr(c),(a=new u(m,p+"leave",l,n,r)).target=h,a.relatedTarget=f,m=null,yr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Ki(f))p++;for(f=0,m=d;m;m=Ki(m))f++;for(;0<p-f;)u=Ki(u),p--;for(;0<f-p;)d=Ki(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Yi(o,a,l,u,!1),null!==c&&null!==h&&Yi(o,h,c,u,!0)}if("select"===(l=(a=i?wr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Hn(a))if(Xn)g=oi;else{g=ri;var v=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=si);switch(g&&(g=g(e,i))?Wn(o,g,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?wr(i):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,yi=null);break;case"focusout":yi=vi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,wi(o,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":wi(o,n,r)}var y;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Vn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Vn&&(y=en()):(Jt="value"in(Xt=r)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Gi(i,_)).length&&(_=new wn(_,e,null,n,r),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=Bn(n))&&(_.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),$t=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}ji(o,t)}))}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=De(e,n))&&i.unshift(Wi(e,s,r)),null!=(s=De(e,t))&&i.push(Wi(e,s,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=De(n,s))&&o.unshift(Wi(n,l,a)):r||null!=(l=De(n,s))&&o.push(Wi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Xi(e){return("string"===typeof e?e:""+e).replace(Zi,"\n").replace(Qi,"")}function Ji(e,t,n){if(t=Xi(t),Xi(e)!==t&&n)throw Error(s(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,or="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(ar)}:ir;function ar(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,vr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function br(e){return e[fr]||null}var xr=[],Er=-1;function Tr(e){return{current:e}}function Sr(e){0>Er||(e.current=xr[Er],xr[Er]=null,Er--)}function kr(e,t){Er++,xr[Er]=e.current,e.current=t}var Ir={},Cr=Tr(Ir),Nr=Tr(!1),Pr=Ir;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Ir;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Sr(Nr),Sr(Cr)}function Lr(e,t,n){if(Cr.current!==Ir)throw Error(s(168));kr(Cr,t),kr(Nr,n)}function Rr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return F({},n,i)}function Mr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,Pr=Cr.current,kr(Cr,e),kr(Nr,Nr.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Rr(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Nr),Sr(Cr),kr(Cr,e)):Sr(Nr),kr(Nr,n)}var jr=null,zr=!1,Ur=!1;function Br(e){null===jr?jr=[e]:jr.push(e)}function Vr(){if(!Ur&&null!==jr){Ur=!0;var e=0,t=_t;try{var n=jr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jr=null,zr=!1}catch(r){throw null!==jr&&(jr=jr.slice(e+1)),Ke($e,Vr),r}finally{_t=t,Ur=!1}}return null}var qr=[],Hr=0,Wr=null,Gr=0,Kr=[],Yr=0,Zr=null,Qr=1,Xr="";function Jr(e,t){qr[Hr++]=Gr,qr[Hr++]=Wr,Wr=e,Gr=t}function $r(e,t,n){Kr[Yr++]=Qr,Kr[Yr++]=Xr,Kr[Yr++]=Zr,Zr=e;var i=Qr;e=Xr;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Qr=1<<32-ot(t)+r|n<<r|i,Xr=s+e}else Qr=1<<s|n<<r|i,Xr=e}function es(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function ts(e){for(;e===Wr;)Wr=qr[--Hr],qr[Hr]=null,Gr=qr[--Hr],qr[Hr]=null;for(;e===Zr;)Zr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null,Qr=Kr[--Yr],Kr[Yr]=null}var ns=null,is=null,rs=!1,ss=null;function os(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zr?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&as(e,t)?os(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function fs(){is=ns=null,rs=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Tr(null),ys=null,_s=null,ws=null;function bs(){ws=_s=ys=null}function xs(e){var t=vs.current;Sr(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){ys=e,ws=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ss(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ys)throw Error(s(308));_s=e,ys.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var ks=null;function Is(e){null===ks?ks=[e]:ks.push(e)}function Cs(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Is(t)):(n.next=r.next,r.next=n),t.interleaved=n,Ns(e,i)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Nl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Ns(e,n)}return null===(r=i.interleaved)?(t.next=t,Is(i)):(t.next=r.next,r.next=t),i.interleaved=t,Ns(e,n)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,i){var r=e.updateQueue;Ps=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var zs=(new i.Component).refs;function Us(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Os(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,r))&&(ic(t,e,r,i),Rs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Os(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,r))&&(ic(t,e,r,i),Rs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Os(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ls(e,r,i))&&(ic(t,e,i,n),Rs(t,e,i))}};function Vs(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function qs(e,t,n){var i=!1,r=Ir,s=t.contextType;return"object"===typeof s&&null!==s?s=Ss(s):(r=Dr(t)?Pr:Cr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ar(e,r):Ir),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=zs,As(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ss(s):(s=Dr(t)?Pr:Cr.current,r.context=Ar(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Bs.enqueueReplaceState(r,r.state,null),Fs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===zs&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ys(e){return(0,e._init)(e._payload)}function Zs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===E?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Ys(s)===t.type)?((i=r(t,n.props)).ref=Gs(e,t,n),i.return=e,i):((i=Rc(n.type,n.key,n.props,null,e.mode,i)).ref=Gs(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?c(e,t,n,i):null;case x:return n.key===r?u(e,t,n,i):null;case D:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||R(n))return null!==r?null:h(e,t,n,i,null);Ks(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case b:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case D:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||R(i))return h(t,e=e.get(n)||null,i,r,null);Ks(t,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(r,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(r,h),rs&&Jr(r,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return rs&&Jr(r,m),c}for(h=i(r,h);m<a.length;m++)null!==(g=p(h,r,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),rs&&Jr(r,m),c}function g(r,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=f(r,m,y.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(r,m),a=o(_,a,g),null===h?u=_:h.sibling=_,h=_,m=v}if(y.done)return n(r,m),rs&&Jr(r,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return rs&&Jr(r,g),u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=p(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(r,e)})),rs&&Jr(r,g),u}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ys(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Gs(i,u,o),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===E?((s=Mc(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=Rc(o.type,o.key,o.props,null,i.mode,l)).ref=Gs(i,s,o),l.return=i,i=l)}return a(i);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=zc(o,i.mode,l)).return=i,i=s}return a(i);case D:return e(i,s,(u=o._init)(o._payload),l)}if(te(o))return m(i,s,o,l);if(R(o))return g(i,s,o,l);Ks(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=jc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Qs=Zs(!0),Xs=Zs(!1),Js={},$s=Tr(Js),eo=Tr(Js),to=Tr(Js);function no(e){if(e===Js)throw Error(s(174));return e}function io(e,t){switch(kr(to,t),kr(eo,e),kr($s,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr($s),kr($s,t)}function ro(){Sr($s),Sr(eo),Sr(to)}function so(e){no(to.current);var t=no($s.current),n=le(t,e.type);t!==n&&(kr(eo,e),kr($s,n))}function oo(e){eo.current===e&&(Sr($s),Sr(eo))}var ao=Tr(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=w.ReactCurrentDispatcher,fo=w.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,_o=!1,wo=0,bo=0;function xo(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function To(e,t,n,i,r,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(i,r),_o){o=0;do{if(_o=!1,wo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(i,r)}while(_o)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function So(){var e=0!==wo;return wo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Io(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,mo.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(wa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,mo.lanes|=o,Fl|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ai(o,t.memoizedState)||(wa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ao(){}function Do(e,t){var n=mo,i=Io(),r=t(),o=!ai(i.memoizedState,r);if(o&&(i.memoizedState=r,wa=!0),i=i.queue,Ho(Ro.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,zo(9,Lo.bind(null,n,i,r,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&po)||Oo(n,t,r)}return r}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,i){t.value=n,t.getSnapshot=i,Mo(t)&&Fo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&ic(t,e,1,-1)}function jo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Bo(e,t,n,i){var r=ko();mo.flags|=e,r.memoizedState=zo(1|t,n,void 0,void 0===i?null:i)}function Vo(e,t,n,i){var r=Io();i=void 0===i?null:i;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==i&&Eo(i,o.deps))return void(r.memoizedState=zo(t,n,s,i))}mo.flags|=e,r.memoizedState=zo(1|t,n,s,i)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Zo(){}function Qo(e,t){var n=Io();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Eo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Eo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ai(n,t)||(n=mt(),mo.lanes|=n,Fl|=n,e.baseState=!0),t)}function $o(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=i}}function ea(){return Io().memoizedState}function ta(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ia(e))ra(t,n);else if(null!==(n=Cs(e,t,n,i))){ic(n,e,i,tc()),sa(n,t,i)}}function na(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ia(e))ra(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ai(a,o)){var l=t.interleaved;return null===l?(r.next=r,Is(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Cs(e,t,r,i))&&(ic(n,e,i,r=tc()),sa(n,t,i))}}function ia(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ra(e,t){_o=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ss,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},aa={readContext:Ss,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ss,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ko();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ta.bind(null,mo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:jo,useDebugValue:Zo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=$o.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mo,r=ko();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&po)||Oo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,qo(Ro.bind(null,i,o,e),[e]),i.flags|=2048,zo(9,Lo.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Pl.identifierPrefix;if(rs){var n=Xr;t=":"+t+"R"+(n=(Qr&~(1<<32-ot(Qr)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ss,useCallback:Qo,useContext:Ss,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Zo,useDeferredValue:function(e){return Jo(Io(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ss,useCallback:Qo,useContext:Ss,useEffect:Ho,useImperativeHandle:Yo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:Po,useRef:Uo,useState:function(){return Po(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=Io();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",i=t;do{n+=B(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=i),da(0,t)},n}function ma(e,t,n){(n=Os(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new fa;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Ls(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var _a=w.ReactCurrentOwner,wa=!1;function ba(e,t,n,i){t.child=null===e?Xs(t,null,n,i):Qs(t,e.child,n,i)}function xa(e,t,n,i,r){n=n.render;var s=t.ref;return Ts(t,r),i=To(e,t,n,i,s,r),n=So(),null===e||wa?(rs&&n&&es(t),t.flags|=1,ba(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function Ea(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ta(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(o,i)&&e.ref===t.ref)return Wa(e,t,r)}return t.flags|=1,(e=Lc(s,i)).ref=t.ref,e.return=t,t.child=e}function Ta(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(wa=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Wa(e,t,r);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,i,r)}function Sa(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Ll,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Ll,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,kr(Ll,Ol),Ol|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,kr(Ll,Ol),Ol|=i;return ba(e,t,r,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,i,r){var s=Dr(n)?Pr:Cr.current;return s=Ar(t,s),Ts(t,r),n=To(e,t,n,i,s,r),i=So(),null===e||wa?(rs&&i&&es(t),t.flags|=1,ba(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wa(e,t,r))}function Ca(e,t,n,i,r){if(Dr(n)){var s=!0;Mr(t)}else s=!1;if(Ts(t,r),null===t.stateNode)Ha(e,t),qs(t,n,i),Ws(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ss(c):c=Ar(t,c=Dr(n)?Pr:Cr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&Hs(t,o,i,c),Ps=!1;var d=t.memoizedState;o.state=d,Fs(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Nr.current||Ps?("function"===typeof u&&(Us(t,n,u,i),l=t.memoizedState),(a=Ps||Vs(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ss(l):l=Ar(t,l=Dr(n)?Pr:Cr.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Hs(t,o,i,l),Ps=!1,d=t.memoizedState,o.state=d,Fs(t,i,o,r);var p=t.memoizedState;a!==h||d!==p||Nr.current||Ps?("function"===typeof f&&(Us(t,n,f,i),p=t.memoizedState),(c=Ps||Vs(t,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Na(e,t,n,i,s,r)}function Na(e,t,n,i,r,s){ka(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Fr(t,n,!1),Wa(e,t,s);i=t.stateNode,_a.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Qs(t,e.child,null,s),t.child=Qs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),io(e,t.containerInfo)}function Aa(e,t,n,i,r){return fs(),ps(r),t.flags|=256,ba(e,t,n,i),t.child}var Da,Oa,La,Ra,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var i,r=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),kr(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,r,0,null),e=Mc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):za(t,l));if(null!==(o=e.memoizedState)&&null!==(i=o.dehydrated))return function(e,t,n,i,r,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,i=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=Fc({mode:"visible",children:i.children},r,0,null),(o=Mc(o,r,a,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,0!==(1&t.mode)&&Qs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Ua(e,t,a,i=ha(o=Error(s(419)),i,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(i=Pl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|a))?0:r)&&r!==o.retryLane&&(o.retryLane=r,Ns(e,r),ic(i,e,r,-1))}return gc(),Ua(e,t,a,i=ha(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Kr[Yr++]=Qr,Kr[Yr++]=Xr,Kr[Yr++]=Zr,Qr=e.id,Xr=e.overflow,Zr=t),t=za(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,o,n);if(a){a=r.fallback,l=t.mode,i=(o=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==i?a=Lc(i,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,r}return e=(a=e.child).sibling,r=Lc(a,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,i){return null!==i&&ps(i),Qs(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Es(e.return,t,n)}function Va(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qa(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ba(e,t,i.children,n),0!==(2&(i=ao.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(kr(ao,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Va(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===lo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ya(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Dr(t.type)&&Or(),Ka(t),null;case 3:return i=t.stateNode,ro(),Sr(Nr),Sr(Cr),uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oa(e,t),Ka(t),null;case 5:oo(t);var r=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=no($s.current),hs(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[dr]=t,i[fr]=o,e=0!==(1&t.mode),n){case"dialog":zi("cancel",i),zi("close",i);break;case"iframe":case"object":case"embed":zi("load",i);break;case"video":case"audio":for(r=0;r<Ri.length;r++)zi(Ri[r],i);break;case"source":zi("error",i);break;case"img":case"image":case"link":zi("error",i),zi("load",i);break;case"details":zi("toggle",i);break;case"input":Q(i,o),zi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},zi("invalid",i);break;case"textarea":re(i,o),zi("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zi("scroll",i)}switch(n){case"input":G(i),$(i,o,!0);break;case"textarea":G(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[fr]=i,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":zi("cancel",e),zi("close",e),r=i;break;case"iframe":case"object":case"embed":zi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ri.length;r++)zi(Ri[r],e);r=i;break;case"source":zi("error",e),r=i;break;case"img":case"image":case"link":zi("error",e),zi("load",e),r=i;break;case"details":zi("toggle",e),r=i;break;case"input":Q(e,i),r=Z(e,i),zi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=F({},i,{value:void 0}),zi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),zi("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zi("scroll",e):null!=u&&_(e,o,u,l))}switch(n){case"input":G(e),$(e,i,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no($s.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(o=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ka(t),null;case 13:if(Sr(ao),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[dr]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return ro(),Oa(e,t),null===e&&Vi(t.stateNode.containerInfo),Ka(t),null;case 10:return xs(t.type._context),Ka(t),null;case 19:if(Sr(ao),null===(o=t.memoizedState))return Ka(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)Ga(o,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,i=!0,Ga(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=lo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!rs)return Ka(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,i=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,kr(ao,i?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Za(e,t){switch(ts(t),t.tag){case 1:return Dr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ro(),Sr(Nr),Sr(Cr),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Sr(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(ao),null;case 4:return ro(),null;case 10:return xs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},La=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,no($s.current);var s,o=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),o=[];break;case"select":r=F({},r,{value:void 0}),i=F({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,i){n!==i&&(t.flags|=4)};var Qa=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[fr],delete t[mr],delete t[gr],delete t[vr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var i=hl,r=dl;hl=null,fl(e,t,n),dl=r,null!==(hl=i)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),r=r.next}while(r!==i)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Sc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(i=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=i):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var i=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Sc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){Sc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(r,o),_e(l,a);var u=_e(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,u)}switch(l){case"input":J(r,o);break;case"textarea":se(r,o);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(r,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(r,!!o.multiple,o.defaultValue,!0):ne(r,!!o.multiple,o.multiple?[]:"",!1))}r[fr]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(r=e.child).flags&&(o=null!==r.memoizedState,r.stateNode.isHidden=o,!o||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Xe())),4&i&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),yl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(i,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,$a=p):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(o=r.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&i&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var o=i.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){$a=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==$a;){var r=$a,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Qa;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var c=Xa;if(Qa=o,(Xa=l)&&!c)for($a=r;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?El(r):null!==l?(l.return=o,$a=l):El(r);for(;null!==s;)$a=s,wl(s,t,n),s=s.sibling;$a=r,Qa=a,Xa=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$a=s):bl(e)}}function bl(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Xa)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&js(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function xl(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function El(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Sc(t,r,l)}}var s=t.return;try{sl(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Tl,Sl=Math.ceil,kl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Pl=null,Al=null,Dl=0,Ol=0,Ll=Tr(0),Rl=0,Ml=null,Fl=0,jl=0,zl=0,Ul=null,Bl=null,Vl=0,ql=1/0,Hl=null,Wl=!1,Gl=null,Kl=null,Yl=!1,Zl=null,Ql=0,Xl=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Xe():-1!==$l?$l:$l=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ic(e,t,n,i){if(50<Xl)throw Xl=0,Jl=null,Error(s(185));vt(e,n,i),0!==(2&Nl)&&e===Pl||(e===Pl&&(0===(2&Nl)&&(jl|=n),4===Rl&&lc(e,Dl)),rc(e,i),1===n&&0===Nl&&0===(1&t.mode)&&(ql=Xe()+500,zr&&Vr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===Pl?Dl:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zr=!0,Br(e)}(cc.bind(null,e)):Br(cc.bind(null,e)),or((function(){0===(6&Nl)&&Vr()})),n=null;else{switch(wt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var i=dt(e,e===Pl?Dl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=vc(e,i);else{t=i;var r=Nl;Nl|=2;var o=mc();for(Pl===e&&Dl===t||(Hl=null,ql=Xe()+500,fc(e,t));;)try{_c();break}catch(l){pc(e,l)}bs(),kl.current=o,Nl=r,null!==Al?t=0:(Pl=null,Dl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=oc(e,r))),1===t)throw n=Ml,fc(e,0),lc(e,i),rc(e,Xe()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ai(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,i))&&(0!==(o=pt(e))&&(i=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,i),rc(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Vl+500-Xe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(xc.bind(null,e,Bl,Hl),i);break}xc(e,Bl,Hl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=oc(e,i))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),rc(e,Xe()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=Xe()+500,zr&&Vr())}}function hc(e){null!==Zl&&0===Zl.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=Cl.transition,i=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=i,Cl.transition=n,0===(6&(Nl=t))&&Vr()}}function dc(){Ol=Ll.current,Sr(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Al)for(n=Al.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Or();break;case 3:ro(),Sr(Nr),Sr(Cr),uo();break;case 5:oo(i);break;case 4:ro();break;case 13:case 19:Sr(ao);break;case 10:xs(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Al=e=Lc(e.current,null),Dl=Ol=t,Rl=0,Ml=null,zl=jl=Fl=0,Bl=Ul=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(i=(n=ks[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}ks=null}return e}function pc(e,t){for(;;){var n=Al;try{if(bs(),ho.current=oa,yo){for(var i=mo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}yo=!1}if(po=0,vo=go=mo=null,_o=!1,wo=0,Il.current=null,null===n||null===n.return){Rl=1,Ml=t,Al=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Rl&&(Rl=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Pl,Dl)}function vc(e,t){var n=Nl;Nl|=2;var i=mc();for(Pl===e&&Dl===t||(Hl=null,fc(e,t));;)try{yc();break}catch(r){pc(e,r)}if(bs(),Nl=n,kl.current=i,null!==Al)throw Error(s(261));return Pl=null,Dl=0,Rl}function yc(){for(;null!==Al;)wc(Al)}function _c(){for(;null!==Al&&!Ze();)wc(Al)}function wc(e){var t=Tl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Il.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ya(n,t,Ol)))return void(Al=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function xc(e,t,n){var i=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,i){do{Ec()}while(null!==Zl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===Pl&&(Al=Pl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=_t;_t=1;var l=Nl;Nl|=4,Il.current=null,function(e,t){if(er=Ht,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),vl(n,e),pi(tr),Ht=!!er,tr=er=null,e.current=n,_l(n,e,r),Qe(),Nl=l,_t=a,Cl.transition=o}else e.current=n;if(Yl&&(Yl=!1,Zl=e,Ql=r),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Ql)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Vr()}(e,t,n,i)}finally{Cl.transition=r,_t=i}return null}function Ec(){if(null!==Zl){var e=wt(Ql),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Zl)var i=!1;else{if(e=Zl,Zl=null,Ql=0,0!==(6&Nl))throw Error(s(331));var r=Nl;for(Nl|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(ol(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break e}$a=o.return}}var _=e.current;for($a=_;null!==$a;){var w=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,$a=w;else e:for(a=_;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Sc(l,l.return,x)}if(l===a){$a=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$a=b;break e}$a=l.return}}if(Nl=r,Vr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(x){}i=!0}return i}finally{_t=n,Cl.transition=t}}return!1}function Tc(e,t,n){e=Ls(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){t=Ls(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Dl&n)===n&&(4===Rl||3===Rl&&(130023424&Dl)===Dl&&500>Xe()-Vl?fc(e,0):zl|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Ic(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,i){return new Ac(e,t,n,i)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,r,o,t);case T:a=8,r|=8;break;case S:return(e=Dc(12,n,t,2|r)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,r)).elementType=N,e.lanes=o,e;case P:return(e=Dc(19,n,t,r)).elementType=P,e.lanes=o,e;case O:return Fc(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case I:a=9;break e;case C:a=11;break e;case A:a=14;break e;case D:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Mc(e,t,n,i){return(e=Dc(7,e,i,t)).lanes=n,e}function Fc(e,t,n,i){return(e=Dc(22,e,i,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,s,o,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function Vc(e){if(!e)return Ir;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Dr(n))return Rr(e,n,t)}return t}function qc(e,t,n,i,r,s,o,a,l){return(e=Bc(n,i,!0,e,0,s,0,a,l)).context=Vc(null),n=e.current,(s=Os(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Ls(n,s,r),e.current.lanes=r,vt(e,r,i),rc(e,i),e}function Hc(e,t,n,i){var r=t.current,s=tc(),o=nc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Ls(r,t,o))&&(ic(e,r,o,s),Rs(e,r,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Nr.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),fs();break;case 5:so(t);break;case 1:Dr(t.type)&&Mr(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;kr(vs,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(kr(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(kr(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);kr(ao,1&ao.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(ao,ao.current),i)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Wa(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,rs&&0!==(1048576&t.flags)&&$r(t,Gr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ha(e,t),e=t.pendingProps;var r=Ar(t,Cr.current);Ts(t,n),r=To(null,t,i,e,r,n);var o=So();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(i)?(o=!0,Mr(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,As(t),r.updater=Bs,t.stateNode=r,r._reactInternals=t,Ws(t,i,e,n),t=Na(null,t,i,!0,o,n)):(t.tag=0,rs&&o&&es(t),ba(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(i),e=gs(i,e),r){case 0:t=Ia(null,t,i,e,n);break e;case 1:t=Ca(null,t,i,e,n);break e;case 11:t=xa(null,t,i,e,n);break e;case 14:t=Ea(null,t,i,gs(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ia(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ca(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,Ds(e,t),Fs(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Aa(e,t,i,n,r=ua(Error(s(423)),t));break e}if(i!==r){t=Aa(e,t,i,n,r=ua(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Xs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),i===r){t=Wa(e,t,n);break e}ba(e,t,i,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,nr(i,r)?a=null:null!==o&&nr(i,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return ja(e,t,n);case 4:return io(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Qs(t,null,i,n):ba(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xa(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,kr(vs,i._currentValue),i._currentValue=a,null!==o)if(ai(o.value,a)){if(o.children===r.children&&!Nr.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Ts(t,n),i=i(r=Ss(r)),t.flags|=1,ba(e,t,i,n),t.child;case 14:return r=gs(i=t.type,t.pendingProps),Ea(e,t,i,r=gs(i.type,r),n);case 15:return Ta(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gs(i,r),Ha(e,t),t.tag=1,Dr(i)?(e=!0,Mr(t)):e=!1,Ts(t,n),qs(t,i,r),Ws(t,i,r,n),Na(null,t,i,!0,e,n);case 19:return qa(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}Hc(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}var o=qc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pr]=o.current,Vi(8===e.nodeType?e.parentNode:e),hc(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Wc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pr]=l.current,Vi(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,i)})),l}(n,t,e,r,i);return Wc(o)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[pr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Nl)&&(ql=Xe()+500,Vr()))}break;case 13:hc((function(){var t=Ns(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)ic(t,e,134217728,tc());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)ic(n,e,t,tc());Kc(e,t)}},Tt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=br(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[_r,wr,br,ke,Ie,uc]},nu={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,i="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,o,a),e[pr]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var i=n(164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var i=n(791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=_.prototype=new y;w.constructor=_,m(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!T.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,b(o)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),N(o,t,r,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+C(a=e[c],c);l+=N(a,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,r,u=s+C(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],r=0;return N(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},L={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!T.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function b(e){if(g=!1,w(e),!m)if(null!==i(c))m=!0,O(x);else{var t=i(u);null!==t&&L(b,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&L(b,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,k=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function P(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?E():(T=!1,S=null)}}else T=!1}if("function"===typeof _)E=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=P,E=function(){D.postMessage(null)}}else E=function(){v(P,0)};function O(e){S=e,T||(T=!0,E())}function L(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(g?(y(k),k=-1):g=!0,L(b,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},391:e=>{"use strict";var t=function(){};e.exports=t}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".22c16144.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="bryllupsside:";n.l=(i,r,s,o)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[r];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var s=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var r,s,o=i[0],a=i[1],l=i[2],c=0;if(o.some((t=>0!==e[t]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkbryllupsside=self.webpackChunkbryllupsside||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>As,SDK_VERSION:()=>Ro,_DEFAULT_ENTRY_NAME:()=>Eo,_addComponent:()=>Io,_addOrOverwriteComponent:()=>Co,_apps:()=>So,_clearComponents:()=>Do,_components:()=>ko,_getProvider:()=>Po,_registerComponent:()=>No,_removeServiceInstance:()=>Ao,deleteApp:()=>zo,getApp:()=>Fo,getApps:()=>jo,initializeApp:()=>Mo,onLog:()=>Bo,registerVersion:()=>Uo,setLogLevel:()=>Vo});var t=n(791),i=n(250),r=n(694),s=n.n(r),o=n(184);const a=["xxl","xl","lg","md","sm","xs"],l="xs",c=t.createContext({prefixes:{},breakpoints:a,minBreakpoint:l}),{Consumer:u,Provider:h}=c;function d(e,n){const{prefixes:i}=(0,t.useContext)(c);return e||i[n]||n}function f(){const{breakpoints:e}=(0,t.useContext)(c);return e}function p(){const{minBreakpoint:e}=(0,t.useContext)(c);return e}function m(){const{dir:e}=(0,t.useContext)(c);return"rtl"===e}const g=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:i=!1,as:r="div",className:a,...l}=e;const c=d(n,"container"),u="string"===typeof i?"-".concat(i):"-fluid";return(0,o.jsx)(r,{ref:t,...l,className:s()(a,i?"".concat(c).concat(u):c)})}));g.displayName="Container";const v=g;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)}var _;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_||(_={}));const w="popstate";function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function T(e,t,n,i){return void 0===n&&(n=null),y({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function S(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function I(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=_.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a=_.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:S(e);return b(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(y({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(r,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(w,h),l=e,()=>{r.removeEventListener(w,h),l=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=_.Push;let i=T(f.location,e,t);n&&n(i,e),c=u()+1;let h=E(i,c),d=f.createHref(i);try{o.pushState(h,"",d)}catch(p){r.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=_.Replace;let i=T(f.location,e,t);n&&n(i,e),c=u();let r=E(i,c),h=f.createHref(i);o.replaceState(r,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var C;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function N(e,t,n){void 0===n&&(n="/");let i=q(("string"===typeof t?k(t):t).pathname||"/",n);if(null==i)return null;let r=P(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let o=0;null==s&&o<r.length;++o)s=U(r[o],V(i));return s}function P(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};o.relativePath.startsWith("/")&&(b(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=K([i,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),P(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:z(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of A(e.path))r(e,t,i);else r(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let o=A(i.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),r&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const D=/^:\w+$/,O=3,L=2,R=1,M=10,F=-2,j=e=>"*"===e;function z(e,t){let n=e.split("/"),i=n.length;return n.some(j)&&(i+=F),t&&(i+=L),n.filter((e=>!j(e))).reduce(((e,t)=>e+(D.test(t)?O:""===t?R:M)),i)}function U(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:K([r,c.pathname]),pathnameBase:Y(K([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=K([r,c.pathnameBase]))}return s}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return x(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(a[n]||"",t),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function V(e){try{return decodeURI(e)}catch(t){return x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function H(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function W(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function G(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=k(e):(r=y({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(i||null==a)s=n;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?k(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Z(i),hash:Q(r)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const K=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class X extends Error{}function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],ee=(new Set($),["get",...$]);new Set(ee),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},te.apply(this,arguments)}const ne=t.createContext(null);const ie=t.createContext(null);const re=t.createContext(null);const se=t.createContext(null);const oe=t.createContext({outlet:null,matches:[],isDataRoute:!1});const ae=t.createContext(null);function le(){return null!=t.useContext(se)}function ce(){return le()||b(!1),t.useContext(se).location}function ue(e){t.useContext(re).static||t.useLayoutEffect(e)}function he(){let{isDataRoute:e}=t.useContext(oe);return e?function(){let{router:e}=be(_e.UseNavigateStable),n=Ee(we.UseNavigateStable),i=t.useRef(!1);ue((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,te({fromRouteId:n},r)))}),[e,n]);return r}():function(){le()||b(!1);let{basename:e,navigator:n}=t.useContext(re),{matches:i}=t.useContext(oe),{pathname:r}=ce(),s=JSON.stringify(W(i).map((e=>e.pathnameBase))),o=t.useRef(!1);ue((()=>{o.current=!0}));let a=t.useCallback((function(t,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof t)return void n.go(t);let a=G(t,JSON.parse(s),r,"path"===i.relative);"/"!==e&&(a.pathname="/"===a.pathname?e:K([e,a.pathname])),(i.replace?n.replace:n.push)(a,i.state,i)}),[e,n,s,r]);return a}()}function de(e,n){let{relative:i}=void 0===n?{}:n,{matches:r}=t.useContext(oe),{pathname:s}=ce(),o=JSON.stringify(W(r).map((e=>e.pathnameBase)));return t.useMemo((()=>G(e,JSON.parse(o),s,"path"===i)),[e,o,s,i])}function fe(e,n,i){le()||b(!1);let{navigator:r}=t.useContext(re),{matches:s}=t.useContext(oe),o=s[s.length-1],a=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=ce();if(n){var h;let e="string"===typeof n?k(n):n;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||b(!1),c=e}else c=u;let d=c.pathname||"/",f=N(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});let p=ye(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:K([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:K([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,i);return n&&p?t.createElement(se.Provider,{value:{location:te({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_.Pop}},p):p}function pe(){let e=function(){var e;let n=t.useContext(ae),i=xe(we.UseRouteError),r=Ee(we.UseRouteError);if(n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=J(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,null)}const me=t.createElement(pe,null);class ge extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(oe.Provider,{value:this.props.routeContext},t.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ve(e){let{routeContext:n,match:i,children:r}=e,s=t.useContext(ne);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(oe.Provider,{value:n},r)}function ye(e,n,i){var r;if(void 0===n&&(n=[]),void 0===i&&(i=null),null==e){var s;if(null==(s=i)||!s.errors)return null;e=i.matches}let o=e,a=null==(r=i)?void 0:r.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||b(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,r,s)=>{let l=r.route.id?null==a?void 0:a[r.route.id]:null,c=null;i&&(c=r.route.errorElement||me);let u=n.concat(o.slice(0,s+1)),h=()=>{let n;return n=l?c:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(ve,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?t.createElement(ge,{location:i.location,revalidation:i.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var _e,we;function be(e){let n=t.useContext(ne);return n||b(!1),n}function xe(e){let n=t.useContext(ie);return n||b(!1),n}function Ee(e){let n=function(e){let n=t.useContext(oe);return n||b(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||b(!1),i.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(_e||(_e={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(we||(we={}));function Te(e){b(!1)}function Se(e){let{basename:n="/",children:i=null,location:r,navigationType:s=_.Pop,navigator:o,static:a=!1}=e;le()&&b(!1);let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:o,static:a})),[l,o,a]);"string"===typeof r&&(r=k(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=t.useMemo((()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[l,u,h,d,f,p,s]);return null==m?null:t.createElement(re.Provider,{value:c},t.createElement(se.Provider,{children:i,value:m}))}function ke(e){let{children:t,location:n}=e;return fe(Ne(t),n)}var Ie;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ie||(Ie={}));new Promise((()=>{}));class Ce extends t.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,r=Ie.pending;if(n instanceof Promise)if(this.state.error){Ie.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>e})}else n._tracked?(n,void 0!==i._error?Ie.error:void 0!==i._data?Ie.success:Ie.pending):(Ie.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else Ie.success,Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});if(r===Ie.error&&i._error instanceof AbortedDeferredError)throw neverSettledPromise;if(r===Ie.error&&!t)throw i._error;if(r===Ie.error)return React.createElement(AwaitContext.Provider,{value:i,children:t});if(r===Ie.success)return React.createElement(AwaitContext.Provider,{value:i,children:e});throw i}}function Ne(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let s=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,Ne(e.props.children,s));e.type!==Te&&b(!1),e.props.index&&e.props.children&&b(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ne(e.props.children,s)),i.push(o)})),i}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pe.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}const De=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Oe(e){let{basename:n,children:i,window:r}=e,s=t.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),I((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return T("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:S(t)}),null,e)}({window:r,v5Compat:!0}));let o=s.current,[a,l]=t.useState({action:o.action,location:o.location});return t.useLayoutEffect((()=>o.listen(l)),[o]),t.createElement(Se,{basename:n,children:i,location:a.location,navigationType:a.action,navigator:o})}const Le="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=t.forwardRef((function(e,n){let i,{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h}=e,d=Ae(e,De),{basename:f}=t.useContext(re),p=!1;if("string"===typeof u&&Re.test(u)&&(i=u,Le))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=q(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(v){}let m=function(e,n){let{relative:i}=void 0===n?{}:n;le()||b(!1);let{basename:r,navigator:s}=t.useContext(re),{hash:o,pathname:a,search:l}=de(e,{relative:i}),c=a;return"/"!==r&&(c="/"===a?r:K([r,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),g=function(e,n){let{target:i,replace:r,state:s,preventScrollReset:o,relative:a}=void 0===n?{}:n,l=he(),c=ce(),u=de(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:S(c)===S(u);l(e,{replace:n,state:s,preventScrollReset:o,relative:a})}}),[c,l,u,r,s,i,e,o,a])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s});return t.createElement("a",Pe({},d,{href:i||m,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:n,target:c}))}));var Fe,je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Fe||(Fe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));function ze(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ze(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}const Ue=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=ze(e))&&(i&&(i+=" "),i+=t);return i},Be=e=>"number"==typeof e&&!isNaN(e),Ve=e=>"string"==typeof e,qe=e=>"function"==typeof e,He=e=>Ve(e)||qe(e)?e:null,We=e=>(0,t.isValidElement)(e)||Ve(e)||qe(e)||Be(e);function Ge(e){let{enter:n,exit:i,appendPosition:r=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d}=e;const f=r?"".concat(n,"--").concat(l):n,p=r?"".concat(i,"--").concat(l):i,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{const e=h.current,t=f.split(" "),n=i=>{i.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==i.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:i,style:r}=e;requestAnimationFrame((()=>{r.minHeight="initial",r.height=i+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)}))}))}(e,u,o):u()};d||(c?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))}),[d]),t.createElement(t.Fragment,null,a)}}function Ke(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}const Ye={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Ze=e=>{let{theme:n,type:i,...r}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(i,")"),...r})},Qe={info:function(e){return t.createElement(Ze,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Ze,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Ze,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Ze,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Xe(e){const[,n]=(0,t.useReducer)((e=>e+1),0),[i,r]=(0,t.useState)([]),s=(0,t.useRef)(null),o=(0,t.useRef)(new Map).current,a=e=>-1!==i.indexOf(e),l=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:e=>o.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function h(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function d(e,i){let{delay:r,staleId:a,...c}=i;if(!We(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||o.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:d,updateId:p,data:m}=c,{props:g}=l,v=()=>u(d),y=null==p;y&&l.count++;const _={...g,style:g.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,n]=e;return null!=n}))),toastId:d,updateId:p,data:m,closeToast:v,isIn:!1,className:He(c.className||g.toastClassName),bodyClassName:He(c.bodyClassName||g.bodyClassName),progressClassName:He(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(w=c.autoClose,b=g.autoClose,!1===w||Be(w)&&w>0?w:b),deleteToast(){const e=Ke(o.get(d),"removed");o.delete(d),Ye.emit(4,e);const t=l.queue.length;if(l.count=null==d?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){const e=null==d?l.props.limit:1;if(1===t||1===e)l.displayedToast++,h();else{const n=e>t?t:e;l.displayedToast=n;for(let e=0;e<n;e++)h()}}else n()}};var w,b;_.iconOut=function(e){let{theme:n,type:i,isLoading:r,icon:s}=e,o=null;const a={theme:n,type:i};return!1===s||(qe(s)?o=s(a):(0,t.isValidElement)(s)?o=(0,t.cloneElement)(s,a):Ve(s)||Be(s)?o=s:r?o=Qe.spinner():(e=>e in Qe)(i)&&(o=Qe[i](a))),o}(_),qe(c.onOpen)&&(_.onOpen=c.onOpen),qe(c.onClose)&&(_.onClose=c.onClose),_.closeButton=g.closeButton,!1===c.closeButton||We(c.closeButton)?_.closeButton=c.closeButton:!0===c.closeButton&&(_.closeButton=!We(g.closeButton)||g.closeButton);let x=e;(0,t.isValidElement)(e)&&!Ve(e.type)?x=(0,t.cloneElement)(e,{closeToast:v,toastProps:_,data:m}):qe(e)&&(x=e({closeToast:v,toastProps:_,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&y?l.queue.push({toastContent:x,toastProps:_,staleId:a}):Be(r)?setTimeout((()=>{f(x,_,a)}),r):f(x,_,a)}function f(e,t,n){const{toastId:i}=t;n&&o.delete(n);const s={content:e,props:t};o.set(i,s),r((e=>[...e,i].filter((e=>e!==n)))),Ye.emit(4,Ke(s,null==s.props.updateId?"added":"updated"))}return(0,t.useEffect)((()=>(l.containerId=e.containerId,Ye.cancelEmit(3).on(0,d).on(1,(e=>s.current&&u(e))).on(5,c).emit(2,l),()=>{o.clear(),Ye.emit(3,l)})),[]),(0,t.useEffect)((()=>{l.props=e,l.isToastActive=a,l.displayedToast=i.length})),{getToastToRender:function(t){const n=new Map,i=Array.from(o.values());return e.newestOnTop&&i.reverse(),i.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:s,isToastActive:a}}function Je(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function $e(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function et(e){const[n,i]=(0,t.useState)(!1),[r,s]=(0,t.useState)(!1),o=(0,t.useRef)(null),a=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",_),document.addEventListener("touchmove",y),document.addEventListener("touchend",_);const n=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=Je(t.nativeEvent),a.y=$e(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(a.boundingRect){const{top:n,bottom:i,left:r,right:s}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=r&&a.x<=s&&a.y>=n&&a.y<=i?v():g()}}function g(){i(!0)}function v(){i(!1)}function y(t){const i=o.current;a.canDrag&&i&&(a.didMove=!0,n&&v(),a.x=Je(t),a.y=$e(t),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),i.style.transform="translate".concat(e.draggableDirection,"(").concat(a.delta,"px)"),i.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function _(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",_);const t=o.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)((()=>{l.current=e})),(0,t.useEffect)((()=>(o.current&&o.current.addEventListener("d",g,{once:!0}),qe(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;qe(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)})),[]),(0,t.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",v))})),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&u&&(w.onMouseEnter=v,w.onMouseLeave=g),f&&(w.onClick=e=>{d&&d(e),a.canCloseOnClick&&h()}),{playToast:g,pauseToast:v,isRunning:n,preventExitTransition:r,toastRef:o,eventHandlers:w}}function tt(e){let{closeToast:n,theme:i,ariaLabel:r="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(i),type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":r},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nt(e){let{delay:n,isRunning:i,closeToast:r,type:s="default",hide:o,className:a,style:l,controlledProgress:c,progress:u,rtl:h,isIn:d,theme:f}=e;const p=o||c&&0===u,m={...l,animationDuration:"".concat(n,"ms"),animationPlayState:i?"running":"paused",opacity:p?0:1};c&&(m.transform="scaleX(".concat(u,")"));const g=Ue("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":h}),v=qe(a)?a({rtl:h,type:s,defaultClassName:g}):Ue(g,a);return t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&r()}})}const it=e=>{const{isRunning:n,preventExitTransition:i,toastRef:r,eventHandlers:s}=et(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:d,transition:f,position:p,className:m,style:g,bodyClassName:v,bodyStyle:y,progressClassName:_,progressStyle:w,updateId:b,role:x,progress:E,rtl:T,toastId:S,deleteToast:k,isIn:I,isLoading:C,iconOut:N,closeOnClick:P,theme:A}=e,D=Ue("Toastify__toast","Toastify__toast-theme--".concat(A),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":P}),O=qe(m)?m({rtl:T,position:p,type:u,defaultClassName:D}):Ue(D,m),L=!!E||!l,R={closeToast:d,type:u,theme:A};let M=null;return!1===o||(M=qe(o)?o(R):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,R):tt(R)),t.createElement(f,{isIn:I,done:k,position:p,preventExitTransition:i,nodeRef:r},t.createElement("div",{id:S,onClick:c,className:O,...s,style:g,ref:r},t.createElement("div",{...I&&{role:x},className:qe(v)?v({type:u}):Ue("Toastify__toast-body",v),style:y},null!=N&&t.createElement("div",{className:Ue("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},N),t.createElement("div",null,a)),M,t.createElement(nt,{...b&&!L?{key:"pb-".concat(b)}:{},rtl:T,theme:A,delay:l,isRunning:n,isIn:I,closeToast:d,hide:h,type:u,style:w,className:_,controlledProgress:L,progress:E||0})))},rt=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},st=Ge(rt("bounce",!0)),ot=(Ge(rt("slide",!0)),Ge(rt("zoom")),Ge(rt("flip")),(0,t.forwardRef)(((e,n)=>{const{getToastToRender:i,containerRef:r,isToastActive:s}=Xe(e),{className:o,style:a,rtl:l,containerId:c}=e;function u(e){const t=Ue("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return qe(o)?o({position:e,rtl:l,defaultClassName:t}):Ue(t,He(o))}return(0,t.useEffect)((()=>{n&&(n.current=r.current)}),[]),t.createElement("div",{ref:r,className:"Toastify",id:c},i(((e,n)=>{const i=n.length?{...a}:{...a,pointerEvents:"none"};return t.createElement("div",{className:u(e),style:i,key:"container-".concat(e)},n.map(((e,i)=>{let{content:r,props:o}=e;return t.createElement(it,{...o,isIn:s(o.toastId),style:{...o.style,"--nth":i+1,"--len":n.length},key:"toast-".concat(o.key)},r)})))})))})));ot.displayName="ToastContainer",ot.defaultProps={position:"top-right",transition:st,autoClose:5e3,closeButton:tt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let at,lt=new Map,ct=[],ut=1;function ht(){return""+ut++}function dt(e){return e&&(Ve(e.toastId)||Be(e.toastId))?e.toastId:ht()}function ft(e,t){return lt.size>0?Ye.emit(0,e,t):ct.push({content:e,options:t}),t.toastId}function pt(e,t){return{...t,type:t&&t.type||e,toastId:dt(t)}}function mt(e){return(t,n)=>ft(t,pt(e,n))}function gt(e,t){return ft(e,pt("default",t))}gt.loading=(e,t)=>ft(e,pt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),gt.promise=function(e,t,n){let i,{pending:r,error:s,success:o}=t;r&&(i=Ve(r)?gt.loading(r,n):gt.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,r)=>{if(null==t)return void gt.dismiss(i);const s={type:e,...a,...n,data:r},o=Ve(t)?{render:t}:t;return i?gt.update(i,{...s,...o}):gt(o.render,{...s,...o}),r},c=qe(e)?e():e;return c.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),c},gt.success=mt("success"),gt.info=mt("info"),gt.error=mt("error"),gt.warning=mt("warning"),gt.warn=gt.warning,gt.dark=(e,t)=>ft(e,pt("default",{theme:"dark",...t})),gt.dismiss=e=>{lt.size>0?Ye.emit(1,e):ct=ct.filter((t=>null!=e&&t.options.toastId!==e))},gt.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ye.emit(5,e)},gt.isActive=e=>{let t=!1;return lt.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},gt.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const i=lt.get(n||at);return i&&i.getToast(e)}(e,t);if(n){const{props:i,content:r}=n,s={delay:100,...i,...t,toastId:t.toastId||e,updateId:ht()};s.toastId!==e&&(s.staleId=e);const o=s.render||r;delete s.render,ft(o,s)}}),0)},gt.done=e=>{gt.update(e,{progress:1})},gt.onChange=e=>(Ye.on(4,e),()=>{Ye.off(4,e)}),gt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},gt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ye.on(2,(e=>{at=e.containerId||e,lt.set(at,e),ct.forEach((e=>{Ye.emit(0,e.content,e.options)})),ct=[]})).on(3,(e=>{lt.delete(e.containerId||e),0===lt.size&&Ye.off(0).off(1).off(5)}));const vt=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function yt(e){var n=vt(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}const _t=function(e,n){var i=(0,t.useRef)(!0);(0,t.useEffect)((function(){if(!i.current)return e();i.current=!1}),n)};function wt(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}function bt(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}var xt=Math.pow(2,31)-1;function Et(e,t,n){var i=n-Date.now();e.current=i<=xt?setTimeout(t,i):setTimeout((function(){return Et(e,t,n)}),xt)}function Tt(){var e=wt(),n=(0,t.useRef)();return bt((function(){return clearTimeout(n.current)})),(0,t.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(i,r){void 0===r&&(r=0),e()&&(t(),r<=xt?n.current=setTimeout(i,r):Et(n,i,Date.now()+r))},clear:t}}),[])}var St="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;const kt="undefined"!==typeof document||St?t.useLayoutEffect:t.useEffect;new WeakMap;const It=["as","disabled"];function Ct(e){let{tagName:t,disabled:n,href:i,target:r,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=i||null!=r||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(i))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(i||(i="#"),n&&(i=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:i,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const Nt=t.forwardRef(((e,t)=>{let{as:n,disabled:i}=e,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,It);const[s,{tagName:a}]=Ct(Object.assign({tagName:n,disabled:i},r));return(0,o.jsx)(a,Object.assign({},r,s,{ref:t}))}));Nt.displayName="Button";const Pt=Nt,At=["onKeyDown"];const Dt=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,i=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,At);const[r]=Ct(Object.assign({tagName:"a"},i)),s=yt((e=>{r.onKeyDown(e),null==n||n(e)}));return(a=i.href)&&"#"!==a.trim()&&"button"!==i.role?(0,o.jsx)("a",Object.assign({ref:t},i,{onKeyDown:n})):(0,o.jsx)("a",Object.assign({ref:t},i,r,{onKeyDown:s}));var a}));Dt.displayName="Anchor";const Ot=Dt;function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lt.apply(this,arguments)}function Rt(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n(176);function Mt(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Ft(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function jt(e,n){return Object.keys(n).reduce((function(i,r){var s,o=i,a=o[Mt(r)],l=o[r],c=Rt(o,[Mt(r),r].map(Ft)),u=n[r],h=function(e,n,i){var r=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],l=void 0!==e,c=r.current;return r.current=l,!l&&c&&o!==n&&a(n),[l?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i&&i.apply(void 0,[e].concat(n)),a(e)}),[i])]}(l,a,e[u]),d=h[0],f=h[1];return Lt({},c,((s={})[r]=d,s[u]=f,s))}),e)}function zt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ut(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Bt(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}zt.__suppressDeprecationWarning=!0,Ut.__suppressDeprecationWarning=!0,Bt.__suppressDeprecationWarning=!0;var Vt=/-(.)/g;const qt=e=>{return e[0].toUpperCase()+(t=e,t.replace(Vt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Ht(e){let{displayName:n=qt(e),Component:i,defaultProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t.forwardRef(((t,n)=>{let{className:a,bsPrefix:l,as:c=i||"div",...u}=t;const h={...r,...u},f=d(l,e);return(0,o.jsx)(c,{ref:n,className:s()(a,f),...h})}));return a.displayName=n,a}const Wt=Ht("carousel-caption"),Gt=t.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:i,className:r,...a}=e;const l=s()(r,d(i,"carousel-item"));return(0,o.jsx)(n,{ref:t,...a,className:l})}));Gt.displayName="CarouselItem";const Kt=Gt;function Yt(e,n){let i=0;return t.Children.map(e,(e=>t.isValidElement(e)?n(e,i++):e))}function Zt(e){return e&&e.ownerDocument||document}function Qt(e,t){return function(e){var t=Zt(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Xt=/([A-Z])/g;var Jt=/^ms-/;function $t(e){return function(e){return e.replace(Xt,"-$1").toLowerCase()}(e).replace(Jt,"-ms-")}var en=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const tn=function(e,t){var n="",i="";if("string"===typeof t)return e.style.getPropertyValue($t(t))||Qt(e).getPropertyValue($t(t));Object.keys(t).forEach((function(r){var s=t[r];s||0===s?!function(e){return!(!e||!en.test(e))}(r)?n+=$t(r)+": "+s+";":i+=r+"("+s+") ":e.style.removeProperty($t(r))})),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n},nn=!("undefined"===typeof window||!window.document||!window.document.createElement);var rn=!1,sn=!1;try{var on={get passive(){return rn=!0},get once(){return sn=rn=!0}};nn&&(window.addEventListener("test",on,on),window.removeEventListener("test",on,!0))}catch(MN){}const an=function(e,t,n,i){if(i&&"boolean"!==typeof i&&!sn){var r=i.once,s=i.capture,o=n;!sn&&r&&(o=n.__once||function e(i){this.removeEventListener(t,e,s),n.call(this,i)},n.__once=o),e.addEventListener(t,o,rn?i:s)}e.addEventListener(t,n,i)};const ln=function(e,t,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};const cn=function(e,t,n,i){return an(e,t,n,i),function(){ln(e,t,n,i)}};function un(e,t,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(e,t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}(e,"transitionend",!0)}),t+n),s=cn(e,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),s()}}function hn(e,t,n,i){null==n&&(n=function(e){var t=tn(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=un(e,n,i),s=cn(e,"transitionend",t);return function(){r(),s()}}function dn(e,t){const n=tn(e,t)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function fn(e,t){const n=dn(e,"transitionDuration"),i=dn(e,"transitionDelay"),r=hn(e,(n=>{n.target===e&&(r(),t(n))}),n+i)}function pn(e){e.offsetHeight}function mn(e,t){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mn(e,t)}var gn=n(164);const vn=!1,yn=t.createContext(null);var _n="unmounted",wn="exited",bn="entering",xn="entered",En="exiting",Tn=function(e){var n,i;function r(t,n){var i;i=e.call(this,t,n)||this;var r,s=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?s?(r=wn,i.appearStatus=bn):r=xn:r=t.unmountOnExit||t.mountOnEnter?_n:wn,i.state={status:r},i.nextCallback=null,i}i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,mn(n,i),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===_n?{status:wn}:null};var s=r.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==bn&&n!==xn&&(t=bn):n!==bn&&n!==xn||(t=En)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===bn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:gn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wn&&this.setState({status:_n})},s.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[gn.findDOMNode(this),i],s=r[0],o=r[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!n||vn?this.safeSetState({status:xn},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:bn},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:xn},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:gn.findDOMNode(this);t&&!vn?(this.props.onExit(i),this.safeSetState({status:En},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:wn},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:wn},(function(){e.props.onExited(i)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:gn.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],o=r[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===_n)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Rt(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(yn.Provider,{value:null},"function"===typeof i?i(e,r):t.cloneElement(t.Children.only(i),r))},r}(t.Component);function Sn(){}Tn.contextType=yn,Tn.propTypes={},Tn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Sn,onEntering:Sn,onEntered:Sn,onExit:Sn,onExiting:Sn,onExited:Sn},Tn.UNMOUNTED=_n,Tn.EXITED=wn,Tn.ENTERING=bn,Tn.ENTERED=xn,Tn.EXITING=En;const kn=Tn;var In=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};const Cn=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=In(e),i=In(t);return function(e){n&&n(e),i&&i(e)}}(e,n)}),[e,n])};const Nn=t.forwardRef(((e,n)=>{let{onEnter:i,onEntering:r,onEntered:s,onExit:a,onExiting:l,onExited:c,addEndListener:u,children:h,childRef:d,...f}=e;const p=(0,t.useRef)(null),m=Cn(p,d),g=e=>{var t;m((t=e)&&"setState"in t?gn.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},y=(0,t.useCallback)(v(i),[i]),_=(0,t.useCallback)(v(r),[r]),w=(0,t.useCallback)(v(s),[s]),b=(0,t.useCallback)(v(a),[a]),x=(0,t.useCallback)(v(l),[l]),E=(0,t.useCallback)(v(c),[c]),T=(0,t.useCallback)(v(u),[u]);return(0,o.jsx)(kn,{ref:n,...f,onEnter:y,onEntered:w,onEntering:_,onExit:b,onExited:E,onExiting:x,addEndListener:T,nodeRef:p,children:"function"===typeof h?(e,t)=>h(e,{...t,ref:g}):t.cloneElement(h,{ref:g})})})),Pn=Nn;const An=t.forwardRef(((e,n)=>{let{defaultActiveIndex:i=0,...r}=e;const{as:a="div",bsPrefix:l,slide:c=!0,fade:u=!1,controls:h=!0,indicators:f=!0,indicatorLabels:p=[],activeIndex:g,onSelect:v,onSlide:y,onSlid:_,interval:w=5e3,keyboard:b=!0,onKeyDown:x,pause:E="hover",onMouseOver:T,onMouseOut:S,wrap:k=!0,touch:I=!0,onTouchStart:C,onTouchMove:N,onTouchEnd:P,prevIcon:A=(0,o.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:D="Previous",nextIcon:O=(0,o.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:L="Next",variant:R,className:M,children:F,...j}=jt({defaultActiveIndex:i,...r},{activeIndex:"onSelect"}),z=d(l,"carousel"),U=m(),B=(0,t.useRef)(null),[V,q]=(0,t.useState)("next"),[H,W]=(0,t.useState)(!1),[G,K]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(g||0);(0,t.useEffect)((()=>{G||g===Y||(B.current?q(B.current):q((g||0)>Y?"next":"prev"),c&&K(!0),Z(g||0))}),[g,G,Y,c]),(0,t.useEffect)((()=>{B.current&&(B.current=null)}));let Q,X=0;!function(e,n){let i=0;t.Children.forEach(e,(e=>{t.isValidElement(e)&&n(e,i++)}))}(F,((e,t)=>{++X,t===g&&(Q=e.props.interval)}));const J=vt(Q),$=(0,t.useCallback)((e=>{if(G)return;let t=Y-1;if(t<0){if(!k)return;t=X-1}B.current="prev",null==v||v(t,e)}),[G,Y,v,k,X]),ee=yt((e=>{if(G)return;let t=Y+1;if(t>=X){if(!k)return;t=0}B.current="next",null==v||v(t,e)})),te=(0,t.useRef)();(0,t.useImperativeHandle)(n,(()=>({element:te.current,prev:$,next:ee})));const ne=yt((()=>{!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(te.current)&&(U?$():ee())})),ie="next"===V?"start":"end";_t((()=>{c||(null==y||y(Y,ie),null==_||_(Y,ie))}),[Y]);const re="".concat(z,"-item-").concat(V),se="".concat(z,"-item-").concat(ie),oe=(0,t.useCallback)((e=>{pn(e),null==y||y(Y,ie)}),[y,Y,ie]),ae=(0,t.useCallback)((()=>{K(!1),null==_||_(Y,ie)}),[_,Y,ie]),le=(0,t.useCallback)((e=>{if(b&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(U?ee(e):$(e));case"ArrowRight":return e.preventDefault(),void(U?$(e):ee(e))}null==x||x(e)}),[b,x,$,ee,U]),ce=(0,t.useCallback)((e=>{"hover"===E&&W(!0),null==T||T(e)}),[E,T]),ue=(0,t.useCallback)((e=>{W(!1),null==S||S(e)}),[S]),he=(0,t.useRef)(0),de=(0,t.useRef)(0),fe=Tt(),pe=(0,t.useCallback)((e=>{he.current=e.touches[0].clientX,de.current=0,"hover"===E&&W(!0),null==C||C(e)}),[E,C]),me=(0,t.useCallback)((e=>{e.touches&&e.touches.length>1?de.current=0:de.current=e.touches[0].clientX-he.current,null==N||N(e)}),[N]),ge=(0,t.useCallback)((e=>{if(I){const t=de.current;Math.abs(t)>40&&(t>0?$(e):ee(e))}"hover"===E&&fe.set((()=>{W(!1)}),w||void 0),null==P||P(e)}),[I,E,$,ee,fe,w,P]),ve=null!=w&&!H&&!G,ye=(0,t.useRef)();(0,t.useEffect)((()=>{var e,t;if(!ve)return;const n=U?$:ee;return ye.current=window.setInterval(document.visibilityState?ne:n,null!=(e=null!=(t=J.current)?t:w)?e:void 0),()=>{null!==ye.current&&clearInterval(ye.current)}}),[ve,$,ee,J,w,ne,U]);const _e=(0,t.useMemo)((()=>f&&Array.from({length:X},((e,t)=>e=>{null==v||v(t,e)}))),[f,X,v]);return(0,o.jsxs)(a,{ref:te,...j,onKeyDown:le,onMouseOver:ce,onMouseOut:ue,onTouchStart:pe,onTouchMove:me,onTouchEnd:ge,className:s()(M,z,c&&"slide",u&&"".concat(z,"-fade"),R&&"".concat(z,"-").concat(R)),children:[f&&(0,o.jsx)("div",{className:"".concat(z,"-indicators"),children:Yt(F,((e,t)=>(0,o.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=p&&p.length?p[t]:"Slide ".concat(t+1),className:t===Y?"active":void 0,onClick:_e?_e[t]:void 0,"aria-current":t===Y},t)))}),(0,o.jsx)("div",{className:"".concat(z,"-inner"),children:Yt(F,((e,n)=>{const i=n===Y;return c?(0,o.jsx)(Pn,{in:i,onEnter:i?oe:void 0,onEntered:i?ae:void 0,addEndListener:fn,children:(n,r)=>t.cloneElement(e,{...r,className:s()(e.props.className,i&&"entered"!==n&&re,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&se)})}):t.cloneElement(e,{className:s()(e.props.className,i&&"active")})}))}),h&&(0,o.jsxs)(o.Fragment,{children:[(k||0!==g)&&(0,o.jsxs)(Ot,{className:"".concat(z,"-control-prev"),onClick:$,children:[A,D&&(0,o.jsx)("span",{className:"visually-hidden",children:D})]}),(k||g!==X-1)&&(0,o.jsxs)(Ot,{className:"".concat(z,"-control-next"),onClick:ee,children:[O,L&&(0,o.jsx)("span",{className:"visually-hidden",children:L})]})]})]})}));An.displayName="Carousel";const Dn=Object.assign(An,{Caption:Wt,Item:Kt}),On=()=>{const e=[];for(let n=1;n<=10;n++)e.push("erikogsara".concat(n,".jpg"));const t="600px";return(0,o.jsx)(Dn,{style:{height:t,border:"none"},children:e.map(((e,n)=>(0,o.jsx)(Dn.Item,{style:{height:t,borderRadius:"10px"},children:(0,o.jsx)("img",{className:"d-block w-100 h-100",src:"".concat("","/").concat(e),alt:"Slide ".concat(n),style:{objectFit:"contain",maxHeight:"100%",margin:"auto"}})},n)))})},Ln=()=>{const e=(0,t.useRef)(null),n=(0,t.useRef)(null),i=(0,t.useRef)(null),r=(0,t.useRef)(null),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const t=e.current,n=i.current,r=e=>{if(s){const i=t.getBoundingClientRect(),r=-1*(20*((e.clientX-i.left)/i.width)-10),s=-1*(20*((e.clientY-i.top)/i.height)-10);n.style.transform="translate(".concat(r,"px, ").concat(s,"px)")}},o=()=>{a(!0)},l=()=>{a(!1),n.style.transform="none"};return t.addEventListener("mousemove",r),t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",l),()=>{t.removeEventListener("mousemove",r),t.removeEventListener("mouseenter",o),t.removeEventListener("mouseleave",l)}}),[s]),(0,t.useEffect)((()=>{const e=n.current,t=r.current,i=n=>{if(l){const i=e.getBoundingClientRect(),r=-1*(20*((n.clientX-i.left)/i.width)-10),s=-1*(20*((n.clientY-i.top)/i.height)-10);t.style.transform="translate(".concat(r,"px, ").concat(s,"px)")}},s=()=>{c(!0)},o=()=>{c(!1),t.style.transform="none"};return e.addEventListener("mousemove",i),e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",o),()=>{e.removeEventListener("mousemove",i),e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",o)}}),[l]),(0,o.jsxs)(v,{className:"Center",children:[(0,o.jsx)("h1",{className:"text-center",children:"Erik og Saras bryllup"}),(0,o.jsx)("h5",{className:"mt-3 text-center",children:"Vi gifter oss 1. juni 2024 i Sandnes. Vi gleder oss til \xe5 feire dagen med dere!"}),(0,o.jsx)(On,{}),(0,o.jsx)("h3",{className:"pt-5 pb-2 text-center",children:"Vigsel blir i Julebygda Kapell kl. 13:45"}),(0,o.jsxs)("div",{ref:e,className:"image-container mb-2",children:[(0,o.jsx)("img",{className:"imgs",src:"https://kagi.com/proxy/julebygda2.jpg?c=ggGFvKBjpQ9pdvrnO3yU7Byt2lzssOuV8Sky94ja3TgvBvBSRXLLFJkfC4vs6c-3w2HYSXmUzB1LnhrodYuqHJgvDqXjDYG_iHPXWUjsBjbCOz7mciivu86lnMe3VK4Y2e0vPth7V1bD17hum65IZw%3D%3D",alt:"Julbygda kapell"}),(0,o.jsx)("div",{ref:i,className:"shadow"})]}),(0,o.jsx)("h3",{className:"pt-5 pb-2 text-center",children:"Etterp\xe5 blir det middag p\xe5 L\xf8\xe5 p\xe5 Lea (klokkeslett kommer)"}),(0,o.jsxs)("div",{ref:n,className:"image-container mt-2",children:[(0,o.jsx)("img",{className:"imgs",src:"https://kagi.com/proxy/th?c=3SgynE8ofVcfX71I7M3hS6GDC2_gG-mWxdmR1ay6nb9s746JyMFYno6YxwPUF7DD1clWVKe-cWQPHEwHctjoJAZoUh6DyIkRP0KL0kA6A6pvh-OxeGqZsbAUURqovCXK",alt:"l\xf8\xe5 p\xe5 lea"}),(0,o.jsx)("div",{ref:r,className:"shadow"})]}),(0,o.jsx)("h3",{className:"pt-5 pb-2 text-center",children:"Vi gleder oss til \xe5 feire dagen sammen med dere!"})]})};n(573);var Rn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Mn(e,t){return Rn(e.querySelectorAll(t))}const Fn=t.createContext(null);Fn.displayName="NavContext";const jn=Fn,zn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Un=t.createContext(null),Bn=t.createContext(null),Vn="data-rr-ui-";function qn(e){return"".concat(Vn).concat(e)}const Hn=["as","active","eventKey"];function Wn(e){let{key:n,onClick:i,active:r,id:s,role:o,disabled:a}=e;const l=(0,t.useContext)(Un),c=(0,t.useContext)(jn),u=(0,t.useContext)(Bn);let h=r;const d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);d[qn("event-key")]=n,d.id=e||s,h=null==r&&null!=n?c.activeKey===n:r,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=t)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),a&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=yt((e=>{a||(null==i||i(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[d,{isActive:h}]}const Gn=t.forwardRef(((e,t)=>{let{as:n=Pt,active:i,eventKey:r}=e,s=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Hn);const[a,l]=Wn(Object.assign({key:zn(r,s.href),active:i},s));return a[qn("active")]=l.isActive,(0,o.jsx)(n,Object.assign({},s,a,{ref:t}))}));Gn.displayName="NavItem";const Kn=Gn,Yn=["as","onSelect","activeKey","role","onKeyDown"];const Zn=()=>{},Qn=qn("event-key"),Xn=t.forwardRef(((e,n)=>{let{as:i="div",onSelect:r,activeKey:s,role:a,onKeyDown:l}=e,c=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Yn);const u=(0,t.useReducer)((function(e){return!e}),!1)[1],h=(0,t.useRef)(!1),d=(0,t.useContext)(Un),f=(0,t.useContext)(Bn);let p,m;f&&(a=a||"tablist",s=f.activeKey,p=f.getControlledId,m=f.getControllerId);const g=(0,t.useRef)(null),v=e=>{const t=g.current;if(!t)return null;const n=Mn(t,"[".concat(Qn,"]:not([aria-disabled=true])")),i=t.querySelector("[aria-selected=true]");if(!i||i!==document.activeElement)return null;const r=n.indexOf(i);if(-1===r)return null;let s=r+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},y=(e,t)=>{null!=e&&(null==r||r(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(g.current&&h.current){const e=g.current.querySelector("[".concat(Qn,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));const _=Cn(n,g);return(0,o.jsx)(Un.Provider,{value:y,children:(0,o.jsx)(jn.Provider,{value:{role:a,activeKey:zn(s),getControlledId:p||Zn,getControllerId:m||Zn},children:(0,o.jsx)(i,Object.assign({},c,{onKeyDown:e=>{if(null==l||l(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=v(-1);break;case"ArrowRight":case"ArrowDown":t=v(1);break;default:return}var n;t&&(e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,u())},ref:_,role:a}))})})}));Xn.displayName="Nav";const Jn=Object.assign(Xn,{Item:Kn}),$n=t.createContext(null);$n.displayName="NavbarContext";const ei=$n,ti=t.createContext(null);ti.displayName="CardHeaderContext";const ni=ti,ii=Ht("nav-item"),ri=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r=Ot,active:a,eventKey:l,disabled:c=!1,...u}=e;n=d(n,"nav-link");const[h,f]=Wn({key:zn(l,u.href),active:a,disabled:c,...u});return(0,o.jsx)(r,{...u,...h,ref:t,disabled:c,className:s()(i,n,c&&"disabled",f.isActive&&"active")})}));ri.displayName="NavLink";const si=ri,oi=t.forwardRef(((e,n)=>{const{as:i="div",bsPrefix:r,variant:a,fill:l=!1,justify:c=!1,navbar:u,navbarScroll:h,className:f,activeKey:p,...m}=jt(e,{activeKey:"onSelect"}),g=d(r,"nav");let v,y,_=!1;const w=(0,t.useContext)(ei),b=(0,t.useContext)(ni);return w?(v=w.bsPrefix,_=null==u||u):b&&({cardHeaderBsPrefix:y}=b),(0,o.jsx)(Jn,{as:i,ref:n,activeKey:p,className:s()(f,{[g]:!_,["".concat(v,"-nav")]:_,["".concat(v,"-nav-scroll")]:_&&h,["".concat(y,"-").concat(a)]:!!y,["".concat(g,"-").concat(a)]:!!a,["".concat(g,"-fill")]:l,["".concat(g,"-justified")]:c}),...m})}));oi.displayName="Nav";const ai=Object.assign(oi,{Item:ii,Link:si}),li=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r,...a}=e;n=d(n,"navbar-brand");const l=r||(a.href?"a":"span");return(0,o.jsx)(l,{...a,ref:t,className:s()(i,n)})}));li.displayName="NavbarBrand";const ci=li;const ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),null)},hi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function di(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],i=hi[e];return n+parseInt(tn(t,i[0]),10)+parseInt(tn(t,i[1]),10)}const fi={[wn]:"collapse",[En]:"collapsing",[bn]:"collapsing",[xn]:"collapse show"},pi=t.forwardRef(((e,n)=>{let{onEnter:i,onEntering:r,onEntered:a,onExit:l,onExiting:c,className:u,children:h,dimension:d="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:v=!1,getDimensionValue:y=di,..._}=e;const w="function"===typeof d?d():d,b=(0,t.useMemo)((()=>ui((e=>{e.style[w]="0"}),i)),[w,i]),x=(0,t.useMemo)((()=>ui((e=>{const t="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));e.style[w]="".concat(e[t],"px")}),r)),[w,r]),E=(0,t.useMemo)((()=>ui((e=>{e.style[w]=null}),a)),[w,a]),T=(0,t.useMemo)((()=>ui((e=>{e.style[w]="".concat(y(w,e),"px"),pn(e)}),l)),[l,y,w]),S=(0,t.useMemo)((()=>ui((e=>{e.style[w]=null}),c)),[w,c]);return(0,o.jsx)(Pn,{ref:n,addEndListener:fn,..._,"aria-expanded":_.role?f:null,onEnter:b,onEntering:x,onEntered:E,onExit:T,onExiting:S,childRef:h.ref,in:f,timeout:p,mountOnEnter:m,unmountOnExit:g,appear:v,children:(e,n)=>t.cloneElement(h,{...n,className:s()(u,h.props.className,fi[e],"width"===w&&"collapse-horizontal")})})})),mi=t.forwardRef(((e,n)=>{let{children:i,bsPrefix:r,...s}=e;r=d(r,"navbar-collapse");const a=(0,t.useContext)(ei);return(0,o.jsx)(pi,{in:!(!a||!a.expanded),...s,children:(0,o.jsx)("div",{ref:n,className:r,children:i})})}));mi.displayName="NavbarCollapse";const gi=mi,vi=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:a,label:l="Toggle navigation",as:c="button",onClick:u,...h}=e;i=d(i,"navbar-toggler");const{onToggle:f,expanded:p}=(0,t.useContext)(ei)||{},m=yt((e=>{u&&u(e),f&&f()}));return"button"===c&&(h.type="button"),(0,o.jsx)(c,{...h,ref:n,onClick:m,"aria-label":l,className:s()(r,i,!p&&"collapsed"),children:a||(0,o.jsx)("span",{className:"".concat(i,"-icon")})})}));vi.displayName="NavbarToggle";const yi=vi;var _i=new WeakMap,wi=function(e,t){if(e&&t){var n=_i.get(t)||new Map;_i.set(t,n);var i=n.get(e);return i||((i=t.matchMedia(e)).refCount=0,n.set(i.media,i)),i}};function bi(e,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var i=wi(e,n),r=(0,t.useState)((function(){return!!i&&i.matches})),s=r[0],o=r[1];return kt((function(){var t=wi(e,n);if(!t)return o(!1);var i=_i.get(n),r=function(){o(t.matches)};return t.refCount++,t.addListener(r),r(),function(){t.removeListener(r),t.refCount--,t.refCount<=0&&(null==i||i.delete(t.media)),t=void 0}}),[e]),s}const xi=function(e){var n=Object.keys(e);function i(e,t){return e===t?t:e?e+" and "+t:t}function r(t){var i=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t),r=e[i];return"(max-width: "+(r="number"===typeof r?r-.2+"px":"calc("+r+" - 0.2px)")+")"}return function(n,s,o){var a,l;return"object"===typeof n?(a=n,o=s,s=!0):((l={})[n]=s=s||!0,a=l),bi((0,t.useMemo)((function(){return Object.entries(a).reduce((function(t,n){var s=n[0],o=n[1];return"up"!==o&&!0!==o||(t=i(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(s))),"down"!==o&&!0!==o||(t=i(t,r(s))),t}),"")}),[JSON.stringify(a)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Ei(e){void 0===e&&(e=Zt());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(MN){return e.body}}function Ti(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const Si=qn("modal-open");const ki=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(tn(i,n)||"0",10)+e.scrollBarWidth,"px")),i.setAttribute(Si,""),tn(i,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Si),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ii=(0,t.createContext)(nn?window:void 0);Ii.Provider;function Ci(){return(0,t.useContext)(Ii)}const Ni=(e,t)=>nn?null==e?(t||Zt()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Pi=function(e){let{children:n,in:i,onExited:r,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(i),c=yt(r);(0,t.useEffect)((()=>{i?l.current=!0:c(a.current)}),[i,c]);const u=Cn(a,n.ref),h=(0,t.cloneElement)(n,{ref:u});return i?h:o||!l.current&&s?null:h};function Ai(e){let{children:n,in:i,onExited:r,onEntered:s,transition:o}=e;const[a,l]=(0,t.useState)(!i);i&&a&&l(!1);const c=function(e){let{in:n,onTransition:i}=e;const r=(0,t.useRef)(null),s=(0,t.useRef)(!0),o=yt(i);return kt((()=>{if(!r.current)return;let e=!1;return o({in:n,element:r.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),kt((()=>(s.current=!1,()=>{s.current=!0})),[]),r}({in:!!i,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==r||r(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Cn(c,n.ref);return a&&!i?null:(0,t.cloneElement)(n,{ref:u})}function Di(e,t,n){return e?(0,o.jsx)(e,Object.assign({},n)):t?(0,o.jsx)(Ai,Object.assign({},n,{transition:t})):(0,o.jsx)(Pi,Object.assign({},n))}const Oi=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Li;function Ri(e){const n=Ci(),i=e||function(e){return Li||(Li=new ki({ownerDocument:null==e?void 0:e.document})),Li}(n),r=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>i.add(r.current),remove:()=>i.remove(r.current),isTopModal:()=>i.isTopModal(r.current),setDialogRef:(0,t.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{r.current.backdrop=e}),[])})}const Mi=(0,t.forwardRef)(((e,n)=>{let{show:i=!1,role:r="dialog",className:s,style:a,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:_=!0,restoreFocusOptions:w,renderDialog:b,renderBackdrop:x=(e=>(0,o.jsx)("div",Object.assign({},e))),manager:E,container:T,onShow:S,onHide:k=(()=>{}),onExit:I,onExited:C,onExiting:N,onEnter:P,onEntering:A,onEntered:D}=e,O=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Oi);const L=function(e,n){const i=Ci(),[r,s]=(0,t.useState)((()=>Ni(e,null==i?void 0:i.document)));if(!r){const t=Ni(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,t.useEffect)((()=>{const t=Ni(e);t!==r&&s(t)}),[e,r]),r}(T),R=Ri(E),M=wt(),F=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(i),[j,z]=(0,t.useState)(!i),U=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>R),[R]),nn&&!F&&i&&(U.current=Ei()),i&&j&&z(!1);const B=yt((()=>{if(R.add(),K.current=cn(document,"keydown",W),G.current=cn(document,"focus",(()=>setTimeout(q)),!0),S&&S(),v){const e=Ei(document);R.dialog&&e&&!Ti(R.dialog,e)&&(U.current=e,R.dialog.focus())}})),V=yt((()=>{var e;(R.remove(),null==K.current||K.current(),null==G.current||G.current(),_)&&(null==(e=U.current)||null==e.focus||e.focus(w),U.current=null)}));(0,t.useEffect)((()=>{i&&L&&B()}),[i,L,B]),(0,t.useEffect)((()=>{j&&V()}),[j,V]),bt((()=>{V()}));const q=yt((()=>{if(!y||!M()||!R.isTopModal())return;const e=Ei();R.dialog&&e&&!Ti(R.dialog,e)&&R.dialog.focus()})),H=yt((e=>{e.target===e.currentTarget&&(null==h||h(e),!0===c&&k())})),W=yt((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&R.isTopModal()&&(null==d||d(e),e.defaultPrevented||k())})),G=(0,t.useRef)(),K=(0,t.useRef)();if(!L)return null;const Y=Object.assign({role:r,ref:R.setDialogRef,"aria-modal":"dialog"===r||void 0},O,{style:a,className:s,tabIndex:-1});let Z=b?b(Y):(0,o.jsx)("div",Object.assign({},Y,{children:t.cloneElement(l,{role:"document"})}));Z=Di(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:I,onExiting:N,onExited:function(){z(!0),null==C||C(...arguments)},onEnter:P,onEntering:A,onEntered:D,children:Z});let Q=null;return c&&(Q=x({ref:R.setBackdropRef,onClick:H}),Q=Di(m,g,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,o.jsx)(o.Fragment,{children:gn.createPortal((0,o.jsxs)(o.Fragment,{children:[Q,Z]}),L)})}));Mi.displayName="Modal";const Fi=Object.assign(Mi,{Manager:ki}),ji={[bn]:"show",[xn]:"show"},zi=t.forwardRef(((e,n)=>{let{className:i,children:r,transitionClasses:a={},onEnter:l,...c}=e;const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},h=(0,t.useCallback)(((e,t)=>{pn(e),null==l||l(e,t)}),[l]);return(0,o.jsx)(Pn,{ref:n,addEndListener:fn,...u,onEnter:h,childRef:r.ref,children:(e,n)=>t.cloneElement(r,{...n,className:s()("fade",i,r.props.className,ji[e],a[e])})})}));zi.displayName="Fade";const Ui=zi,Bi=Ht("offcanvas-body"),Vi={[bn]:"show",[xn]:"show"},qi=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:a,in:l=!1,mountOnEnter:c=!1,unmountOnExit:u=!1,appear:h=!1,...f}=e;return i=d(i,"offcanvas"),(0,o.jsx)(Pn,{ref:n,addEndListener:fn,in:l,mountOnEnter:c,unmountOnExit:u,appear:h,...f,childRef:a.ref,children:(e,n)=>t.cloneElement(a,{...n,className:s()(r,a.props.className,(e===bn||e===En)&&"".concat(i,"-toggling"),Vi[e])})})}));qi.displayName="OffcanvasToggling";const Hi=qi,Wi=t.createContext({onHide(){}});var Gi=n(7),Ki=n.n(Gi);const Yi={"aria-label":Ki().string,onClick:Ki().func,variant:Ki().oneOf(["white"])},Zi=t.forwardRef(((e,t)=>{let{className:n,variant:i,"aria-label":r="Close",...a}=e;return(0,o.jsx)("button",{ref:t,type:"button",className:s()("btn-close",i&&"btn-close-".concat(i),n),"aria-label":r,...a})}));Zi.displayName="CloseButton",Zi.propTypes=Yi;const Qi=Zi,Xi=t.forwardRef(((e,n)=>{let{closeLabel:i="Close",closeVariant:r,closeButton:s=!1,onHide:a,children:l,...c}=e;const u=(0,t.useContext)(Wi),h=yt((()=>{null==u||u.onHide(),null==a||a()}));return(0,o.jsxs)("div",{ref:n,...c,children:[l,s&&(0,o.jsx)(Qi,{"aria-label":i,variant:r,onClick:h})]})})),Ji=Xi,$i=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,closeLabel:r="Close",closeButton:a=!1,...l}=e;return n=d(n,"offcanvas-header"),(0,o.jsx)(Ji,{ref:t,...l,className:s()(i,n),closeLabel:r,closeButton:a})}));$i.displayName="OffcanvasHeader";const er=$i,tr=e=>t.forwardRef(((t,n)=>(0,o.jsx)("div",{...t,ref:n,className:s()(t.className,e)}))),nr=Ht("offcanvas-title",{Component:tr("h5")});function ir(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const rr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sr=".sticky-top",or=".navbar-toggler";class ar extends ki{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,tn(t,{[e]:"".concat(parseFloat(tn(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],tn(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,i;if(i="modal-open",(n=t).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"===typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Mn(t,rr).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth))),Mn(t,sr).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),Mn(t,or).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,i;i="modal-open",(n=t).classList?n.classList.remove(i):"string"===typeof n.className?n.className=ir(n.className,i):n.setAttribute("class",ir(n.className&&n.className.baseVal||"",i));const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Mn(t,rr).forEach((e=>this.restore(r,e))),Mn(t,sr).forEach((e=>this.restore(s,e))),Mn(t,or).forEach((e=>this.restore(s,e)))}}let lr;function cr(e){return lr||(lr=new ar(e)),lr}const ur=ar;function hr(e){return(0,o.jsx)(Hi,{...e})}function dr(e){return(0,o.jsx)(Ui,{...e})}const fr=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,children:a,"aria-labelledby":l,placement:c="start",responsive:u,show:h=!1,backdrop:f=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:g,onShow:v,onHide:y,container:_,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:x=!0,restoreFocusOptions:E,onEntered:T,onExit:S,onExiting:k,onEnter:I,onEntering:C,onExited:N,backdropClassName:P,manager:A,renderStaticNode:D=!1,...O}=e;const L=(0,t.useRef)();i=d(i,"offcanvas");const{onToggle:R}=(0,t.useContext)(ei)||{},[M,F]=(0,t.useState)(!1),j=xi(u||"xs","up");(0,t.useEffect)((()=>{F(u?h&&!j:h)}),[h,u,j]);const z=yt((()=>{null==R||R(),null==y||y()})),U=(0,t.useMemo)((()=>({onHide:z})),[z]);const B=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()("".concat(i,"-backdrop"),P)})),[P,i]),V=e=>(0,o.jsx)("div",{...e,...O,className:s()(r,u?"".concat(i,"-").concat(u):i,"".concat(i,"-").concat(c)),"aria-labelledby":l,children:a});return(0,o.jsxs)(o.Fragment,{children:[!M&&(u||D)&&V({}),(0,o.jsx)(Wi.Provider,{value:U,children:(0,o.jsx)(Fi,{show:M,ref:n,backdrop:f,container:_,keyboard:p,autoFocus:w,enforceFocus:b&&!m,restoreFocus:x,restoreFocusOptions:E,onEscapeKeyDown:g,onShow:v,onHide:z,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];null==I||I(e,...n)},onEntering:C,onEntered:T,onExit:S,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];null==N||N(...n)},manager:A||(m?(L.current||(L.current=new ur({handleContainerOverflow:!1})),L.current):cr()),transition:hr,backdropTransition:dr,renderBackdrop:B,renderDialog:V})})]})}));fr.displayName="Offcanvas";const pr=Object.assign(fr,{Body:Bi,Header:er,Title:nr}),mr=t.forwardRef(((e,n)=>{const i=(0,t.useContext)(ei);return(0,o.jsx)(pr,{ref:n,show:!(null==i||!i.expanded),...e,renderStaticNode:!0})}));mr.displayName="NavbarOffcanvas";const gr=mr,vr=Ht("navbar-text",{Component:"span"}),yr=t.forwardRef(((e,n)=>{const{bsPrefix:i,expand:r=!0,variant:a="light",bg:l,fixed:c,sticky:u,className:h,as:f="nav",expanded:p,onToggle:m,onSelect:g,collapseOnSelect:v=!1,...y}=jt(e,{expanded:"onToggle"}),_=d(i,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),v&&p&&(null==m||m(!1))}),[g,v,p,m]);void 0===y.role&&"nav"!==f&&(y.role="navigation");let b="".concat(_,"-expand");"string"===typeof r&&(b="".concat(b,"-").concat(r));const x=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!p),bsPrefix:_,expanded:!!p,expand:r})),[_,p,r,m]);return(0,o.jsx)(ei.Provider,{value:x,children:(0,o.jsx)(Un.Provider,{value:w,children:(0,o.jsx)(f,{ref:n,...y,className:s()(h,_,r&&b,a&&"".concat(_,"-").concat(a),l&&"bg-".concat(l),u&&"sticky-".concat(u),c&&"fixed-".concat(c))})})})}));yr.displayName="Navbar";const _r=Object.assign(yr,{Brand:ci,Collapse:gi,Offcanvas:gr,Text:vr,Toggle:yi}),wr=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:i,variant:r="primary",size:a,active:l=!1,disabled:c=!1,className:u,...h}=e;const f=d(i,"btn"),[p,{tagName:m}]=Ct({tagName:n,disabled:c,...h}),g=m;return(0,o.jsx)(g,{...p,...h,ref:t,disabled:c,className:s()(u,f,l&&"active",r&&"".concat(f,"-").concat(r),a&&"".concat(f,"-").concat(a),h.href&&c&&"disabled")})}));wr.displayName="Button";const br=wr;var xr;function Er(e){if((!xr&&0!==xr||e)&&nn){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),xr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return xr}const Tr=Ht("modal-body"),Sr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,contentClassName:r,centered:a,size:l,fullscreen:c,children:u,scrollable:h,...f}=e;n=d(n,"modal");const p="".concat(n,"-dialog"),m="string"===typeof c?"".concat(n,"-fullscreen-").concat(c):"".concat(n,"-fullscreen");return(0,o.jsx)("div",{...f,ref:t,className:s()(p,i,l&&"".concat(n,"-").concat(l),a&&"".concat(p,"-centered"),h&&"".concat(p,"-scrollable"),c&&m),children:(0,o.jsx)("div",{className:s()("".concat(n,"-content"),r),children:u})})}));Sr.displayName="ModalDialog";const kr=Sr,Ir=Ht("modal-footer"),Cr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,closeLabel:r="Close",closeButton:a=!1,...l}=e;return n=d(n,"modal-header"),(0,o.jsx)(Ji,{ref:t,...l,className:s()(i,n),closeLabel:r,closeButton:a})}));Cr.displayName="ModalHeader";const Nr=Cr,Pr=Ht("modal-title",{Component:tr("h4")});function Ar(e){return(0,o.jsx)(Ui,{...e,timeout:null})}function Dr(e){return(0,o.jsx)(Ui,{...e,timeout:null})}const Or=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,style:a,dialogClassName:l,contentClassName:c,children:u,dialogAs:h=kr,"aria-labelledby":f,"aria-describedby":p,"aria-label":g,show:v=!1,animation:y=!0,backdrop:_=!0,keyboard:w=!0,onEscapeKeyDown:b,onShow:x,onHide:E,container:T,autoFocus:S=!0,enforceFocus:k=!0,restoreFocus:I=!0,restoreFocusOptions:C,onEntered:N,onExit:P,onExiting:A,onEnter:D,onEntering:O,onExited:L,backdropClassName:R,manager:M,...F}=e;const[j,z]=(0,t.useState)({}),[U,B]=(0,t.useState)(!1),V=(0,t.useRef)(!1),q=(0,t.useRef)(!1),H=(0,t.useRef)(null),[W,G]=(0,t.useState)(null),K=Cn(n,G),Y=yt(E),Z=m();i=d(i,"modal");const Q=(0,t.useMemo)((()=>({onHide:Y})),[Y]);function X(){return M||cr({isRTL:Z})}function J(e){if(!nn)return;const t=X().getScrollbarWidth()>0,n=e.scrollHeight>Zt(e).documentElement.clientHeight;z({paddingRight:t&&!n?Er():void 0,paddingLeft:!t&&n?Er():void 0})}const $=yt((()=>{W&&J(W.dialog)}));bt((()=>{ln(window,"resize",$),null==H.current||H.current()}));const ee=()=>{V.current=!0},te=e=>{V.current&&W&&e.target===W.dialog&&(q.current=!0),V.current=!1},ne=()=>{B(!0),H.current=hn(W.dialog,(()=>{B(!1)}))},ie=e=>{"static"!==_?q.current||e.target!==e.currentTarget?q.current=!1:null==E||E():(e=>{e.target===e.currentTarget&&ne()})(e)},re=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()("".concat(i,"-backdrop"),R,!y&&"show")})),[y,R,i]),se={...a,...j};se.display="block";return(0,o.jsx)(Wi.Provider,{value:Q,children:(0,o.jsx)(Fi,{show:v,ref:K,backdrop:_,container:T,keyboard:!0,autoFocus:S,enforceFocus:k,restoreFocus:I,restoreFocusOptions:C,onEscapeKeyDown:e=>{w?null==b||b(e):(e.preventDefault(),"static"===_&&ne())},onShow:x,onHide:E,onEnter:(e,t)=>{e&&J(e),null==D||D(e,t)},onEntering:(e,t)=>{null==O||O(e,t),an(window,"resize",$)},onEntered:N,onExit:e=>{null==H.current||H.current(),null==P||P(e)},onExiting:A,onExited:e=>{e&&(e.style.display=""),null==L||L(e),ln(window,"resize",$)},manager:X(),transition:y?Ar:void 0,backdropTransition:y?Dr:void 0,renderBackdrop:re,renderDialog:e=>(0,o.jsx)("div",{role:"dialog",...e,style:se,className:s()(r,i,U&&"".concat(i,"-static"),!y&&"show"),onClick:_?ie:void 0,onMouseUp:te,"aria-label":g,"aria-labelledby":f,"aria-describedby":p,children:(0,o.jsx)(h,{...F,onMouseDown:ee,className:l,contentClassName:c,children:u})})})})}));Or.displayName="Modal";const Lr=Object.assign(Or,{Body:Tr,Header:Nr,Title:Pr,Footer:Ir,Dialog:kr,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Rr={type:Ki().string,tooltip:Ki().bool,as:Ki().elementType},Mr=t.forwardRef(((e,t)=>{let{as:n="div",className:i,type:r="valid",tooltip:a=!1,...l}=e;return(0,o.jsx)(n,{...l,ref:t,className:s()(i,"".concat(r,"-").concat(a?"tooltip":"feedback"))})}));Mr.displayName="Feedback",Mr.propTypes=Rr;const Fr=Mr,jr=t.createContext({}),zr=t.forwardRef(((e,n)=>{let{id:i,bsPrefix:r,className:a,type:l="checkbox",isValid:c=!1,isInvalid:u=!1,as:h="input",...f}=e;const{controlId:p}=(0,t.useContext)(jr);return r=d(r,"form-check-input"),(0,o.jsx)(h,{...f,ref:n,type:l,id:i||p,className:s()(a,r,c&&"is-valid",u&&"is-invalid")})}));zr.displayName="FormCheckInput";const Ur=zr,Br=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,htmlFor:a,...l}=e;const{controlId:c}=(0,t.useContext)(jr);return i=d(i,"form-check-label"),(0,o.jsx)("label",{...l,ref:n,htmlFor:a||c,className:s()(r,i)})}));Br.displayName="FormCheckLabel";const Vr=Br,qr=t.forwardRef(((e,n)=>{let{id:i,bsPrefix:r,bsSwitchPrefix:a,inline:l=!1,reverse:c=!1,disabled:u=!1,isValid:h=!1,isInvalid:f=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:g,className:v,style:y,title:_="",type:w="checkbox",label:b,children:x,as:E="input",...T}=e;r=d(r,"form-check"),a=d(a,"form-switch");const{controlId:S}=(0,t.useContext)(jr),k=(0,t.useMemo)((()=>({controlId:i||S})),[S,i]),I=!x&&null!=b&&!1!==b||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(x,Vr),C=(0,o.jsx)(Ur,{...T,type:"switch"===w?"checkbox":w,ref:n,isValid:h,isInvalid:f,disabled:u,as:E});return(0,o.jsx)(jr.Provider,{value:k,children:(0,o.jsx)("div",{style:y,className:s()(v,I&&r,l&&"".concat(r,"-inline"),c&&"".concat(r,"-reverse"),"switch"===w&&a),children:x||(0,o.jsxs)(o.Fragment,{children:[C,I&&(0,o.jsx)(Vr,{title:_,children:b}),m&&(0,o.jsx)(Fr,{type:g,tooltip:p,children:m})]})})})}));qr.displayName="FormCheck";const Hr=Object.assign(qr,{Input:Ur,Label:Vr});n(391);const Wr=t.forwardRef(((e,n)=>{let{bsPrefix:i,type:r,size:a,htmlSize:l,id:c,className:u,isValid:h=!1,isInvalid:f=!1,plaintext:p,readOnly:m,as:g="input",...v}=e;const{controlId:y}=(0,t.useContext)(jr);let _;return i=d(i,"form-control"),_=p?{["".concat(i,"-plaintext")]:!0}:{[i]:!0,["".concat(i,"-").concat(a)]:a},(0,o.jsx)(g,{...v,type:r,size:l,ref:n,readOnly:m,id:c||y,className:s()(u,_,h&&"is-valid",f&&"is-invalid","color"===r&&"".concat(i,"-color"))})}));Wr.displayName="FormControl";const Gr=Object.assign(Wr,{Feedback:Fr}),Kr=Ht("form-floating"),Yr=t.forwardRef(((e,n)=>{let{controlId:i,as:r="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:i})),[i]);return(0,o.jsx)(jr.Provider,{value:a,children:(0,o.jsx)(r,{...s,ref:n})})}));Yr.displayName="FormGroup";const Zr=Yr;const Qr=t.forwardRef(((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:a,spans:l}]=function(e){let{as:t,bsPrefix:n,className:i,...r}=e;n=d(n,"col");const o=f(),a=p(),l=[],c=[];return o.forEach((e=>{const t=r[e];let i,s,o;delete r[e],"object"===typeof t&&null!=t?({span:i,offset:s,order:o}=t):i=t;const u=e!==a?"-".concat(e):"";i&&l.push(!0===i?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(i)),null!=o&&c.push("order".concat(u,"-").concat(o)),null!=s&&c.push("offset".concat(u,"-").concat(s))})),[{...r,className:s()(i,...l,...c)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,o.jsx)(r,{...i,ref:t,className:s()(n,!l.length&&a)})}));Qr.displayName="Col";const Xr=Qr,Jr=t.forwardRef(((e,n)=>{let{as:i="label",bsPrefix:r,column:a=!1,visuallyHidden:l=!1,className:c,htmlFor:u,...h}=e;const{controlId:f}=(0,t.useContext)(jr);r=d(r,"form-label");let p="col-form-label";"string"===typeof a&&(p="".concat(p," ").concat(p,"-").concat(a));const m=s()(c,r,l&&"visually-hidden",a&&p);return u=u||f,a?(0,o.jsx)(Xr,{ref:n,as:"label",className:m,htmlFor:u,...h}):(0,o.jsx)(i,{ref:n,className:m,htmlFor:u,...h})}));Jr.displayName="FormLabel";const $r=Jr,es=t.forwardRef(((e,n)=>{let{bsPrefix:i,className:r,id:a,...l}=e;const{controlId:c}=(0,t.useContext)(jr);return i=d(i,"form-range"),(0,o.jsx)("input",{...l,type:"range",ref:n,className:s()(r,i),id:a||c})}));es.displayName="FormRange";const ts=es,ns=t.forwardRef(((e,n)=>{let{bsPrefix:i,size:r,htmlSize:a,className:l,isValid:c=!1,isInvalid:u=!1,id:h,...f}=e;const{controlId:p}=(0,t.useContext)(jr);return i=d(i,"form-select"),(0,o.jsx)("select",{...f,size:a,ref:n,className:s()(l,i,r&&"".concat(i,"-").concat(r),c&&"is-valid",u&&"is-invalid"),id:h||p})}));ns.displayName="FormSelect";const is=ns,rs=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r="small",muted:a,...l}=e;return n=d(n,"form-text"),(0,o.jsx)(r,{...l,ref:t,className:s()(i,n,a&&"text-muted")})}));rs.displayName="FormText";const ss=rs,os=t.forwardRef(((e,t)=>(0,o.jsx)(Hr,{...e,ref:t,type:"switch"})));os.displayName="Switch";const as=Object.assign(os,{Input:Hr.Input,Label:Hr.Label}),ls=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,children:r,controlId:a,label:l,...c}=e;return n=d(n,"form-floating"),(0,o.jsxs)(Zr,{ref:t,className:s()(i,n),controlId:a,...c,children:[r,(0,o.jsx)("label",{htmlFor:a,children:l})]})}));ls.displayName="FloatingLabel";const cs=ls,us={_ref:Ki().any,validated:Ki().bool,as:Ki().elementType},hs=t.forwardRef(((e,t)=>{let{className:n,validated:i,as:r="form",...a}=e;return(0,o.jsx)(r,{...a,ref:t,className:s()(n,i&&"was-validated")})}));hs.displayName="Form",hs.propTypes=us;const ds=Object.assign(hs,{Group:Zr,Control:Gr,Floating:Kr,Check:Hr,Switch:as,Label:$r,Text:ss,Range:ts,Select:is,FloatingLabel:cs}),fs=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},ps={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,o=s?e[r+1]:0,a=r+2<e.length,l=a?e[r+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const o=r<e.length?n[e.charAt(r)]:64;++r;const a=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==o||null==a)throw new ms;const l=t<<2|s>>4;if(i.push(l),64!==o){const e=s<<4&240|o>>2;if(i.push(e),64!==a){const e=o<<6&192|a;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ms extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gs=function(e){return function(e){const t=fs(e);return ps.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vs=function(e){try{return ps.decodeString(e,!0)}catch(MN){console.error("base64Decode failed: ",MN)}return null};function ys(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ys(e[n],t[n]));return e}const _s=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ws=()=>{try{return _s()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(MN){return}const t=e&&vs(e[1]);return t&&JSON.parse(t)})()}catch(MN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(MN))}},bs=e=>{var t,n;return null===(n=null===(t=ws())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},xs=()=>{var e;return null===(e=ws())||void 0===e?void 0:e.config},Es=e=>{var t;return null===(t=ws())||void 0===t?void 0:t["_".concat(e)]};class Ts{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ss(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ks(){var e;const t=null===(e=ws())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(MN){return!1}}function Is(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Cs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ns(){const e=Ss();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ps(){try{return"object"===typeof indexedDB}catch(MN){return!1}}class As extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(Os,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new As(n,s,t)}}const Os=/\{\$([^}]+)}/g;function Ls(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rs(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(Ms(n)&&Ms(s)){if(!Rs(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ms(e){return null!==e&&"object"===typeof e}function Fs(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function js(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function zs(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Us(e,t){const n=new Bs(e,t);return n.subscribe.bind(n)}class Bs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=Vs),void 0===i.error&&(i.error=Vs),void 0===i.complete&&(i.complete=Vs);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(MN){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(MN){"undefined"!==typeof console&&console.error&&console.error(MN)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Vs(){}function qs(e){return e&&e._delegate?e._delegate:e}class Hs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class Gs{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ts;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(MN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(MN){if(i)return null;throw MN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch(MN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(MN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(Ek){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===Ws?void 0:r),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Ek){}var r;return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ws;return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ks{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ys=[];var Zs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zs||(Zs={}));const Qs={debug:Zs.DEBUG,verbose:Zs.VERBOSE,info:Zs.INFO,warn:Zs.WARN,error:Zs.ERROR,silent:Zs.SILENT},Xs=Zs.INFO,Js={[Zs.DEBUG]:"log",[Zs.VERBOSE]:"log",[Zs.INFO]:"info",[Zs.WARN]:"warn",[Zs.ERROR]:"error"},$s=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=Js[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class eo{constructor(e){this.name=e,this._logLevel=Xs,this._logHandler=$s,this._userLogHandler=null,Ys.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Qs[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zs.DEBUG,...t),this._logHandler(this,Zs.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zs.VERBOSE,...t),this._logHandler(this,Zs.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zs.INFO,...t),this._logHandler(this,Zs.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zs.WARN,...t),this._logHandler(this,Zs.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zs.ERROR,...t),this._logHandler(this,Zs.ERROR,...t)}}const to=(e,t)=>t.some((t=>e instanceof t));let no,io;const ro=new WeakMap,so=new WeakMap,oo=new WeakMap,ao=new WeakMap,lo=new WeakMap;let co={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return so.get(e);if("objectStoreNames"===t)return e.objectStoreNames||oo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function uo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(io||(io=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(po(this),n),fo(ro.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fo(e.apply(po(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(po(this),t,...i);return oo.set(s,t.sort?t.sort():[t]),fo(s)}}function ho(e){return"function"===typeof e?uo(e):(e instanceof IDBTransaction&&function(e){if(so.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));so.set(e,t)}(e),to(e,no||(no=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,co):e)}function fo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(fo(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ro.set(t,e)})).catch((()=>{})),lo.set(t,e),t}(e);if(ao.has(e))return ao.get(e);const t=ho(e);return t!==e&&(ao.set(e,t),lo.set(t,e)),t}const po=e=>lo.get(e);const mo=["get","getKey","getAll","getAllKeys","count"],go=["put","add","delete","clear"],vo=new Map;function yo(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(vo.get(t))return vo.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=go.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!mo.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return i&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),r&&t.done]))[0]};return vo.set(t,s),s}co=(e=>({...e,get:(t,n,i)=>yo(t,n)||e.get(t,n,i),has:(t,n)=>!!yo(t,n)||e.has(t,n)}))(co);class _o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const wo="@firebase/app",bo="0.9.10",xo=new eo("@firebase/app"),Eo="[DEFAULT]",To={[wo]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},So=new Map,ko=new Map;function Io(e,t){try{e.container.addComponent(t)}catch(MN){xo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),MN)}}function Co(e,t){e.container.addOrOverwriteComponent(t)}function No(e){const t=e.name;if(ko.has(t))return xo.debug("There were multiple attempts to register component ".concat(t,".")),!1;ko.set(t,e);for(const n of So.values())Io(n,e);return!0}function Po(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ao(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eo;Po(e,t).clearInstance(n)}function Do(){ko.clear()}const Oo=new Ds("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Lo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}const Ro="9.22.0";function Mo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Eo,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Oo.create("bad-app-name",{appName:String(r)});if(n||(n=xs()),!n)throw Oo.create("no-options");const s=So.get(r);if(s){if(Rs(n,s.options)&&Rs(i,s.config))return s;throw Oo.create("duplicate-app",{appName:r})}const o=new Ks(r);for(const l of ko.values())o.addComponent(l);const a=new Lo(n,i,o);return So.set(r,a),a}function Fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo;const t=So.get(e);if(!t&&e===Eo&&xs())return Mo();if(!t)throw Oo.create("no-app",{appName:e});return t}function jo(){return Array.from(So.values())}async function zo(e){const t=e.name;So.has(t)&&(So.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Uo(e,t,n){var i;let r=null!==(i=To[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xo.warn(e.join(" "))}No(new Hs("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}function Bo(e,t){if(null!==e&&"function"!==typeof e)throw Oo.create("invalid-log-argument");!function(e,t){for(const n of Ys){let i=null;t&&t.level&&(i=Qs[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Zs[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Vo(e){var t;t=e,Ys.forEach((e=>{e.setLogLevel(t)}))}const qo="firebase-heartbeat-database",Ho=1,Wo="firebase-heartbeat-store";let Go=null;function Ko(){return Go||(Go=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=fo(o);return i&&o.addEventListener("upgradeneeded",(e=>{i(fo(o.result),e.oldVersion,e.newVersion,fo(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(qo,Ho,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Wo)}}).catch((e=>{throw Oo.create("idb-open",{originalErrorMessage:e.message})}))),Go}async function Yo(e,t){try{const n=(await Ko()).transaction(Wo,"readwrite"),i=n.objectStore(Wo);await i.put(t,Zo(e)),await n.done}catch(MN){if(MN instanceof As)xo.warn(MN.message);else{const t=Oo.create("idb-set",{originalErrorMessage:null===MN||void 0===MN?void 0:MN.message});xo.warn(t.message)}}}function Zo(e){return"".concat(e.name,"!").concat(e.options.appId)}class Qo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jo(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Xo();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Xo(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),$o(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$o(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=gs(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Xo(){return(new Date).toISOString().substring(0,10)}class Jo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ps()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ko();return await t.transaction(Wo).objectStore(Wo).get(Zo(e))}catch(MN){if(MN instanceof As)xo.warn(MN.message);else{const t=Oo.create("idb-get",{originalErrorMessage:null===MN||void 0===MN?void 0:MN.message});xo.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Yo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $o(e){return gs(JSON.stringify({version:2,heartbeats:e})).length}var ea;ea="",No(new Hs("platform-logger",(e=>new _o(e)),"PRIVATE")),No(new Hs("heartbeat",(e=>new Qo(e)),"PRIVATE")),Uo(wo,bo,ea),Uo(wo,bo,"esm2017"),Uo("fire-js","");function ta(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;const na={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ia="EMAIL_SIGNIN",ra="PASSWORD_RESET",sa="RECOVER_EMAIL",oa="REVERT_SECOND_FACTOR_ADDITION",aa="VERIFY_AND_CHANGE_EMAIL",la="VERIFY_EMAIL";function ca(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ua=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ha=ca,da=new Ds("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fa=new eo("@firebase/auth");function pa(e){if(fa.logLevel<=Zs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];fa.error("Auth (".concat(Ro,"): ").concat(e),...n)}}function ma(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw _a(e,...n)}function ga(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return _a(e,...n)}function va(e,t,n){const i=Object.assign(Object.assign({},ha()),{[t]:n});return new Ds("auth","Firebase",i).create(t,{appName:e.name})}function ya(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ma(e,"argument-error"),va(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return da.create(e,...n)}function wa(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw _a(t,...i)}}function ba(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pa(t),new Error(t)}function xa(e,t){e||ba(t)}function Ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ta(){return"http:"===Sa()||"https:"===Sa()}function Sa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ka{constructor(e,t){this.shortDelay=e,this.longDelay=t,xa(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ss())||Cs()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ta()||Is()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ia(e,t){xa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ca{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Na={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Pa=new ka(3e4,6e4);function Aa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Da(e,t,n,i){return Oa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const o=Fs(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ca.fetch()(Ra(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},r))}))}async function Oa(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Na),t);try{const t=new Ma(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Fa(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fa(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fa(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fa(e,"user-disabled",s);const a=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw va(e,a,o);ma(e,a)}}catch(MN){if(MN instanceof As)throw MN;ma(e,"network-request-failed",{message:String(MN)})}}async function La(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Da(e,t,n,i,r);return"mfaPendingCredential"in s&&ma(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ra(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?Ia(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}class Ma{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ga(this.auth,"network-request-failed"))),Pa.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fa(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ga(e,t,i);return r.customData._tokenResponse=n,r}function ja(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(MN){}}function za(e){return 1e3*Number(e)}function Ua(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return pa("JWT malformed, contained fewer than 3 sections"),null;try{const e=vs(n);return e?JSON.parse(e):(pa("Failed to decode base64 JWT payload"),null)}catch(MN){return pa("Caught error parsing JWT payload as JSON",null===MN||void 0===MN?void 0:MN.toString()),null}}async function Ba(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(MN){throw MN instanceof As&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(MN)&&e.auth.currentUser===e&&await e.auth.signOut(),MN}}class Va{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(MN){return void((null===MN||void 0===MN?void 0:MN.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class qa{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ha(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ba(e,async function(e,t){return Da(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));wa(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=ta(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qa(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wa(e.idToken,"internal-error"),wa("undefined"!==typeof e.idToken,"internal-error"),wa("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ua(e);return wa(t,"internal-error"),wa("undefined"!==typeof t.exp,"internal-error"),wa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wa(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await Oa(e,{},(async()=>{const n=Fs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=Ra(e,i,"/v1/token","key=".concat(r)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Ca.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Wa;return n&&(wa("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(wa("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(wa("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return ba("not implemented")}}function Ga(e,t){wa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ka{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=ta(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Va(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new qa(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Ba(this,this.stsTokenManager.getToken(this.auth,e));return wa(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=qs(e),i=await n.getIdToken(t),r=Ua(i);wa(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ja(za(r.auth_time)),issuedAtTime:ja(za(r.iat)),expirationTime:ja(za(r.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=qs(e);await Ha(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ha(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ba(this,async function(e,t){return Da(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:x}=t;wa(y&&x,e,"internal-error");const E=Wa.fromJSON(this.name,x);wa("string"===typeof y,e,"internal-error"),Ga(u,e.name),Ga(h,e.name),wa("boolean"===typeof _,e,"internal-error"),wa("boolean"===typeof w,e,"internal-error"),Ga(d,e.name),Ga(f,e.name),Ga(p,e.name),Ga(m,e.name),Ga(g,e.name),Ga(v,e.name);const T=new Ka({uid:y,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(T.providerData=b.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Wa;i.updateFromServerResponse(t);const r=new Ka({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ha(r),r}}const Ya=new Map;function Za(e){xa(e instanceof Function,"Expected a class definition");let t=Ya.get(e);return t?(xa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ya.set(e,t),t)}class Qa{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qa.type="NONE";const Xa=Qa;function Ja(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $a{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Ja(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ja("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $a(Za(Xa),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Za(Xa);const s=Ja(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=Ka._fromJSON(e,t);l!==r&&(o=n),r=l;break}}catch(Ek){}const a=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(Ek){}}))),new $a(r,e,n)):new $a(r,e,n)}}function el(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ol(t))return"Blackberry";if(al(t))return"Webos";if(nl(t))return"Safari";if((t.includes("chrome/")||il(t))&&!t.includes("edge/"))return"Chrome";if(sl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/firefox\//i.test(e)}function nl(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/crios\//i.test(e)}function rl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/iemobile/i.test(e)}function sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/android/i.test(e)}function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/blackberry/i.test(e)}function al(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/webos/i.test(e)}function ll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return ll(e)||sl(e)||al(e)||ol(e)||/windows phone/i.test(e)||rl(e)}function ul(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=el(Ss());break;case"Worker":t="".concat(el(Ss()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ro,"/").concat(i)}async function hl(e,t){return Da(e,"GET","/v2/recaptchaConfig",Aa(e,t))}function dl(e){return void 0!==e&&void 0!==e.getResponse}function fl(e){return void 0!==e&&void 0!==e.enterprise}class pl{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function ml(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=ga("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function gl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class vl{constructor(e){this.type="recaptcha-enterprise",this.auth=bl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;fl(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{hl(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new pl(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&fl(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));ml("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function yl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new vl(e);let s;try{s=await r.verify(n)}catch(a){s=await r.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class _l{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(MN){i(MN)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(MN){t.reverse();for(const n of t)try{n()}catch(et){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===MN||void 0===MN?void 0:MN.message})}}}class wl{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xl(this),this.idTokenSubscription=new xl(this),this.beforeStateQueue=new _l(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=da,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Za(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(MN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(MN){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(MN)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wa(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(MN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ha(e)}catch(MN){if((null===MN||void 0===MN?void 0:MN.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?qs(e):null;return t&&wa(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wa(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Za(e))}))}async initializeRecaptchaConfig(){const e=await hl(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new pl(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new vl(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Za(e)||this._popupRedirectResolver;wa(t,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Za(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return wa(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof t?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wa(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ul(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(fa.logLevel<=Zs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];fa.warn("Auth (".concat(Ro,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function bl(e){return qs(e)}class xl{constructor(e){this.auth=e,this.observer=null,this.addObserver=Us((e=>this.observer=e))}get next(){return wa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function El(e,t,n){const i=bl(e);wa(i._canInitEmulator,i,"emulator-config-failed"),wa(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Tl(t),{host:o,port:a}=function(e){const t=Tl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:Sl(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Sl(t)}}}(t),l=null===a?"":":".concat(a);i.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Tl(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class kl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ba("not implemented")}_getIdTokenResponse(e){return ba("not implemented")}_linkToIdToken(e,t){return ba("not implemented")}_getReauthenticationResolver(e){return ba("not implemented")}}async function Il(e,t){return Da(e,"POST","/v1/accounts:resetPassword",Aa(e,t))}async function Cl(e,t){return Da(e,"POST","/v1/accounts:update",t)}async function Nl(e,t){return La(e,"POST","/v1/accounts:signInWithPassword",Aa(e,t))}async function Pl(e,t){return Da(e,"POST","/v1/accounts:sendOobCode",Aa(e,t))}async function Al(e,t){return Pl(e,t)}async function Dl(e,t){return Pl(e,t)}class Ol extends kl{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ol(e,t,"password")}static _fromEmailAndCode(e,t){return new Ol(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await yl(e,n,"signInWithPassword");return Nl(e,t)}return Nl(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await yl(e,n,"signInWithPassword");return Nl(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return La(e,"POST","/v1/accounts:signInWithEmailLink",Aa(e,t))}(e,{email:this._email,oobCode:this._password});default:ma(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Cl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return La(e,"POST","/v1/accounts:signInWithEmailLink",Aa(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ma(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ll(e,t){return La(e,"POST","/v1/accounts:signInWithIdp",Aa(e,t))}class Rl extends kl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ma("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=ta(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Rl(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return Ll(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ll(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fs(t)}return e}}const Ml={USER_NOT_FOUND:"user-not-found"};class Fl extends kl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return La(e,"POST","/v1/accounts:signInWithPhoneNumber",Aa(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await La(e,"POST","/v1/accounts:signInWithPhoneNumber",Aa(e,t));if(n.temporaryProof)throw Fa(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return La(e,"POST","/v1/accounts:signInWithPhoneNumber",Aa(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ml)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new Fl({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class jl{constructor(e){var t,n,i,r,s,o;const a=js(zs(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=a.mode)&&void 0!==i?i:null);wa(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=a.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=js(zs(e)).link,n=t?js(zs(t)).deep_link_id:null,i=js(zs(e)).deep_link_id;return(i?js(zs(i)).link:null)||i||n||t||e}(e);try{return new jl(t)}catch(Ek){return null}}}class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,t){return Ol._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=jl.parseLink(t);return wa(n,"argument-error"),Ol._fromEmailAndCode(e,n.code,n.tenantId)}}zl.PROVIDER_ID="password",zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ul{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bl extends Ul{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vl extends Bl{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return wa("providerId"in t&&"signInMethod"in t,"argument-error"),Rl._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return wa(e.idToken||e.accessToken,"argument-error"),Rl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Vl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Vl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:r,pendingToken:s,nonce:o,providerId:a}=t;if(!i&&!r&&!n&&!s)return null;if(!a)return null;try{return new Vl(a)._credential({idToken:n,accessToken:i,nonce:o,pendingToken:s})}catch(MN){return null}}}class ql extends Bl{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ql.credential(t.oauthAccessToken)}catch(Ek){return null}}}ql.FACEBOOK_SIGN_IN_METHOD="facebook.com",ql.PROVIDER_ID="facebook.com";class Hl extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rl._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Hl.credential(n,i)}catch(Ek){return null}}}Hl.GOOGLE_SIGN_IN_METHOD="google.com",Hl.PROVIDER_ID="google.com";class Wl extends Bl{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:Wl.PROVIDER_ID,signInMethod:Wl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wl.credentialFromTaggedObject(e)}static credentialFromError(e){return Wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wl.credential(t.oauthAccessToken)}catch(Ek){return null}}}Wl.GITHUB_SIGN_IN_METHOD="github.com",Wl.PROVIDER_ID="github.com";class Gl extends kl{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ll(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ll(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ll(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:r}=t;return n&&i&&r&&n===i?new Gl(n,r):null}static _create(e,t){return new Gl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Kl extends Ul{constructor(e){wa(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Kl.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Kl.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Gl.fromJSON(e);return wa(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Gl._create(i,n)}catch(MN){return null}}}class Yl extends Bl{constructor(){super("twitter.com")}static credential(e,t){return Rl._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Yl.credential(n,i)}catch(Ek){return null}}}async function Zl(e,t){return La(e,"POST","/v1/accounts:signUp",Aa(e,t))}Yl.TWITTER_SIGN_IN_METHOD="twitter.com",Yl.PROVIDER_ID="twitter.com";class Ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Ka._fromIdTokenResponse(e,n,i),s=Xl(n);return new Ql({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Xl(n);return new Ql({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Xl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jl extends As{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Jl.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Jl(e,t,n,i)}}function $l(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Jl._fromErrorAndOperation(e,n,t,i);throw n}))}function ec(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function tc(e,t){const n=qs(e);await ic(!0,n,t);const{providerUserInfo:i}=await async function(e,t){return Da(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),r=ec(i||[]);return n.providerData=n.providerData.filter((e=>r.has(e.providerId))),r.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function nc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Ba(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ql._forOperation(e,"link",i)}async function ic(e,t,n){await Ha(t);const i=!1===e?"provider-already-linked":"no-such-provider";wa(ec(t.providerData).has(n)===e,t.auth,i)}async function rc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const s=await Ba(e,$l(i,r,t,e),n);wa(s.idToken,i,"internal-error");const o=Ua(s.idToken);wa(o,i,"internal-error");const{sub:a}=o;return wa(e.uid===a,i,"user-mismatch"),Ql._forOperation(e,r,s)}catch(MN){throw(null===MN||void 0===MN?void 0:MN.code)==="auth/".concat("user-not-found")&&ma(i,"user-mismatch"),MN}}async function sc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await $l(e,i,t),s=await Ql._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function oc(e,t){return sc(bl(e),t)}async function ac(e,t){const n=qs(e);return await ic(!1,n,t.providerId),nc(n,t)}async function lc(e,t){return rc(qs(e),t)}async function cc(e,t){const n=bl(e),i=await async function(e,t){return La(e,"POST","/v1/accounts:signInWithCustomToken",Aa(e,t))}(n,{token:t,returnSecureToken:!0}),r=await Ql._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(r.user),r}class uc{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?hc._fromServerResponse(e,t):"totpInfo"in t?dc._fromServerResponse(e,t):ma(e,"internal-error")}}class hc extends uc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new hc(t)}}class dc extends uc{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new dc(t)}}function fc(e,t,n){var i;wa((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),wa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function pc(e,t){await async function(e,t){return Da(e,"POST","/v1/accounts:update",Aa(e,t))}(qs(e),{oobCode:t})}async function mc(e,t){const n=qs(e),i=await Il(n,{oobCode:t}),r=i.requestType;switch(wa(r,n,"internal-error"),r){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":wa(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":wa(i.mfaInfo,n,"internal-error");default:wa(i.email,n,"internal-error")}let s=null;return i.mfaInfo&&(s=uc._fromServerResponse(bl(n),i.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:s},operation:r}}async function gc(e,t,n){var i;const r=bl(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await yl(r,s,"signUpPassword");o=Zl(r,e)}else o=Zl(r,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await yl(r,s,"signUpPassword");return Zl(r,e)}return Promise.reject(e)}));const a=await o.catch((e=>Promise.reject(e))),l=await Ql._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function vc(e,t,n){return oc(qs(e),zl.credential(t,n))}async function yc(e,t){const n={identifier:t,continueUri:Ta()?Ea():"http://localhost"},{signinMethods:i}=await async function(e,t){return Da(e,"POST","/v1/accounts:createAuthUri",Aa(e,t))}(qs(e),n);return i||[]}async function _c(e,t){const n=qs(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&fc(n.auth,i,t);const{email:r}=await async function(e,t){return Pl(e,t)}(n.auth,i);r!==e.email&&await e.reload()}async function wc(e,t,n){const i=qs(e),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&fc(i.auth,r,n);const{email:s}=await async function(e,t){return Pl(e,t)}(i.auth,r);s!==e.email&&await e.reload()}async function bc(e,t){let{displayName:n,photoURL:i}=t;if(void 0===n&&void 0===i)return;const r=qs(e),s={idToken:await r.getIdToken(),displayName:n,photoUrl:i,returnSecureToken:!0},o=await Ba(r,async function(e,t){return Da(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}async function xc(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Ba(e,Cl(i,r));await e._updateTokensIfNecessary(s,!0)}class Ec{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Tc extends Ec{constructor(e,t,n,i){super(e,t,n),this.username=i}}class Sc extends Ec{constructor(e,t){super(e,"facebook.com",t)}}class kc extends Tc{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ic extends Ec{constructor(e,t){super(e,"google.com",t)}}class Cc extends Tc{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Nc(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:i}=e,r=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!i&&(null===e||void 0===e?void 0:e.idToken)){const i=null===(n=null===(t=Ua(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(i)return new Ec(s,"anonymous"!==i&&"custom"!==i?i:null)}if(!i)return null;switch(i){case"facebook.com":return new Sc(s,r);case"github.com":return new kc(s,r);case"google.com":return new Ic(s,r);case"twitter.com":return new Cc(s,r,e.screenName||null);case"custom":case"anonymous":return new Ec(s,null);default:return new Ec(s,i,r)}}(n)}class Pc{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Pc("enroll",e,t)}static _fromMfaPendingCredential(e){return new Pc("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Pc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Pc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ac{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=bl(e),i=t.customData._serverResponse,r=(i.mfaInfo||[]).map((e=>uc._fromServerResponse(n,e)));wa(i.mfaPendingCredential,n,"internal-error");const s=Pc._fromMfaPendingCredential(i.mfaPendingCredential);return new Ac(s,r,(async e=>{const r=await e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await Ql._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return wa(t.user,n,"internal-error"),Ql._forOperation(t.user,t.operationType,o);default:ma(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Dc{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>uc._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Dc(e)}async getSession(){return Pc._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,i=await this.getSession(),r=await Ba(this.user,n._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Ba(this.user,function(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Aa(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(MN){throw MN}}}const Oc=new WeakMap;const Lc="__sak";class Rc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ek){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Mc extends Rc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ss();return nl(e)||ll(e)}()&&function(){try{return!(!window||window===window.top)}catch(MN){return!1}}(),this.fallbackToPolling=cl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Ns()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mc.type="LOCAL";const Fc=Mc;class jc extends Rc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jc.type="SESSION";const zc=jc;class Uc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Uc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async e=>e(t.origin,r))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Uc.receivers=[];class Vc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=Bc("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(t.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function qc(){return window}function Hc(){return"undefined"!==typeof qc().WorkerGlobalScope&&"function"===typeof qc().importScripts}const Wc="firebaseLocalStorageDb",Gc="firebaseLocalStorage",Kc="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Zc(e,t){return e.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function Qc(){const e=indexedDB.open(Wc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Gc,{keyPath:Kc})}catch(MN){n(MN)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Gc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wc);return new Yc(e).toPromise()}(),t(await Qc()))}))}))}async function Xc(e,t,n){const i=Zc(e,!0).put({[Kc]:t,value:n});return new Yc(i).toPromise()}function Jc(e,t){const n=Zc(e,!0).delete(t);return new Yc(n).toPromise()}class $c{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Qc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(MN){if(t++>3)throw MN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uc._getInstance(Hc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(Ek){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qc();return await Xc(e,Lc,"1"),await Jc(e,Lc),!0}catch(Ek){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Xc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Zc(e,!1).get(t),i=await new Yc(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Jc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Zc(e,!1).getAll();return new Yc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}$c.type="LOCAL";const eu=$c;const tu=1e12;class nu{constructor(e){this.auth=e,this.counter=tu,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new iu(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||tu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||tu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||tu;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class iu{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;wa(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(MN){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(MN){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ru=gl("rcb"),su=new ka(3e4,6e4);class ou{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=qc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wa(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&dl(qc().grecaptcha)?Promise.resolve(qc().grecaptcha):new Promise(((n,i)=>{const r=qc().setTimeout((()=>{i(ga(e,"network-request-failed"))}),su.get());qc()[ru]=()=>{qc().clearTimeout(r),delete qc()[ru];const s=qc().grecaptcha;if(!s||!dl(s))return void i(ga(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};ml("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Fs({onload:ru,render:"explicit",hl:t}))).catch((()=>{clearTimeout(r),i(ga(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=qc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class au{async load(e){return new nu(e)}clearedOneInstance(){}}const lu="recaptcha",cu={theme:"light",type:"image"};class uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},cu),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bl(n),this.isInvisible="invisible"===this.parameters.size,wa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof e?document.getElementById(e):e;wa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new au:new ou,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(MN){return Promise.reject(MN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){wa(!this.parameters.sitekey,this.auth,"argument-error"),wa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=qc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){wa(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){wa(Ta()&&!Hc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Da(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);wa(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return wa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hu{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Fl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function du(e,t,n){var i;const r=await n.verify();try{let s;if(wa("string"===typeof r,e,"argument-error"),wa(n.type===lu,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){wa("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:start",Aa(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{wa("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;wa(n,e,"missing-multi-factor-info");const o=await function(e,t){return Da(e,"POST","/v2/accounts/mfaSignIn:start",Aa(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Da(e,"POST","/v1/accounts:sendVerificationCode",Aa(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class fu{constructor(e){this.providerId=fu.PROVIDER_ID,this.auth=bl(e)}verifyPhoneNumber(e,t){return du(this.auth,e,qs(t))}static credential(e,t){return Fl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return fu.credentialFromTaggedObject(t)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?Fl._fromTokenResponse(n,i):null}}function pu(e,t){return t?Za(t):(wa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fu.PROVIDER_ID="phone",fu.PHONE_SIGN_IN_METHOD="phone";class mu extends kl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gu(e){return sc(e.auth,new mu(e),e.bypassAuthState)}function vu(e){const{auth:t,user:n}=e;return wa(n,t,"internal-error"),rc(n,new mu(e),e.bypassAuthState)}async function yu(e){const{auth:t,user:n}=e;return wa(n,t,"internal-error"),nc(n,new mu(e),e.bypassAuthState)}class _u{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(MN){this.reject(MN)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(MN){this.reject(MN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gu;case"linkViaPopup":case"linkViaRedirect":return yu;case"reauthViaPopup":case"reauthViaRedirect":return vu;default:ma(this.auth,"internal-error")}}resolve(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wu=new ka(2e3,1e4);async function bu(e,t,n){const i=bl(e);ya(e,t,Ul);const r=pu(i,n);return new xu(i,"signInViaPopup",t,r).executeNotNull()}class xu extends _u{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,xu.currentPopupAction&&xu.currentPopupAction.cancel(),xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wa(e,this.auth,"internal-error"),e}async onExecution(){xa(1===this.filter.length,"Popup operations only handle one event");const e=Bc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ga(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ga(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,wu.get())};e()}}xu.currentPopupAction=null;const Eu="pendingRedirect",Tu=new Map;class Su extends _u{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Nu(t),i=Cu(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(MN){e=()=>Promise.reject(MN)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ku(e,t){return Cu(e)._set(Nu(t),"true")}function Iu(e,t){Tu.set(e._key(),t)}function Cu(e){return Za(e._redirectPersistence)}function Nu(e){return Ja(Eu,e.config.apiKey,e.name)}function Pu(e,t,n){return async function(e,t,n){const i=bl(e);ya(e,t,Ul),await i._initializationPromise;const r=pu(i,n);return await ku(r,i),r._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function Au(e,t,n){return async function(e,t,n){const i=qs(e);ya(i.auth,t,Ul),await i.auth._initializationPromise;const r=pu(i.auth,n);await ku(r,i.auth);const s=await Lu(i);return r._openRedirect(i.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Du(e,t,n){return async function(e,t,n){const i=qs(e);ya(i.auth,t,Ul),await i.auth._initializationPromise;const r=pu(i.auth,n);await ic(!1,i,t.providerId),await ku(r,i.auth);const s=await Lu(i);return r._openRedirect(i.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Ou(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=bl(e),r=pu(i,t),s=new Su(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function Lu(e){const t=Bc("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ru{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fu(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ga(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mu(e))}saveEventToCache(e){this.cachedEventUids.add(Mu(e)),this.lastProcessedEventTime=Date.now()}}function Mu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Fu(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function ju(e){return Da(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uu=/^https?/;function Bu(e){const t=Ea(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Uu.test(n))return!1;if(zu.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Vu=new ka(3e4,6e4);function qu(){const e=qc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Hu=null;function Wu(e){return Hu=Hu||function(e){return new Promise(((t,n)=>{var i,r,s;function o(){qu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qu(),n(ga(e,"network-request-failed"))},timeout:Vu.get()})}if(null===(r=null===(i=qc().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=qc().gapi)||void 0===s?void 0:s.load)){const t=gl("iframefcb");return qc()[t]=()=>{gapi.load?o():n(ga(e,"network-request-failed"))},ml("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Hu=null,e}))}(e),Hu}const Gu=new ka(5e3,15e3),Ku="__/auth/iframe",Yu="emulator/auth/iframe",Zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xu(e){const t=e.config;wa(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ia(t,Yu):"https://".concat(e.config.authDomain,"/").concat(Ku),i={apiKey:t.apiKey,appName:e.name,v:Ro},r=Qu.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(Fs(i).slice(1))}const Ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(MN){}}}function eh(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ju),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ss().toLowerCase();n&&(a=il(c)?"_blank":n),tl(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return ll(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",a),new $u(null);const h=window.open(t||"",a,u);wa(h,e,"popup-blocked");try{h.focus()}catch(MN){}return new $u(h)}const th="__/auth/handler",nh="emulator/auth/handler",ih=encodeURIComponent("fac");async function rh(e,t,n,i,r,s){wa(e.config.authDomain,e,"auth-domain-config-required"),wa(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ro,eventId:r};if(t instanceof Ul){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Bl){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ih,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(th);return Ia(t,nh)}(e),"?").concat(Fs(a).slice(1)).concat(c)}const sh="webStorageSupport";const oh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zc,this._completeRedirectFn=Ou,this._overrideRedirectResult=Iu}async _openPopup(e,t,n,i){var r;xa(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return eh(e,await rh(e,t,n,Ea(),i),Bc())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){qc().location.href=e}(await rh(e,t,n,Ea(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xa(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Wu(e),n=qc().gapi;return wa(n,e,"internal-error"),t.open({where:document.body,url:Xu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zu,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=ga(e,"network-request-failed"),s=qc().setTimeout((()=>{i(r)}),Gu.get());function o(){qc().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{i(r)}))}))))}(e),n=new Ru(e);return t.register("authEvent",(t=>{wa(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sh,{type:sh},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[sh];void 0!==r&&t(!!r),ma(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ju(e);for(const n of t)try{if(Bu(n))return}catch(Ek){}ma(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cl()||nl()||ll()}};class ah{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ba("unexpected MultiFactorSessionType")}}}class lh extends ah{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new lh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:finalize",Aa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Da(e,"POST","/v2/accounts/mfaSignIn:finalize",Aa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ch{constructor(){}static assertion(e){return lh._fromCredential(e)}}ch.FACTOR_ID="phone";var uh="@firebase/auth",hh="0.23.2";class dh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fh=Es("authIdTokenMaxAge")||300;let ph=null;const mh=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>fh)return;const r=null===n||void 0===n?void 0:n.token;ph!==r&&(ph=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))};function gh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fo();const t=Po(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Po(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Rs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ma(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:oh,persistence:[eu,Fc,zc]}),i=Es("authTokenSyncURL");if(i){const e=mh(i);!function(e,t,n){qs(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,i){qs(e).onIdTokenChanged(t,n,i)}(n,(t=>e(t)))}const r=bs("auth");return r&&El(n,"http://".concat(r)),n}var vh;vh="Browser",No(new Hs("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;wa(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:vh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ul(vh)},c=new wl(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Za);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),No(new Hs("auth-internal",(e=>(e=>new dh(e))(bl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Uo(uh,hh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(vh)),Uo(uh,hh,"esm2017");const yh=function(){const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),l=gh(),c=()=>n(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(br,{variant:"primary",onClick:()=>n(!0),children:"Sign In"}),(0,o.jsxs)(Lr,{show:e,onHide:c,children:[(0,o.jsx)(Lr.Header,{closeButton:!0,children:(0,o.jsx)(Lr.Title,{children:"Sign In"})}),(0,o.jsx)(Lr.Body,{children:(0,o.jsxs)(ds,{children:[(0,o.jsxs)(ds.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,o.jsx)(ds.Label,{children:"Email address"}),(0,o.jsx)(ds.Control,{type:"email",placeholder:"Enter email",value:i,onChange:e=>r(e.target.value)})]}),(0,o.jsxs)(ds.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,o.jsx)(ds.Label,{children:"Password"}),(0,o.jsx)(ds.Control,{type:"password",placeholder:"Password",value:s,onChange:e=>a(e.target.value)})]}),(0,o.jsx)("button",{className:"btn custom-btn",onClick:e=>(e=>{e.preventDefault(),gc(l,i,s).then((e=>{const t=e.user;console.log(t)})).catch((e=>{console.error(e)})),c()})(e),children:(0,o.jsx)("span",{className:"btn-text",children:"Sign Up with Email"})}),(0,o.jsx)("button",{className:"btn custom-btn",onClick:e=>(e=>{e.preventDefault(),vc(l,i,s).then((e=>{const t=e.user;console.log(t)})).catch((e=>{console.error(e)})),c()})(e),children:(0,o.jsx)("span",{className:"btn-text",children:"Sign In with Email"})}),(0,o.jsx)("button",{className:"btn custom-btn",onClick:e=>(e=>{e.preventDefault();const t=new Hl;bu(l,t).then((e=>{const t=e.user;console.log(t)})).catch((e=>{console.error(e)})),c()})(e),children:(0,o.jsx)("span",{className:"btn-text",children:"Sign In with Google"})})]})})]})]})},_h=()=>{const[e,n]=(0,t.useState)(null),[i,r]=(0,t.useState)(!1),s=gh(),a=ce();(0,t.useEffect)((()=>{const e=function(e,t,n,i){return qs(e).onAuthStateChanged(t,n,i)}(s,(e=>{e?(n(e),console.log(e),console.log(e.displayName)):n(null)}));return()=>e()}),[s]);return(0,o.jsx)(_r,{expand:"lg",className:"navbar-color",children:(0,o.jsxs)(v,{children:[(0,o.jsx)(_r.Brand,{as:Me,to:"/",children:"E & S"}),(0,o.jsx)(_r.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,o.jsxs)(_r.Collapse,{id:"basic-navbar-nav",children:[(0,o.jsxs)(ai,{className:"me-auto",children:[(0,o.jsxs)(ai.Link,{as:Me,to:"/",active:"/"===a.pathname,children:[" ","Hjem"]}),(0,o.jsxs)(ai.Link,{as:Me,to:"/informasjon",active:"/informasjon"===a.pathname,children:[" ","Praktisk informasjon"]}),(0,o.jsxs)(ai.Link,{as:Me,to:"/gavelister",active:"/gavelister"===a.pathname,children:[" ","Gaveliste"]}),(0,o.jsxs)(ai.Link,{as:Me,to:"/kart",active:"/kart"===a.pathname,children:[" ","Kart"]}),(0,o.jsxs)(ai.Link,{as:Me,to:"/oppdateringer",active:"/oppdateringer"===a.pathname,children:[" ","Oppdateringer"]})]}),e?(0,o.jsx)("button",{className:"logout-btn",onClick:()=>s.signOut(),onMouseEnter:()=>{r(!0)},onMouseLeave:()=>{r(!1)},children:i?(0,o.jsxs)("span",{className:"user-indicator",children:["Log out from ",e.displayName]}):(0,o.jsxs)("span",{className:"user-indicator",children:["Logged in as:"," ",e.displayName||(e=>{const t=e.split("@")[0].replace(/[^\w\s.-]/gi,"");if(!t)return"Anonymous";return t.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")})(e.email)]})}):(0,o.jsx)(yh,{})]})]})})},wh=()=>(0,o.jsxs)(v,{children:[(0,o.jsx)("h1",{children:"Gavelister"}),(0,o.jsxs)("p",{className:"pt-5",children:["Gaveliste p\xe5"," ",(0,o.jsx)("a",{href:"https://www.tilbords.no/bryllup/endre-onskeliste?wishListId=134253",children:"Tilbords"})]}),(0,o.jsxs)("p",{children:["Pengegaver kan sendes til Vipps-nummer",(0,o.jsx)("span",{className:"font-weight-bold",children:" 90811303"})," eller til kontonummer",(0,o.jsx)("span",{className:"font-weight-bold",children:" 1226.94.38558"}),'. Merk med "bryllupsgave" + navn.']})]}),bh=1;const xh=(0,t.createContext)(null),Eh=xh.Provider;function Th(){const e=(0,t.useContext)(xh);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var Sh=n(559),kh=n.n(Sh);function Ih(){return Ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ih.apply(this,arguments)}function Ch(e,n){let{bounds:i,boundsOptions:r,center:s,children:o,className:a,id:l,placeholder:c,style:u,whenReady:h,zoom:d,...f}=e;const[p]=(0,t.useState)({className:a,id:l,style:u}),[m,g]=(0,t.useState)(null);(0,t.useImperativeHandle)(n,(()=>{var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);const v=(0,t.useCallback)((e=>{if(null!==e&&null===m){const t=new Sh.Map(e,f);null!=s&&null!=d?t.setView(s,d):null!=i&&t.fitBounds(i,r),null!=h&&t.whenReady(h),g(function(e){return Object.freeze({__version:bh,map:e})}(t))}}),[]);(0,t.useEffect)((()=>()=>{null===m||void 0===m||m.map.remove()}),[m]);const y=m?t.createElement(Eh,{value:m},o):null!==c&&void 0!==c?c:null;return t.createElement("div",Ih({},p,{ref:v}),y)}const Nh=(0,t.forwardRef)(Ch);function Ph(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Ah(e,n){return null==n?function(n,i){const r=(0,t.useRef)();return r.current||(r.current=e(n,i)),r}:function(i,r){const s=(0,t.useRef)();s.current||(s.current=e(i,r));const o=(0,t.useRef)(i),{instance:a}=s.current;return(0,t.useEffect)((function(){o.current!==i&&(n(a,i,o.current),o.current=i)}),[a,i,r]),s}}function Dh(e,n){const i=(0,t.useRef)(n);(0,t.useEffect)((function(){n!==i.current&&null!=e.attributionControl&&(null!=i.current&&e.attributionControl.removeAttribution(i.current),null!=n&&e.attributionControl.addAttribution(n)),i.current=n}),[e,n])}function Oh(e,n){const i=(0,t.useRef)();(0,t.useEffect)((function(){return null!=n&&e.instance.on(n),i.current=n,function(){null!=i.current&&e.instance.off(i.current),i.current=null}}),[e,n])}function Lh(e,t){var n;const i=null!==(n=e.pane)&&void 0!==n?n:t.pane;return i?{...e,pane:i}:e}function Rh(e){return function(n){const i=Th(),r=e(Lh(n,i),i);return Dh(i.map,n.attribution),Oh(r.current,n.eventHandlers),function(e,n){(0,t.useEffect)((function(){var t;return(null!==(t=n.layerContainer)&&void 0!==t?t:n.map).addLayer(e.instance),function(){var t;null===(t=n.layerContainer)||void 0===t||t.removeLayer(e.instance),n.map.removeLayer(e.instance)}}),[n,e])}(r.current,i),r}}const Mh=(Fh=function(e,t){let{url:n,...i}=e;return Ph(new Sh.TileLayer(n,Lh(i,t)),t)},function(e){function n(n,i){const{instance:r}=e(n).current;return(0,t.useImperativeHandle)(i,(()=>r)),null}return(0,t.forwardRef)(n)}(Rh(Ah(Fh,(function(e,t,n){!function(e,t,n){const{opacity:i,zIndex:r}=t;null!=i&&i!==n.opacity&&e.setOpacity(i),null!=r&&r!==n.zIndex&&e.setZIndex(r)}(e,t,n);const{url:i}=t;null!=i&&i!==n.url&&e.setUrl(i)})))));var Fh;const jh=function(e,n){return function(e){function n(n,i){const{instance:r,context:s}=e(n).current;return(0,t.useImperativeHandle)(i,(()=>r)),null==n.children?null:t.createElement(Eh,{value:s},n.children)}return(0,t.forwardRef)(n)}(Rh(Ah(e,n)))}((function(e,t){let{position:n,...i}=e;const r=new Sh.Marker(n,i);return Ph(r,(s=t,o={overlayContainer:r},Object.freeze({...s,...o})));var s,o}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),zh=function(e,n){const i=function(e,t){return function(n,i){const r=Th(),s=e(Lh(n,r),r);return Dh(r.map,n.attribution),Oh(s.current,n.eventHandlers),t(s.current,r,n,i),s}}(Ah(e),n);return function(e){function n(n,i){const[r,s]=(0,t.useState)(!1),{instance:o}=e(n,s).current;(0,t.useImperativeHandle)(i,(()=>o)),(0,t.useEffect)((function(){r&&o.update()}),[o,r,n.children]);const a=o._contentNode;return a?(0,gn.createPortal)(n.children,a):null}return(0,t.forwardRef)(n)}(i)}((function(e,t){return Ph(new Sh.Popup(e,t.overlayContainer),t)}),(function(e,n,i,r){let{position:s}=i;(0,t.useEffect)((function(){const{instance:t}=e;function i(e){e.popup===t&&(t.update(),r(!0))}function o(e){e.popup===t&&r(!1)}return n.map.on({popupopen:i,popupclose:o}),null==n.overlayContainer?(null!=s&&t.setLatLng(s),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:i,popupclose:o}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,r,s])}));const Uh=function(){const e=kh().icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-35],shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",shadowSize:[41,41],shadowAnchor:[12,41]});return(0,o.jsx)("div",{style:{height:"100vh"},children:(0,o.jsxs)(Nh,{center:[58.85565888517952,5.658234571041399],zoom:12,style:{height:"100%"},children:[(0,o.jsx)(Mh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),[{position:[58.82164888517952,5.658234571041399],name:"L\xf8\xe5 p\xe5 Lea"},{position:[58.83133304169512,5.664231417033445],name:"Julebygda Kapell"},{position:[58.8827524311309,5.627358769987153],name:"Sola Flyplass"},{position:[58.85437528957739,5.6995767873276035],name:"Saras barndomshjem"},{position:[62.77464113661904,8.031012802667744],name:"Eriks barndomshjem"},{position:[63.399958868711124,10.34678232319771],name:"Erik og Saras hjem"}].map(((t,n)=>(0,o.jsx)(jh,{position:t.position,icon:e,children:(0,o.jsx)(zh,{children:t.name})},n)))]})})},Bh=()=>(0,o.jsxs)(v,{children:[(0,o.jsx)("h1",{className:"mt-5 mb-5",children:"Kart"}),(0,o.jsx)(Uh,{})]});class Vh{constructor(e,t){this._delegate=e,this.firebase=t,Io(e,new Hs("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),zo(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eo;var n;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return i.isInitialized()||"EXPLICIT"!==(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)||i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eo;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Io(this._delegate,e)}_addOrOverwriteComponent(e){Co(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const qh=new Ds("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Hh=function t(){const n=function(t){const n={},i={__esModule:!0,initializeApp:function(e){const r=Mo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ls(n,r.name))return n[r.name];const s=new t(r,i);return n[r.name]=s,s},app:r,registerVersion:Uo,setLogLevel:Vo,onLog:Bo,apps:null,SDK_VERSION:Ro,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(No(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[s])throw qh.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&ys(o,e.serviceProps),i[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t.apply(this,e.multipleInstances?r:[])}}return"PUBLIC"===e.type?i[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function r(e){if(!Ls(n,e=e||Eo))throw qh.create("no-app",{appName:e});return n[e]}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),r.App=t,i}(Vh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ys(n,e)},createSubscribe:Us,ErrorFactory:Ds,deepExtend:ys}),n}(),Wh=new eo("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Wh.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Wh.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Gh=Hh;!function(e){Uo("@firebase/app-compat","0.2.10",e)}();function Kh(){return window}Gh.registerVersion("firebase","9.22.0","app-compat");async function Yh(e,t,n){var i;const{BuildInfo:r}=Kh();xa(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(xa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return ll()?o.ibi=r.packageName:sl()?o.apn=r.packageName:ma(e,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,rh(e,n,t.type,void 0,null!==(i=t.eventId)&&void 0!==i?i:void 0,o)}function Zh(e){const{cordova:t}=Kh();return new Promise((n=>{t.plugins.browsertab.isAvailable((i=>{let r=null;i?t.plugins.browsertab.openUrl(e):r=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(r)}))}))}const Qh=20;class Xh extends Ru{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Jh(e){const t=await td()._get(nd(e));return t&&await td()._remove(nd(e)),t}function $h(e,t){var n,i;const r=function(e){const t=id(e),n=t.link?decodeURIComponent(t.link):void 0,i=id(n).link,r=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return id(r).link||r||i||n||e}(t);if(r.includes("/__/auth/callback")){const t=id(r),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(MN){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(i=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===i?void 0:i[1],a=o?ga(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:r,postBody:null}}return null}function ed(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Qh;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function td(){return Za(Fc)}function nd(e){return Ja("authEvent",e.config.apiKey,e.name)}function id(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return js(n.join("?"))}const rd=class{constructor(){this._redirectPersistence=zc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ou,this._overrideRedirectResult=Iu}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Xh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ma(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,i){!function(e){var t,n,i,r,s,o,a,l,c,u;const h=Kh();wa("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wa("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wa("function"===typeof(null===(s=null===(r=null===(i=null===h||void 0===h?void 0:h.cordova)||void 0===i?void 0:i.plugins)||void 0===r?void 0:r.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wa("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wa("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),Tu.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ed(),postBody:null,tenantId:e.tenantId,error:ga(e,"no-auth-event")}}(e,n,i);await function(e,t){return td()._set(nd(e),t)}(e,s);const o=await Yh(e,s,t);return async function(e,t,n){const{cordova:i}=Kh();let r=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=i.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(ga(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),sl()&&document.addEventListener("visibilitychange",u,!1),r=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{r()}}(e,r,await Zh(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Kh(),n={};ll()?n.iosBundleId=t.packageName:sl()?n.androidPackageName=t.packageName:ma(e,"operation-not-supported-in-this-environment"),await ju(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:r}=Kh(),s=setTimeout((async()=>{await Jh(e),t.onEvent(sd())}),500),o=async n=>{clearTimeout(s);const i=await Jh(e);let r=null;i&&(null===n||void 0===n?void 0:n.url)&&(r=$h(i,n.url)),t.onEvent(r||sd())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=i,l="".concat(r.packageName.toLowerCase(),"://");Kh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(MN){console.error(MN)}}}};function sd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ga("no-auth-event")}}function od(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return!("file:"!==od()&&"ionic:"!==od()&&"capacitor:"!==od()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return Ns()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ss();return/Edge\/\d+/.test(e)}(e)}function cd(){try{const e=self.localStorage,t=Bc();if(e)return e.setItem(t,"1"),e.removeItem(t),!ld()||Ps()}catch(MN){return ud()&&Ps()}return!1}function ud(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hd(){return("http:"===od()||"https:"===od()||Is()||ad())&&!(Cs()||ks())&&cd()&&!ud()}function dd(){return ad()&&"undefined"!==typeof document}const fd={LOCAL:"local",NONE:"none",SESSION:"session"},pd=wa,md="persistence";async function gd(e){await e._initializationPromise;const t=vd(),n=Ja(md,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function vd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(MN){return null}}const yd=wa;class _d{constructor(){this.browserResolver=Za(oh),this.cordovaResolver=Za(rd),this.underlyingResolver=null,this._redirectPersistence=zc,this._completeRedirectFn=Ou,this._overrideRedirectResult=Iu}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,i)}async _openRedirect(e,t,n,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!dd()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function wd(e){return e.unwrap()}function bd(e,t){var n;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Sd(e,function(e,t){var n;const i=qs(e),r=t;return wa(t.customData.operationType,i,"argument-error"),wa(null===(n=r.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,i,"argument-error"),Ac._fromError(i,r)}(e,t))}else if(i){const e=xd(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function xd(e){const{_tokenResponse:t}=e instanceof As?e.customData:e;if(!t)return null;if(!(e instanceof As)&&"temporaryProof"in t&&"phoneNumber"in t)return fu.credentialFromResult(e);const n=t.providerId;if(!n||n===na.PASSWORD)return null;let i;switch(n){case na.GOOGLE:i=Hl;break;case na.FACEBOOK:i=ql;break;case na.GITHUB:i=Wl;break;case na.TWITTER:i=Yl;break;default:const{oauthIdToken:e,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return r||s||e||o?o?n.startsWith("saml.")?Gl._create(n,o):Rl._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:r}):new Vl(n).credential({idToken:e,accessToken:r,rawNonce:a}):null}return e instanceof As?i.credentialFromError(e):i.credentialFromResult(e)}function Ed(e,t){return t.catch((t=>{throw t instanceof As&&bd(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(i=e,xd(i)),additionalUserInfo:Nc(e),user:kd.getOrCreate(n)};var i}))}async function Td(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Ed(e,n.confirm(t))}}class Sd{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ed(wd(this.auth),this.resolver.resolveSignIn(e))}}class kd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=qs(e);return Oc.has(t)||Oc.set(t,Dc._fromUser(t)),Oc.get(t)}(e)}static getOrCreate(e){return kd.USER_MAP.has(e)||kd.USER_MAP.set(e,new kd(e)),kd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ed(this.auth,ac(this._delegate,e))}async linkWithPhoneNumber(e,t){return Td(this.auth,async function(e,t,n){const i=qs(e);await ic(!1,i,"phone");const r=await du(i.auth,t,qs(n));return new hu(r,(e=>ac(i,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Ed(this.auth,async function(e,t,n){const i=qs(e);ya(i.auth,t,Ul);const r=pu(i.auth,n);return new xu(i.auth,"linkViaPopup",t,r,i).executeNotNull()}(this._delegate,e,_d))}async linkWithRedirect(e){return await gd(bl(this.auth)),Du(this._delegate,e,_d)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ed(this.auth,lc(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Td(this.auth,async function(e,t,n){const i=qs(e),r=await du(i.auth,t,qs(n));return new hu(r,(e=>lc(i,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ed(this.auth,async function(e,t,n){const i=qs(e);ya(i.auth,t,Ul);const r=pu(i.auth,n);return new xu(i.auth,"reauthViaPopup",t,r,i).executeNotNull()}(this._delegate,e,_d))}async reauthenticateWithRedirect(e){return await gd(bl(this.auth)),Au(this._delegate,e,_d)}sendEmailVerification(e){return _c(this._delegate,e)}async unlink(e){return await tc(this._delegate,e),this}updateEmail(e){return function(e,t){return xc(qs(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return xc(qs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await nc(qs(e),t)}(this._delegate,e)}updateProfile(e){return bc(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return wc(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kd.USER_MAP=new WeakMap;const Id=wa;class Cd{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Id(n,"invalid-api-key",{appName:e.name}),Id(n,"invalid-api-key",{appName:e.name});const i="undefined"!==typeof window?_d:void 0;this._delegate=t.initialize({options:{persistence:Pd(n,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ua),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){El(this._delegate,e,t)}applyActionCode(e){return pc(this._delegate,e)}checkActionCode(e){return mc(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Il(qs(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ed(this._delegate,gc(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return yc(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=jl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Id(hd(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await bl(e)._initializationPromise,Ou(e,t,!1)}(this._delegate,_d);return e?Ed(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){bl(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:i,error:r,complete:s}=Nd(e,t,n);return this._delegate.onAuthStateChanged(i,r,s)}onIdTokenChanged(e,t,n){const{next:i,error:r,complete:s}=Nd(e,t,n);return this._delegate.onIdTokenChanged(i,r,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var i;const r=bl(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(e,t){wa(t.handleCodeInApp,r,"argument-error"),t&&fc(r,e,t)}if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await yl(r,s,"getOobCode",!0);o(e,n),await Dl(r,e)}else o(s,n),await Dl(r,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await yl(r,s,"getOobCode",!0);o(e,n),await Dl(r,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var i;const r=bl(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(i=r._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){const e=await yl(r,s,"getOobCode",!0);n&&fc(r,e,n),await Al(r,e)}else n&&fc(r,s,n),await Al(r,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await yl(r,s,"getOobCode",!0);n&&fc(r,e,n),await Al(r,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){pd(Object.values(fd).includes(t),e,"invalid-persistence-type"),Cs()?pd(t!==fd.SESSION,e,"unsupported-persistence-type"):ks()?pd(t===fd.NONE,e,"unsupported-persistence-type"):ud()?pd(t===fd.NONE||t===fd.LOCAL&&Ps(),e,"unsupported-persistence-type"):pd(t===fd.NONE||cd(),e,"unsupported-persistence-type")}(this._delegate,e),e){case fd.SESSION:t=zc;break;case fd.LOCAL:t=await Za(eu)._isAvailable()?eu:Fc;break;case fd.NONE:t=Xa;break;default:return ma("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ed(this._delegate,async function(e){var t;const n=bl(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ql({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Zl(n,{returnSecureToken:!0}),r=await Ql._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}(this._delegate))}signInWithCredential(e){return Ed(this._delegate,oc(this._delegate,e))}signInWithCustomToken(e){return Ed(this._delegate,cc(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ed(this._delegate,vc(this._delegate,e,t))}signInWithEmailLink(e,t){return Ed(this._delegate,async function(e,t,n){const i=qs(e),r=zl.credentialWithLink(t,n||Ea());return wa(r._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),oc(i,r)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Td(this._delegate,async function(e,t,n){const i=bl(e),r=await du(i,t,qs(n));return new hu(r,(e=>oc(i,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Id(hd(),this._delegate,"operation-not-supported-in-this-environment"),Ed(this._delegate,bu(this._delegate,e,_d))}async signInWithRedirect(e){return Id(hd(),this._delegate,"operation-not-supported-in-this-environment"),await gd(this._delegate),Pu(this._delegate,e,_d)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await mc(qs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Nd(e,t,n){let i=e;"function"!==typeof e&&({next:i,error:t,complete:n}=e);const r=i;return{next:e=>r(e&&kd.getOrCreate(e)),error:t,complete:n}}function Pd(e,t){const n=function(e,t){const n=vd();if(!n)return[];const i=Ja(md,e,t);switch(n.getItem(i)){case fd.NONE:return[Xa];case fd.LOCAL:return[eu,zc];case fd.SESSION:return[zc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(eu)||n.push(eu),"undefined"!==typeof window)for(const i of[Fc,zc])n.includes(i)||n.push(i);return n.includes(Xa)||n.push(Xa),n}Cd.Persistence=fd;class Ad{constructor(){this.providerId="phone",this._delegate=new fu(wd(Gh.auth()))}static credential(e,t){return fu.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ad.PHONE_SIGN_IN_METHOD=fu.PHONE_SIGN_IN_METHOD,Ad.PROVIDER_ID=fu.PROVIDER_ID;const Dd=wa;class Od{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gh.app();var i;Dd(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new uu(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Ld;(Ld=Gh).INTERNAL.registerComponent(new Hs("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Cd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ia,PASSWORD_RESET:ra,RECOVER_EMAIL:sa,REVERT_SECOND_FACTOR_ADDITION:oa,VERIFY_AND_CHANGE_EMAIL:aa,VERIFY_EMAIL:la}},EmailAuthProvider:zl,FacebookAuthProvider:ql,GithubAuthProvider:Wl,GoogleAuthProvider:Hl,OAuthProvider:Vl,SAMLAuthProvider:Kl,PhoneAuthProvider:Ad,PhoneMultiFactorGenerator:ch,RecaptchaVerifier:Od,TwitterAuthProvider:Yl,Auth:Cd,AuthCredential:kl,Error:As}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ld.registerVersion("@firebase/auth-compat","0.4.2");var Rd,Md="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fd={},jd=jd||{},zd=Md||self;function Ud(){}function Bd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qd="closure_uid_"+(1e9*Math.random()>>>0),Hd=0;function Wd(e,t,n){return e.call.apply(e.bind,arguments)}function Gd(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kd(e,t,n){return(Kd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wd:Gd).apply(null,arguments)}function Yd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Zd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function Qd(){this.s=this.s,this.o=this.o}Qd.prototype.s=!1,Qd.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,qd)&&e[qd]||(e[qd]=++Hd))},Qd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jd(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function $d(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Bd(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function ef(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ef.prototype.h=function(){this.defaultPrevented=!0};var tf=function(){if(!zd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{zd.addEventListener("test",Ud,t),zd.removeEventListener("test",Ud,t)}catch(n){}return e}();function nf(e){return/^[\s\xa0]*$/.test(e)}var rf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sf(e,t){return e<t?-1:e>t?1:0}function of(){var e=zd.navigator;return e&&(e=e.userAgent)?e:""}function af(e){return-1!=of().indexOf(e)}function lf(e){return lf[" "](e),e}function cf(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}lf[" "]=Ud;var uf,hf=af("Opera"),df=af("Trident")||af("MSIE"),ff=af("Edge"),pf=ff||df,mf=af("Gecko")&&!(-1!=of().toLowerCase().indexOf("webkit")&&!af("Edge"))&&!(af("Trident")||af("MSIE"))&&!af("Edge"),gf=-1!=of().toLowerCase().indexOf("webkit")&&!af("Edge");function vf(){var e=zd.document;return e?e.documentMode:void 0}e:{var yf="",_f=function(){var e=of();return mf?/rv:([^\);]+)(\)|;)/.exec(e):ff?/Edge\/([\d\.]+)/.exec(e):df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):gf?/WebKit\/(\S+)/.exec(e):hf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_f&&(yf=_f?_f[1]:""),df){var wf=vf();if(null!=wf&&wf>parseFloat(yf)){uf=String(wf);break e}}uf=yf}var bf,xf={};if(zd.document&&df){var Ef=vf();bf=Ef||(parseInt(uf,10)||void 0)}else bf=void 0;var Tf=bf;function Sf(e,t){if(ef.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mf){e:{try{lf(t.nodeName);var r=!0;break e}catch(We){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sf.$.h.call(this)}}Zd(Sf,ef);var kf={2:"touch",3:"pen",4:"mouse"};Sf.prototype.h=function(){Sf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var If="closure_listenable_"+(1e6*Math.random()|0),Cf=0;function Nf(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++Cf,this.fa=this.ia=!1}function Pf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Af(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function Df(e){const t={};for(const n in e)t[n]=e[n];return t}const Of="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lf(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<Of.length;t++)n=Of[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Rf(e){this.src=e,this.g={},this.h=0}function Mf(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Xd(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Pf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ff(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}Rf.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ff(e,t,i,r);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Nf(t,this.src,s,!!i,r)).ia=n,e.push(t)),t};var jf="closure_lm_"+(1e6*Math.random()|0),zf={};function Uf(e,t,n,i,r){if(i&&i.once)return Vf(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Uf(e,t[s],n,i,r);return null}return n=Zf(n),e&&e[If]?e.O(t,n,Vd(i)?!!i.capture:!!i,r):Bf(e,t,n,!1,i,r)}function Bf(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var o=Vd(r)?!!r.capture:!!r,a=Kf(e);if(a||(e[jf]=a=new Rf(e)),(n=a.add(t,n,i,o,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Gf;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)tf||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(Wf(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function Vf(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vf(e,t[s],n,i,r);return null}return n=Zf(n),e&&e[If]?e.P(t,n,Vd(i)?!!i.capture:!!i,r):Bf(e,t,n,!0,i,r)}function qf(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)qf(e,t[s],n,i,r);else i=Vd(i)?!!i.capture:!!i,n=Zf(n),e&&e[If]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ff(s=e.g[t],n,i,r))&&(Pf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Kf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ff(t,n,i,r)),(n=-1<e?t[e]:null)&&Hf(n))}function Hf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[If])Mf(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Wf(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Kf(t))?(Mf(n,e),0==n.h&&(n.src=null,t[jf]=null)):Pf(e)}}}function Wf(e){return e in zf?zf[e]:zf[e]="on"+e}function Gf(e,t){if(e.fa)e=!0;else{t=new Sf(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Hf(e),e=n.call(i,t)}return e}function Kf(e){return(e=e[jf])instanceof Rf?e:null}var Yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zf(e){return"function"===typeof e?e:(e[Yf]||(e[Yf]=function(t){return e.handleEvent(t)}),e[Yf])}function Qf(){Qd.call(this),this.i=new Rf(this),this.S=this,this.J=null}function Xf(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"===typeof t)t=new ef(t,e);else if(t instanceof ef)t.target=t.target||e;else{var r=t;Lf(t=new ef(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];r=Jf(o,i,!0,t)&&r}if(r=Jf(o=t.g=e,i,!0,t)&&r,r=Jf(o,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Jf(o=t.g=n[s],i,!1,t)&&r}function Jf(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Mf(e.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}Zd(Qf,Qd),Qf.prototype[If]=!0,Qf.prototype.removeEventListener=function(e,t,n,i){qf(this,e,t,n,i)},Qf.prototype.N=function(){if(Qf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Pf(n[i]);delete t.g[e],t.h--}}this.J=null},Qf.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Qf.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var $f=zd.JSON.stringify;function ep(){var e=ap;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tp,np=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ip),(e=>e.reset()));class ip{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rp(e){zd.setTimeout((()=>{throw e}),0)}function sp(e,t){tp||function(){var e=zd.Promise.resolve(void 0);tp=function(){e.then(lp)}}(),op||(tp(),op=!0),ap.add(e,t)}var op=!1,ap=new class{constructor(){this.h=this.g=null}add(e,t){const n=np.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function lp(){for(var e;e=ep();){try{e.h.call(e.g)}catch(n){rp(n)}var t=np;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}op=!1}function cp(e,t){Qf.call(this),this.h=e||1,this.g=t||zd,this.j=Kd(this.qb,this),this.l=Date.now()}function up(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hp(e,t,n){if("function"===typeof e)n&&(e=Kd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kd(e.handleEvent,e)}return 2147483647<Number(t)?-1:zd.setTimeout(e,t||0)}function dp(e){e.g=hp((()=>{e.g=null,e.i&&(e.i=!1,dp(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Zd(cp,Qf),(Rd=cp.prototype).ga=!1,Rd.T=null,Rd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xf(this,"tick"),this.ga&&(up(this),this.start()))}},Rd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rd.N=function(){cp.$.N.call(this),up(this),delete this.g};class fp extends Qd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dp(this)}N(){super.N(),this.g&&(zd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pp(e){Qd.call(this),this.h=e,this.g={}}Zd(pp,Qd);var mp=[];function gp(e,t,n,i){Array.isArray(n)||(n&&(mp[0]=n.toString()),n=mp);for(var r=0;r<n.length;r++){var s=Uf(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function vp(e){Af(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hf(e)}),e),e.g={}}function yp(){this.g=!0}function _p(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return $f(n)}catch(He){return t}}(e,n)+(i?" "+i:"")}))}pp.prototype.N=function(){pp.$.N.call(this),vp(this)},pp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yp.prototype.Ea=function(){this.g=!1},yp.prototype.info=function(){};var wp={},bp=null;function xp(){return bp=bp||new Qf}function Ep(e){ef.call(this,wp.Ta,e)}function Tp(e){const t=xp();Xf(t,new Ep(t))}function Sp(e,t){ef.call(this,wp.STAT_EVENT,e),this.stat=t}function kp(e){const t=xp();Xf(t,new Sp(t,e))}function Ip(e,t){ef.call(this,wp.Ua,e),this.size=t}function Cp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return zd.setTimeout((function(){e()}),t)}wp.Ta="serverreachability",Zd(Ep,ef),wp.STAT_EVENT="statevent",Zd(Sp,ef),wp.Ua="timingevent",Zd(Ip,ef);var Np={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ap(){}function Dp(e){return e.h||(e.h=e.i())}function Op(){}Ap.prototype.h=null;var Lp,Rp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mp(){ef.call(this,"d")}function Fp(){ef.call(this,"c")}function jp(){}function zp(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new pp(this),this.P=Bp,e=pf?125:void 0,this.V=new cp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Up}function Up(){this.i=null,this.g="",this.h=!1}Zd(Mp,ef),Zd(Fp,ef),Zd(jp,Ap),jp.prototype.g=function(){return new XMLHttpRequest},jp.prototype.i=function(){return{}},Lp=new jp;var Bp=45e3,Vp={},qp={};function Hp(e,t,n){e.L=1,e.v=cm(rm(t)),e.s=n,e.S=!0,Wp(e,null)}function Wp(e,t){e.G=Date.now(),Zp(e),e.A=rm(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),xm(n.i,"t",i),e.C=0,n=e.l.I,e.h=new Up,e.g=xg(e.l,n?t:null,!e.s),0<e.O&&(e.M=new fp(Kd(e.Pa,e,e.g),e.O)),gp(e.U,e.g,"readystatechange",e.nb),t=e.I?Df(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Tp(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Gp(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Kp(e,t,n){let i,r=!0;for(;!e.J&&e.C<n.length;){if(i=Yp(e,n),i==qp){4==t&&(e.o=4,kp(14),r=!1),_p(e.j,e.m,null,"[Incomplete Response]");break}if(i==Vp){e.o=4,kp(15),_p(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}_p(e.j,e.m,i,null),em(e,i)}Gp(e)&&i!=qp&&i!=Vp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,kp(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),pg(t),t.L=!0,kp(11))):(_p(e.j,e.m,n,"[Invalid Chunked Response]"),$p(e),Jp(e))}function Yp(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?qp:(n=Number(t.substring(n,i)),isNaN(n)?Vp:(i+=1)+n>t.length?qp:(t=t.substr(i,n),e.C=i+n,t))}function Zp(e){e.Y=Date.now()+e.P,Qp(e,e.P)}function Qp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Cp(Kd(e.lb,e),t)}function Xp(e){e.B&&(zd.clearTimeout(e.B),e.B=null)}function Jp(e){0==e.l.H||e.J||vg(e.l,e)}function $p(e){Xp(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,up(e.V),vp(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function em(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Nm(n.h,e)))if(!e.K&&Nm(n.h,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;gg(n),og(n)}fg(n),kp(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.M&&0==n.A&&!n.v&&(n.v=Cp(Kd(n.ib,n),6e3));if(1>=Cm(n.h)&&n.na){try{n.na()}catch(c){}n.na=void 0}}else _g(n,11)}else if((e.K||n.g==e)&&gg(n),!nf(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.J=c[1],n.oa=c[2];const t=c[3];null!=t&&(n.qa=t,n.j.info("VER="+n.qa));const r=c[4];null!=r&&(n.Ga=r,n.j.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.K=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Pm(s,s.h),s.h=null))}if(i.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,lm(i.G,i.F,e))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var o=e;if((i=n).wa=bg(i,i.I?i.oa:null,i.Y),o.K){Am(i.h,o);var a=o,l=i.K;l&&a.setTimeout(l),a.B&&(Xp(a),Zp(a)),i.g=o}else dg(i);0<n.i.length&&lg(n)}else"stop"!=c[0]&&"close"!=c[0]||_g(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?_g(n,7):sg(n):"noop"!=c[0]&&n.l&&n.l.Aa(c),n.A=0)}Tp()}catch(c){}}function tm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Bd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Bd(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}(Rd=zp.prototype).setTimeout=function(e){this.P=e},Rd.nb=function(e){e=e.target;const t=this.M;t&&3==$m(e)?t.l():this.Pa(e)},Rd.Pa=function(e){try{if(e==this.g)e:{const u=$m(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||pf||this.g&&(this.h.h||this.g.ja()||eg(this.g)))){this.J||4!=u||7==t||Tp(),Xp(this);var n=this.g.da();this.aa=n;t:if(Gp(this)){var i=eg(this.g);e="";var r=i.length,s=4==$m(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$p(this),Jp(this);var o="";break t}this.h.i=new zd.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,i,r,s,o){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,kp(12),$p(this),Jp(this);break e}_p(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,n)}this.S?(Kp(this,u,o),pf&&this.i&&3==u&&(gp(this.U,this.V,"tick",this.mb),this.V.start())):(_p(this.j,this.m,o,null),em(this,o)),4==u&&$p(this),this.i&&!this.J&&(4==u?vg(this.l,this):(this.i=!1,Zp(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,kp(12)):(this.o=0,kp(13)),$p(this),Jp(this)}}}catch(Be){}},Rd.mb=function(){if(this.g){var e=$m(this.g),t=this.g.ja();this.C<t.length&&(Xp(this),Kp(this,e,t),this.i&&4!=e&&Zp(this))}},Rd.cancel=function(){this.J=!0,$p(this)},Rd.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Tp(),kp(17)),$p(this),this.o=2,Jp(this)):Qp(this,this.Y-e)};var nm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof im){this.h=void 0!==t?t:e.h,sm(this,e.j),this.s=e.s,this.g=e.g,om(this,e.m),this.l=e.l,t=e.i;var n=new ym;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),am(this,n),this.o=e.o}else e&&(n=String(e).match(nm))?(this.h=!!t,sm(this,n[1]||"",!0),this.s=um(n[2]||""),this.g=um(n[3]||"",!0),om(this,n[4]),this.l=um(n[5]||"",!0),am(this,n[6]||"",!0),this.o=um(n[7]||"")):(this.h=!!t,this.i=new ym(null,this.h))}function rm(e){return new im(e)}function sm(e,t,n){e.j=n?um(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function om(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function am(e,t,n){t instanceof ym?(e.i=t,function(e,t){t&&!e.j&&(_m(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wm(this,t),xm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hm(t,gm)),e.i=new ym(t,e.h))}function lm(e,t,n){e.i.set(t,n)}function cm(e){return lm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function um(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}im.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hm(t,fm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hm(t,fm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hm(n,"/"==n.charAt(0)?mm:pm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hm(n,vm)),e.join("")};var fm=/[#\/\?@]/g,pm=/[#\?:]/g,mm=/[#\?]/g,gm=/[#\?@]/g,vm=/#/g;function ym(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _m(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wm(e,t){_m(e),t=Em(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bm(e,t){return _m(e),t=Em(e,t),e.g.has(t)}function xm(e,t,n){wm(e,t),0<n.length&&(e.i=null,e.g.set(Em(e,t),Jd(n)),e.h+=n.length)}function Em(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rd=ym.prototype).add=function(e,t){_m(this),this.i=null,e=Em(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rd.forEach=function(e,t){_m(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},Rd.sa=function(){_m(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},Rd.Z=function(e){_m(this);let t=[];if("string"===typeof e)bm(this,e)&&(t=t.concat(this.g.get(Em(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Rd.set=function(e,t){return _m(this),this.i=null,bm(this,e=Em(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Rd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),e.push(r)}}return this.i=e.join("&")};function Tm(e){this.l=e||km,zd.PerformanceNavigationTiming?e=0<(e=zd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(zd.g&&zd.g.Ka&&zd.g.Ka()&&zd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sm,km=10;function Im(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cm(e){return e.h?1:e.g?e.g.size:0}function Nm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Pm(e,t){e.g?e.g.add(t):e.h=t}function Am(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Dm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Jd(e.i)}function Om(){}function Lm(){this.g=new Om}function Rm(e,t,n){const i=n||"";try{tm(e,(function(e,n){let r=e;Vd(e)&&(r=$f(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(MN){throw t.push(i+"type="+encodeURIComponent("_badmap")),MN}}function Mm(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(We){}}function Fm(e){this.l=e.fc||null,this.j=e.ob||!1}function jm(e,t){Qf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tm.prototype.cancel=function(){if(this.i=Dm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Om.prototype.stringify=function(e){return zd.JSON.stringify(e,void 0)},Om.prototype.parse=function(e){return zd.JSON.parse(e,void 0)},Zd(Fm,Ap),Fm.prototype.g=function(){return new jm(this.l,this.j)},Fm.prototype.i=(Sm={},function(){return Sm}),Zd(jm,Qf);var zm=0;function Um(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Bm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vm(e)}function Vm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rd=jm.prototype).open=function(e,t){if(this.readyState!=zm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vm(this)},Rd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||zd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Rd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bm(this)),this.readyState=zm},Rd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vm(this)),this.g&&(this.readyState=3,Vm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof zd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Um(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Rd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bm(this):Vm(this),3==this.readyState&&Um(this)}},Rd.Za=function(e){this.g&&(this.response=this.responseText=e,Bm(this))},Rd.Ya=function(e){this.g&&(this.response=e,Bm(this))},Rd.ka=function(){this.g&&Bm(this)},Rd.setRequestHeader=function(e,t){this.v.append(e,t)},Rd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qm=zd.JSON.parse;function Hm(e){Qf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wm,this.L=this.M=!1}Zd(Hm,Qf);var Wm="",Gm=/^https?$/i,Km=["POST","PUT"];function Ym(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zm(e),Xm(e)}function Zm(e){e.F||(e.F=!0,Xf(e,"complete"),Xf(e,"error"))}function Qm(e){if(e.h&&"undefined"!=typeof jd&&(!e.C[1]||4!=$m(e)||2!=e.da()))if(e.v&&4==$m(e))hp(e.La,0,e);else if(Xf(e,"readystatechange"),4==$m(e)){e.h=!1;try{const l=e.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===l){var r=String(e.I).match(nm)[1]||null;if(!r&&zd.self&&zd.self.location){var s=zd.self.location.protocol;r=s.substr(0,s.length-1)}i=!Gm.test(r?r.toLowerCase():"")}n=i}if(n)Xf(e,"complete"),Xf(e,"success");else{e.m=6;try{var o=2<$m(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",Zm(e)}}finally{Xm(e)}}}function Xm(e,t){if(e.g){Jm(e);const n=e.g,i=e.C[0]?Ud:null;e.g=null,e.C=null,t||Xf(e,"ready");try{n.onreadystatechange=i}catch(MN){}}}function Jm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(zd.clearTimeout(e.A),e.A=null)}function $m(e){return e.g?e.g.readyState:0}function eg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Wm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Je){return null}}function tg(e){let t="";return Af(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ng(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=tg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lm(e,t,n))}function ig(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rg(e){this.Ga=0,this.i=[],this.j=new yp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ig("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ig("baseRetryDelayMs",5e3,e),this.hb=ig("retryDelaySeedMs",1e4,e),this.eb=ig("forwardChannelMaxRetries",2,e),this.xa=ig("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Tm(e&&e.concurrentRequestLimit),this.Ja=new Lm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function sg(e){if(ag(e),3==e.H){var t=e.W++,n=rm(e.G);lm(n,"SID",e.J),lm(n,"RID",t),lm(n,"TYPE","terminate"),ug(e,n),(t=new zp(e,e.j,t,void 0)).L=2,t.v=cm(rm(n)),n=!1,zd.navigator&&zd.navigator.sendBeacon&&(n=zd.navigator.sendBeacon(t.v.toString(),"")),!n&&zd.Image&&((new Image).src=t.v,n=!0),n||(t.g=xg(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zp(t)}wg(e)}function og(e){e.g&&(pg(e),e.g.cancel(),e.g=null)}function ag(e){og(e),e.u&&(zd.clearTimeout(e.u),e.u=null),gg(e),e.h.cancel(),e.m&&("number"===typeof e.m&&zd.clearTimeout(e.m),e.m=null)}function lg(e){Im(e.h)||e.m||(e.m=!0,sp(e.Na,e),e.C=0)}function cg(e,t){var n;n=t?t.m:e.W++;const i=rm(e.G);lm(i,"SID",e.J),lm(i,"RID",n),lm(i,"AID",e.V),ug(e,i),e.o&&e.s&&ng(i,e.o,e.s),n=new zp(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=hg(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Pm(e.h,n),Hp(n,i,t)}function ug(e,t){e.ma&&Af(e.ma,(function(e,n){lm(t,n,e)})),e.l&&tm({},(function(e,n){lm(t,n,e)}))}function hg(e,t,n){n=Math.min(e.i.length,n);var i=e.l?Kd(e.l.Va,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=t,0>n)t=Math.max(0,r[o].h-100),s=!1;else try{Rm(a,e,"req"+n+"_")}catch(tt){i&&i(a)}}if(s){i=e.join("&");break e}}}return e=e.i.splice(0,n),t.F=e,i}function dg(e){e.g||e.u||(e.ba=1,sp(e.Ma,e),e.A=0)}function fg(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Cp(Kd(e.Ma,e),yg(e,e.A)),e.A++,!0)}function pg(e){null!=e.B&&(zd.clearTimeout(e.B),e.B=null)}function mg(e){e.g=new zp(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rm(e.wa);lm(t,"RID","rpc"),lm(t,"SID",e.J),lm(t,"CI",e.M?"0":"1"),lm(t,"AID",e.V),lm(t,"TYPE","xmlhttp"),ug(e,t),e.o&&e.s&&ng(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=cm(rm(t)),n.s=null,n.S=!0,Wp(n,e)}function gg(e){null!=e.v&&(zd.clearTimeout(e.v),e.v=null)}function vg(e,t){var n=null;if(e.g==t){gg(e),pg(e),e.g=null;var i=2}else{if(!Nm(e.h,t))return;n=t.F,Am(e.h,t),i=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var r=e.C;Xf(i=xp(),new Ip(i,n)),lg(e)}else dg(e);else if(3==(r=t.o)||0==r&&0<e.ta||!(1==i&&function(e,t){return!(Cm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Cp(Kd(e.Na,e,t),yg(e,e.C)),e.C++,!0))}(e,t)||2==i&&fg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),r){case 1:_g(e,5);break;case 4:_g(e,10);break;case 3:_g(e,6);break;default:_g(e,2)}}function yg(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function _g(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var i=Kd(e.pb,e);n||(n=new im("//www.google.com/images/cleardot.gif"),zd.location&&"http"==zd.location.protocol||sm(n,"https"),cm(n)),function(e,t){const n=new yp;if(zd.Image){const i=new Image;i.onload=Yd(Mm,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Yd(Mm,n,i,"TestLoadImage: error",!1,t),i.onabort=Yd(Mm,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Yd(Mm,n,i,"TestLoadImage: timeout",!1,t),zd.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else kp(2);e.H=0,e.l&&e.l.za(t),wg(e),ag(e)}function wg(e){if(e.H=0,e.pa=[],e.l){const t=Dm(e.h);0==t.length&&0==e.i.length||($d(e.pa,t),$d(e.pa,e.i),e.h.i.length=0,Jd(e.i),e.i.length=0),e.l.ya()}}function bg(e,t,n){var i=n instanceof im?rm(n):new im(n,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),om(i,i.m);else{var r=zd.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new im(null,void 0);i&&sm(s,i),t&&(s.g=t),r&&om(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&lm(i,n,t),lm(i,"VER",e.qa),ug(e,i),i}function xg(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Hm(new Fm({ob:!0})):new Hm(e.va)).Oa(e.I),t}function Eg(){}function Tg(){if(df&&!(10<=Number(Tf)))throw Error("Environmental error: no available transport.")}function Sg(e,t){Qf.call(this),this.g=new rg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cg(this)}function kg(e){Mp.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ig(){Fp.call(this),this.status=1}function Cg(e){this.g=e}function Ng(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pg(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],o=t+(s^n&(r^s))+i[0]+3614090360&4294967295;o=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function Ag(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}(Rd=Hm.prototype).Oa=function(e){this.M=e},Rd.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lp.g(),this.C=this.u?Dp(this.u):Dp(Lp),this.g.onreadystatechange=Kd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(We){return void Ym(this,We)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=zd.FormData&&e instanceof zd.FormData,!(0<=Xd(Km,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jm(this),0<this.B&&((this.L=function(e){return df&&cf(xf,9,(function(){let e=0;const t=rf(String(uf)).split("."),n=rf("9").split("."),i=Math.max(t.length,n.length);for(let o=0;0==e&&o<i;o++){var r=t[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;e=sf(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||sf(0==r[2].length,0==s[2].length)||sf(r[2],s[2]),r=r[3],s=s[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kd(this.ua,this)):this.A=hp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(We){Ym(this,We)}},Rd.ua=function(){"undefined"!=typeof jd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xf(this,"timeout"),this.abort(8))},Rd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xf(this,"complete"),Xf(this,"abort"),Xm(this))},Rd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xm(this,!0)),Hm.$.N.call(this)},Rd.La=function(){this.s||(this.G||this.v||this.l?Qm(this):this.kb())},Rd.kb=function(){Qm(this)},Rd.da=function(){try{return 2<$m(this)?this.g.status:-1}catch(Sm){return-1}},Rd.ja=function(){try{return this.g?this.g.responseText:""}catch(Sm){return""}},Rd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qm(t)}},Rd.Ia=function(){return this.m},Rd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rd=rg.prototype).qa=8,Rd.H=1,Rd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new zp(this,this.j,e,void 0);let s=this.s;if(this.U&&(s?(s=Df(s),Lf(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hg(this,r,t),lm(n=rm(this.G),"RID",e),lm(n,"CVER",22),this.F&&lm(n,"X-HTTP-Session-Id",this.F),ug(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tg(s)))+"&"+t:this.o&&ng(n,this.o,s)),Pm(this.h,r),this.bb&&lm(n,"TYPE","init"),this.P?(lm(n,"$req",t),lm(n,"SID","null"),r.ba=!0,Hp(r,n,null)):Hp(r,n,t),this.H=2}}else 3==this.H&&(e?cg(this,e):0==this.i.length||Im(this.h)||cg(this))},Rd.Ma=function(){if(this.u=null,mg(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Cp(Kd(this.jb,this),e)}},Rd.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,kp(10),og(this),mg(this))},Rd.ib=function(){null!=this.v&&(this.v=null,og(this),fg(this),kp(19))},Rd.pb=function(e){e?(this.j.info("Successfully pinged google.com"),kp(2)):(this.j.info("Failed to ping google.com"),kp(1))},(Rd=Eg.prototype).Ba=function(){},Rd.Aa=function(){},Rd.za=function(){},Rd.ya=function(){},Rd.Va=function(){},Tg.prototype.g=function(e,t){return new Sg(e,t)},Zd(Sg,Qf),Sg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;kp(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=bg(e,null,e.Y),lg(e)},Sg.prototype.close=function(){sg(this.g)},Sg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=$f(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.fb++,e)),3==t.H&&lg(t)},Sg.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,Sg.$.N.call(this)},Zd(kg,Mp),Zd(Ig,Fp),Zd(Cg,Eg),Cg.prototype.Ba=function(){Xf(this.g,"a")},Cg.prototype.Aa=function(e){Xf(this.g,new kg(e))},Cg.prototype.za=function(e){Xf(this.g,new Ig)},Cg.prototype.ya=function(){Xf(this.g,"b")},Zd(Ng,(function(){this.blockSize=-1})),Ng.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ng.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=n;)Pg(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){Pg(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){Pg(this,i),r=0;break}}this.h=r,this.i+=t},Ng.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var Dg={};function Og(e){return-128<=e&&128>e?cf(Dg,e,(function(e){return new Ag([0|e],0>e?-1:0)})):new Ag([0|e],0>e?-1:0)}function Lg(e){if(isNaN(e)||!isFinite(e))return Mg;if(0>e)return Bg(Lg(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Rg;return new Ag(t,0)}var Rg=4294967296,Mg=Og(0),Fg=Og(1),jg=Og(16777216);function zg(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Ug(e){return-1==e.h}function Bg(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Ag(n,~e.h).add(Fg)}function Vg(e,t){return e.add(Bg(t))}function qg(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hg(e,t){this.g=e,this.h=t}function Wg(e,t){if(zg(t))throw Error("division by zero");if(zg(e))return new Hg(Mg,Mg);if(Ug(e))return t=Wg(Bg(e),t),new Hg(Bg(t.g),Bg(t.h));if(Ug(t))return t=Wg(e,Bg(t)),new Hg(Bg(t.g),t.h);if(30<e.g.length){if(Ug(e)||Ug(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fg,i=t;0>=i.X(e);)n=Gg(n),i=Gg(i);var r=Kg(n,1),s=Kg(i,1);for(i=Kg(i,2),n=Kg(n,2);!zg(i);){var o=s.add(i);0>=o.X(e)&&(r=r.add(n),s=o),i=Kg(i,1),n=Kg(n,1)}return t=Vg(e,r.R(t)),new Hg(r,t)}for(r=Mg;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Lg(n)).R(t);Ug(o)||0<o.X(e);)o=(s=Lg(n-=i)).R(t);zg(s)&&(s=Fg),r=r.add(s),e=Vg(e,o)}return new Hg(r,e)}function Gg(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Ag(n,e.h)}function Kg(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Ag(r,e.h)}(Rd=Ag.prototype).ea=function(){if(Ug(this))return-Bg(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Rg+i)*t,t*=Rg}return e},Rd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(zg(this))return"0";if(Ug(this))return"-"+Bg(this).toString(e);for(var t=Lg(Math.pow(e,6)),n=this,i="";;){var r=Wg(n,t).g,s=((0<(n=Vg(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(zg(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Rd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Rd.X=function(e){return Ug(e=Vg(this,e))?-1:zg(e)?0:1},Rd.abs=function(){return Ug(this)?Bg(this):this},Rd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&e.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new Ag(n,-2147483648&n[n.length-1]?-1:0)},Rd.R=function(e){if(zg(this)||zg(e))return Mg;if(Ug(this))return Ug(e)?Bg(this).R(Bg(e)):Bg(Bg(this).R(e));if(Ug(e))return Bg(this.R(Bg(e)));if(0>this.X(jg)&&0>e.X(jg))return Lg(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),a=e.D(r)>>>16,l=65535&e.D(r);n[2*i+2*r]+=o*l,qg(n,2*i+2*r),n[2*i+2*r+1]+=s*l,qg(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,qg(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,qg(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Ag(n,0)},Rd.gb=function(e){return Wg(this,e).h},Rd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Ag(n,this.h&e.h)},Rd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Ag(n,this.h|e.h)},Rd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Ag(n,this.h^e.h)},Tg.prototype.createWebChannel=Tg.prototype.g,Sg.prototype.send=Sg.prototype.u,Sg.prototype.open=Sg.prototype.m,Sg.prototype.close=Sg.prototype.close,Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,Pp.COMPLETE="complete",Op.EventType=Rp,Rp.OPEN="a",Rp.CLOSE="b",Rp.ERROR="c",Rp.MESSAGE="d",Qf.prototype.listen=Qf.prototype.O,Hm.prototype.listenOnce=Hm.prototype.P,Hm.prototype.getLastError=Hm.prototype.Sa,Hm.prototype.getLastErrorCode=Hm.prototype.Ia,Hm.prototype.getStatus=Hm.prototype.da,Hm.prototype.getResponseJson=Hm.prototype.Wa,Hm.prototype.getResponseText=Hm.prototype.ja,Hm.prototype.send=Hm.prototype.ha,Hm.prototype.setWithCredentials=Hm.prototype.Oa,Ng.prototype.digest=Ng.prototype.l,Ng.prototype.reset=Ng.prototype.reset,Ng.prototype.update=Ng.prototype.j,Ag.prototype.add=Ag.prototype.add,Ag.prototype.multiply=Ag.prototype.R,Ag.prototype.modulo=Ag.prototype.gb,Ag.prototype.compare=Ag.prototype.X,Ag.prototype.toNumber=Ag.prototype.ea,Ag.prototype.toString=Ag.prototype.toString,Ag.prototype.getBits=Ag.prototype.D,Ag.fromNumber=Lg,Ag.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Bg(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Lg(Math.pow(n,8)),r=Mg,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Lg(Math.pow(n,o)),r=r.R(o).add(Lg(a))):r=(r=r.R(i)).add(Lg(a))}return r};var Yg=Fd.createWebChannelTransport=function(){return new Tg},Zg=Fd.getStatEventTarget=function(){return xp()},Qg=Fd.ErrorCode=Np,Xg=Fd.EventType=Pp,Jg=Fd.Event=wp,$g=Fd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ev=Fd.FetchXmlHttpFactory=Fm,tv=Fd.WebChannel=Op,nv=Fd.XhrIo=Hm,iv=Fd.Md5=Ng,rv=Fd.Integer=Ag;const sv="@firebase/firestore";class ov{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ov.UNAUTHENTICATED=new ov(null),ov.GOOGLE_CREDENTIALS=new ov("google-credentials-uid"),ov.FIRST_PARTY=new ov("first-party-uid"),ov.MOCK_USER=new ov("mock-user");let av="9.22.0";const lv=new eo("@firebase/firestore");function cv(){return lv.logLevel}function uv(e){if(lv.logLevel<=Zs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(fv);lv.debug("Firestore (".concat(av,"): ").concat(e),...r)}}function hv(e){if(lv.logLevel<=Zs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(fv);lv.error("Firestore (".concat(av,"): ").concat(e),...r)}}function dv(e){if(lv.logLevel<=Zs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(fv);lv.warn("Firestore (".concat(av,"): ").concat(e),...r)}}function fv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(av,") INTERNAL ASSERTION FAILED: ")+e;throw hv(t),new Error(t)}function mv(e,t){e||pv()}function gv(e,t){return e}const vv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yv extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class _v{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ov.UNAUTHENTICATED)))}shutdown(){}}class xv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ev{constructor(e){this.t=e,this.currentUser=ov.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new _v;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new _v,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},o=e=>{uv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(uv("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new _v)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(uv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mv("string"==typeof t.accessToken),new wv(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mv(null===e||"string"==typeof e),new ov(e)}}class Tv{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ov.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sv{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Tv(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(ov.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Iv{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&uv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,uv("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{uv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?i(e):uv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(mv("string"==typeof e.token),this.T=e.token,new kv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cv(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class Nv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=Cv(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function Pv(e,t){return e<t?-1:e>t?1:0}function Av(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}function Dv(e){return e+"\0"}class Ov{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yv(vv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yv(vv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new yv(vv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yv(vv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ov.fromMillis(Date.now())}static fromDate(e){return Ov.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ov(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pv(this.nanoseconds,e.nanoseconds):Pv(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lv(e)}static min(){return new Lv(new Ov(0,0))}static max(){return new Lv(new Ov(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rv{constructor(e,t,n){void 0===t?t=0:t>e.length&&pv(),void 0===n?n=e.length-t:n>e.length-t&&pv(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Rv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rv?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mv extends Rv{construct(e,t,n){return new Mv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new yv(vv.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new Mv(e)}static emptyPath(){return new Mv([])}}const Fv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jv extends Rv{construct(e,t,n){return new jv(e,t,n)}static isValidIdentifier(e){return Fv.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jv.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jv(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new yv(vv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new yv(vv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yv(vv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new yv(vv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jv(t)}static emptyPath(){return new jv([])}}class zv{constructor(e){this.path=e}static fromPath(e){return new zv(Mv.fromString(e))}static fromName(e){return new zv(Mv.fromString(e).popFirst(5))}static empty(){return new zv(Mv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zv(new Mv(e.slice()))}}class Uv{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function Bv(e){return e.fields.find((e=>2===e.kind))}function Vv(e){return e.fields.filter((e=>2!==e.kind))}Uv.UNKNOWN_ID=-1;class qv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hv(0,Kv.min())}}function Wv(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Lv.fromTimestamp(1e9===i?new Ov(n+1,0):new Ov(n,i));return new Kv(r,zv.empty(),t)}function Gv(e){return new Kv(e.readTime,e.key,-1)}class Kv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Kv(Lv.min(),zv.empty(),-1)}static max(){return new Kv(Lv.max(),zv.empty(),-1)}}function Yv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=zv.comparator(e.documentKey,t.documentKey),0!==n?n:Pv(e.largestBatchId,t.largestBatchId))}const Zv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xv(e){if(e.code!==vv.FAILED_PRECONDITION||e.message!==Zv)throw e;uv("LocalStore","Unexpectedly lost primary lease")}class Jv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jv(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Jv?t:Jv.resolve(t)}catch(e){return Jv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Jv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Jv.reject(t)}static resolve(e){return new Jv(((t,n)=>{t(e)}))}static reject(e){return new Jv(((t,n)=>{n(e)}))}static waitFor(e){return new Jv(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=Jv.resolve(!1);for(const n of e)t=t.next((e=>e?Jv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Jv(((n,i)=>{const r=e.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new Jv(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new _v,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ny(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=ay(t.target.error);this.v.reject(new ny(e,n))}}static open(e,t,n,i){try{return new $v(t,e.transaction(i,n))}catch(e){throw new ny(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(uv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ry(t)}}class ey{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===ey.S(Ss())&&hv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return uv("SimpleDb","Removing database:",e),sy(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ps())return!1;if(ey.C())return!0;const e=Ss(),t=ey.S(e),n=0<t&&t<10,i=ey.N(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(uv("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new ny(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new yv(vv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new yv(vv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new ny(e,i))},i.onupgradeneeded=e=>{uv("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,i.transaction,e.oldVersion,this.version).next((()=>{uv("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=$v.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Jv.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(uv("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ty{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return sy(this.L.delete())}}class ny extends yv{constructor(e,t){super(vv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function iy(e){return"IndexedDbTransactionError"===e.name}class ry{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(uv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(uv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),sy(n)}add(e){return uv("SimpleDb","ADD",this.store.name,e,e),sy(this.store.add(e))}get(e){return sy(this.store.get(e)).next((t=>(void 0===t&&(t=null),uv("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return uv("SimpleDb","DELETE",this.store.name,e),sy(this.store.delete(e))}count(){return uv("SimpleDb","COUNT",this.store.name),sy(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Jv(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Jv(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){uv("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const i=this.cursor(n);return this.W(i,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.W(i,t)}Z(e){const t=this.cursor({});return new Jv(((n,i)=>{t.onerror=e=>{const t=ay(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next((e=>{e?i.continue():n()})):n()}}))}W(e,t){const n=[];return new Jv(((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new ty(r),o=t(r.primaryKey,r.value,s);if(o instanceof Jv){const e=o.catch((e=>(s.done(),Jv.reject(e))));n.push(e)}s.isDone?i():null===s.K?r.continue():r.continue(s.K)}})).next((()=>Jv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sy(e){return new Jv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=ay(e.target.error);n(t)}}))}let oy=!1;function ay(e){const t=ey.S(Ss());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new yv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return oy||(oy=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ly{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){uv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{uv("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){iy(e)?uv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Xv(e)}await this.et(6e4)}))}}class cy{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let i=t,r=!0;return Jv.doWhile((()=>!0===r&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return uv("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,i).next((e=>{i-=e,n.add(t)}));r=!1})))).next((()=>t-i))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next((n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next((()=>this.rt(i,n))).next((n=>(uv("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>r.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const i=Gv(t);Yv(i,n)>0&&(n=i)})),new Kv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class uy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function hy(e){return null==e}function dy(e){return 0===e&&1/e==-1/0}function fy(e){return"number"==typeof e&&Number.isInteger(e)&&!dy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function py(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gy(t)),t=my(e.get(n),t);return gy(t)}function my(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function gy(e){return e+"\x01\x01"}function vy(e){const t=e.length;if(mv(t>=2),2===t)return mv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mv.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&pv(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"\x10":r+=e.substring(s,t),r+="\0";break;case"\x11":r+=e.substring(s,t+1);break;default:pv()}s=t+2}return new Mv(i)}uy.ct=-1;const yy=["userId","batchId"];function _y(e,t){return[e,py(t)]}function wy(e,t,n){return[e,py(t),n]}const by={},xy=["prefixPath","collectionGroup","readTime","documentId"],Ey=["prefixPath","collectionGroup","documentId"],Ty=["collectionGroup","readTime","prefixPath","documentId"],Sy=["canonicalId","targetId"],ky=["targetId","path"],Iy=["path","targetId"],Cy=["collectionId","parent"],Ny=["indexId","uid"],Py=["uid","sequenceNumber"],Ay=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dy=["indexId","uid","orderedDocumentKey"],Oy=["userId","collectionPath","documentId"],Ly=["userId","collectionPath","largestBatchId"],Ry=["userId","collectionGroup","largestBatchId"],My=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fy=[...My,"documentOverlays"],jy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zy=jy,Uy=[...zy,"indexConfiguration","indexState","indexEntries"];class By extends Qv{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Vy(e,t){const n=gv(e);return ey.M(n.ht,t)}function qy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Gy{constructor(e,t){this.comparator=e,this.root=t||Yy.EMPTY}insert(e,t){return new Gy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yy.BLACK,null,null))}remove(e){return new Gy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yy.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ky(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ky(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ky(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ky(this.root,e,this.comparator,!0)}}class Ky{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yy{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Yy.RED,this.left=null!=i?i:Yy.EMPTY,this.right=null!=r?r:Yy.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Yy(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yy.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yy.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yy.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pv();if(this.right.isRed())throw pv();const e=this.left.check();if(e!==this.right.check())throw pv();return e+(this.isRed()?0:1)}}Yy.EMPTY=null,Yy.RED=!0,Yy.BLACK=!1,Yy.EMPTY=new class{constructor(){this.size=0}get key(){throw pv()}get value(){throw pv()}get color(){throw pv()}get left(){throw pv()}get right(){throw pv()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Yy(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zy{constructor(e){this.comparator=e,this.data=new Gy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Zy))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Zy(this.comparator);return t.data=e,t}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xy(e){return e.hasNext()?e.getNext():void 0}class Jy{constructor(e){this.fields=e,e.sort(jv.comparator)}static empty(){return new Jy([])}unionWith(e){let t=new Zy(jv.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Av(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class e_{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $y("Invalid base64 string: "+e):e}}(e);return new e_(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new e_(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pv(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}e_.EMPTY_BYTE_STRING=new e_("");const t_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function n_(e){if(mv(!!e),"string"==typeof e){let t=0;const n=t_.exec(e);if(mv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:i_(e.seconds),nanos:i_(e.nanos)}}function i_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function r_(e){return"string"==typeof e?e_.fromBase64String(e):e_.fromUint8Array(e)}function s_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function o_(e){const t=e.mapValue.fields.__previous_value__;return s_(t)?o_(t):t}function a_(e){const t=n_(e.mapValue.fields.__local_write_time__.timestampValue);return new Ov(t.seconds,t.nanos)}class l_{constructor(e,t,n,i,r,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class c_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new c_("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof c_&&e.projectId===this.projectId&&e.database===this.database}}const u_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},h_={nullValue:"NULL_VALUE"};function d_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?s_(e)?4:k_(e)?9007199254740991:10:pv()}function f_(e,t){if(e===t)return!0;const n=d_(e);if(n!==d_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return a_(e).isEqual(a_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=n_(e.timestampValue),i=n_(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return r_(e.bytesValue).isEqual(r_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return i_(e.geoPointValue.latitude)===i_(t.geoPointValue.latitude)&&i_(e.geoPointValue.longitude)===i_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return i_(e.integerValue)===i_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=i_(e.doubleValue),i=i_(t.doubleValue);return n===i?dy(n)===dy(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Av(e.arrayValue.values||[],t.arrayValue.values||[],f_);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(qy(n)!==qy(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!f_(n[r],i[r])))return!1;return!0}(e,t);default:return pv()}}function p_(e,t){return void 0!==(e.values||[]).find((e=>f_(e,t)))}function m_(e,t){if(e===t)return 0;const n=d_(e),i=d_(t);if(n!==i)return Pv(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pv(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=i_(e.integerValue||e.doubleValue),i=i_(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return g_(e.timestampValue,t.timestampValue);case 4:return g_(a_(e),a_(t));case 5:return Pv(e.stringValue,t.stringValue);case 6:return function(e,t){const n=r_(e),i=r_(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Pv(n[r],i[r]);if(0!==e)return e}return Pv(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Pv(i_(e.latitude),i_(t.latitude));return 0!==n?n:Pv(i_(e.longitude),i_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=m_(n[r],i[r]);if(e)return e}return Pv(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===u_.mapValue&&t===u_.mapValue)return 0;if(e===u_.mapValue)return 1;if(t===u_.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const e=Pv(i[o],s[o]);if(0!==e)return e;const t=m_(n[i[o]],r[s[o]]);if(0!==t)return t}return Pv(i.length,s.length)}(e.mapValue,t.mapValue);default:throw pv()}}function g_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pv(e,t);const n=n_(e),i=n_(t),r=Pv(n.seconds,i.seconds);return 0!==r?r:Pv(n.nanos,i.nanos)}function v_(e){return y_(e)}function y_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=n_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?r_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=y_(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(y_(e.fields[r]));return n+"}"}(e.mapValue):pv();var t,n}function __(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function w_(e){return!!e&&"integerValue"in e}function b_(e){return!!e&&"arrayValue"in e}function x_(e){return!!e&&"nullValue"in e}function E_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function T_(e){return!!e&&"mapValue"in e}function S_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hy(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=S_(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=S_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function k_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function I_(e){return"nullValue"in e?h_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?__(c_.empty(),zv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pv()}function C_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?__(c_.empty(),zv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?u_:pv()}function N_(e,t){const n=m_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function P_(e,t){const n=m_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class A_{constructor(e){this.value=e}static empty(){return new A_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!T_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=S_(t)}setAll(e){let t=jv.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=S_(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());T_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return f_(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];T_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Hy(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new A_(S_(this.value))}}function D_(e){const t=[];return Hy(e.fields,((e,n)=>{const i=new jv([e]);if(T_(n)){const e=D_(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new Jy(t)}class O_{constructor(e,t,n,i,r,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(e){return new O_(e,0,Lv.min(),Lv.min(),Lv.min(),A_.empty(),0)}static newFoundDocument(e,t,n,i){return new O_(e,1,t,Lv.min(),n,i,0)}static newNoDocument(e,t){return new O_(e,2,t,Lv.min(),Lv.min(),A_.empty(),0)}static newUnknownDocument(e,t){return new O_(e,3,t,Lv.min(),Lv.min(),A_.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Lv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=A_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=A_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof O_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new O_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class L_{constructor(e,t){this.position=e,this.inclusive=t}}function R_(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(i=s.field.isKeyField()?zv.comparator(zv.fromName(o.referenceValue),n.key):m_(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function M_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!f_(e.position[n],t.position[n]))return!1;return!0}class F_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function j_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class z_{}class U_ extends z_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Q_(e,t,n):"array-contains"===t?new ew(e,n):"in"===t?new tw(e,n):"not-in"===t?new nw(e,n):"array-contains-any"===t?new iw(e,n):new U_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new X_(e,n):new J_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(m_(t,this.value)):null!==t&&d_(this.value)===d_(t)&&this.matchesComparison(m_(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class B_ extends z_{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new B_(e,t)}matches(e){return V_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function V_(e){return"and"===e.op}function q_(e){return"or"===e.op}function H_(e){return W_(e)&&V_(e)}function W_(e){for(const t of e.filters)if(t instanceof B_)return!1;return!0}function G_(e){if(e instanceof U_)return e.field.canonicalString()+e.op.toString()+v_(e.value);if(H_(e))return e.filters.map((e=>G_(e))).join(",");{const t=e.filters.map((e=>G_(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function K_(e,t){return e instanceof U_?function(e,t){return t instanceof U_&&e.op===t.op&&e.field.isEqual(t.field)&&f_(e.value,t.value)}(e,t):e instanceof B_?function(e,t){return t instanceof B_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&K_(n,t.filters[i])),!0)}(e,t):void pv()}function Y_(e,t){const n=e.filters.concat(t);return B_.create(n,e.op)}function Z_(e){return e instanceof U_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(v_(e.value))}(e):e instanceof B_?function(e){return e.op.toString()+" {"+e.getFilters().map(Z_).join(" ,")+"}"}(e):"Filter"}class Q_ extends U_{constructor(e,t,n){super(e,t,n),this.key=zv.fromName(n.referenceValue)}matches(e){const t=zv.comparator(e.key,this.key);return this.matchesComparison(t)}}class X_ extends U_{constructor(e,t){super(e,"in",t),this.keys=$_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class J_ extends U_{constructor(e,t){super(e,"not-in",t),this.keys=$_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>zv.fromName(e.referenceValue)))}class ew extends U_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return b_(t)&&p_(t.arrayValue,this.value)}}class tw extends U_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&p_(this.value.arrayValue,t)}}class nw extends U_{constructor(e,t){super(e,"not-in",t)}matches(e){if(p_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!p_(this.value.arrayValue,t)}}class iw extends U_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!b_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>p_(this.value.arrayValue,e)))}}class rw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.dt=null}}function sw(e){return new rw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ow(e){const t=gv(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>G_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),hy(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>v_(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>v_(e))).join(",")),t.dt=e}return t.dt}function aw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!j_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!K_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!M_(e.startAt,t.startAt)&&M_(e.endAt,t.endAt)}function lw(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function cw(e,t){return e.filters.filter((e=>e instanceof U_&&e.field.isEqual(t)))}function uw(e,t,n){let i=h_,r=!0;for(const s of cw(e,t)){let e=h_,t=!0;switch(s.op){case"<":case"<=":e=I_(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=h_}N_({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];N_({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function hw(e,t,n){let i=u_,r=!0;for(const s of cw(e,t)){let e=u_,t=!0;switch(s.op){case">=":case">":e=C_(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=u_}P_({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];P_({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}class dw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function fw(e,t,n,i,r,s,o,a){return new dw(e,t,n,i,r,s,o,a)}function pw(e){return new dw(e)}function mw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function vw(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function yw(e){return null!==e.collectionGroup}function _w(e){const t=gv(e);if(null===t.wt){t.wt=[];const e=vw(t),n=gw(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new F_(e)),t.wt.push(new F_(jv.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new F_(jv.keyField(),e))}}}return t.wt}function ww(e){const t=gv(e);if(!t._t)if("F"===t.limitType)t._t=sw(t.path,t.collectionGroup,_w(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const r of _w(t)){const t="desc"===r.dir?"asc":"desc";e.push(new F_(r.field,t))}const n=t.endAt?new L_(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new L_(t.startAt.position,t.startAt.inclusive):null;t._t=sw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function bw(e,t){t.getFirstInequalityField(),vw(e);const n=e.filters.concat([t]);return new dw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xw(e,t,n){return new dw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ew(e,t){return aw(ww(e),ww(t))&&e.limitType===t.limitType}function Tw(e){return"".concat(ow(ww(e)),"|lt:").concat(e.limitType)}function Sw(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Z_(e))).join(", "),"]")),hy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>v_(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>v_(e))).join(",")),"Target(".concat(t,")")}(ww(e)),"; limitType=").concat(e.limitType,")")}function kw(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of _w(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=R_(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,_w(e),t))&&!(e.endAt&&!function(e,t,n){const i=R_(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,_w(e),t))}(e,t)}function Iw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cw(e){return(t,n)=>{let i=!1;for(const r of _w(e)){const e=Nw(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Nw(e,t,n){const i=e.field.isKeyField()?zv.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?m_(i,r):pv()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return pv()}}class Pw{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hy(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return Wy(this.inner)}size(){return this.innerSize}}const Aw=new Gy(zv.comparator);function Dw(){return Aw}const Ow=new Gy(zv.comparator);function Lw(){let e=Ow;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function Rw(e){let t=Ow;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Mw(){return jw()}function Fw(){return jw()}function jw(){return new Pw((e=>e.toString()),((e,t)=>e.isEqual(t)))}const zw=new Gy(zv.comparator),Uw=new Zy(zv.comparator);function Bw(){let e=Uw;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const Vw=new Zy(Pv);function qw(){return Vw}function Hw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dy(t)?"-0":t}}function Ww(e){return{integerValue:""+e}}function Gw(e,t){return fy(t)?Ww(t):Hw(e,t)}class Kw{constructor(){this._=void 0}}function Yw(e,t,n){return e instanceof Xw?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&s_(t)&&(t=o_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jw?$w(e,t):e instanceof eb?tb(e,t):function(e,t){const n=Qw(e,t),i=ib(n)+ib(e.gt);return w_(n)&&w_(e.gt)?Ww(i):Hw(e.serializer,i)}(e,t)}function Zw(e,t,n){return e instanceof Jw?$w(e,t):e instanceof eb?tb(e,t):n}function Qw(e,t){return e instanceof nb?w_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Xw extends Kw{}class Jw extends Kw{constructor(e){super(),this.elements=e}}function $w(e,t){const n=rb(t);for(const i of e.elements)n.some((e=>f_(e,i)))||n.push(i);return{arrayValue:{values:n}}}class eb extends Kw{constructor(e){super(),this.elements=e}}function tb(e,t){let n=rb(t);for(const i of e.elements)n=n.filter((e=>!f_(e,i)));return{arrayValue:{values:n}}}class nb extends Kw{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ib(e){return i_(e.integerValue||e.doubleValue)}function rb(e){return b_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class sb{constructor(e,t){this.field=e,this.transform=t}}class ob{constructor(e,t){this.version=e,this.transformResults=t}}class ab{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ab}static exists(e){return new ab(void 0,e)}static updateTime(e){return new ab(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class cb{}function ub(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new wb(e.key,ab.none()):new mb(e.key,e.data,ab.none());{const n=e.data,i=A_.empty();let r=new Zy(jv.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new gb(e.key,i,new Jy(r.toArray()),ab.none())}}function hb(e,t,n){e instanceof mb?function(e,t,n){const i=e.value.clone(),r=yb(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof gb?function(e,t,n){if(!lb(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=yb(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(vb(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function db(e,t,n,i){return e instanceof mb?function(e,t,n,i){if(!lb(e.precondition,t))return n;const r=e.value.clone(),s=_b(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof gb?function(e,t,n,i){if(!lb(e.precondition,t))return n;const r=_b(e.fieldTransforms,i,t),s=t.data;return s.setAll(vb(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return lb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fb(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Qw(i.transform,e||null);null!=r&&(null===n&&(n=A_.empty()),n.set(i.field,r))}return n||null}function pb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Av(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jw&&t instanceof Jw||e instanceof eb&&t instanceof eb?Av(e.elements,t.elements,f_):e instanceof nb&&t instanceof nb?f_(e.gt,t.gt):e instanceof Xw&&t instanceof Xw}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class mb extends cb{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gb extends cb{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function vb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function yb(e,t,n){const i=new Map;mv(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,Zw(o,a,n[r]))}return i}function _b(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Yw(e,s,t))}return i}class wb extends cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bb extends cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xb{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&hb(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=db(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=db(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Fw();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=t.has(i.key)?null:o;const a=ub(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(Lv.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Bw())}isEqual(e){return this.batchId===e.batchId&&Av(this.mutations,e.mutations,((e,t)=>pb(e,t)))&&Av(this.baseMutations,e.baseMutations,((e,t)=>pb(e,t)))}}class Eb{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){mv(e.mutations.length===n.length);let i=zw;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Eb(e,t,n,i)}}class Tb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Sb{constructor(e,t){this.count=e,this.unchangedNames=t}}var kb,Ib;function Cb(e){switch(e){default:return pv();case vv.CANCELLED:case vv.UNKNOWN:case vv.DEADLINE_EXCEEDED:case vv.RESOURCE_EXHAUSTED:case vv.INTERNAL:case vv.UNAVAILABLE:case vv.UNAUTHENTICATED:return!1;case vv.INVALID_ARGUMENT:case vv.NOT_FOUND:case vv.ALREADY_EXISTS:case vv.PERMISSION_DENIED:case vv.FAILED_PRECONDITION:case vv.ABORTED:case vv.OUT_OF_RANGE:case vv.UNIMPLEMENTED:case vv.DATA_LOSS:return!0}}function Nb(e){if(void 0===e)return hv("GRPC error has no .code"),vv.UNKNOWN;switch(e){case kb.OK:return vv.OK;case kb.CANCELLED:return vv.CANCELLED;case kb.UNKNOWN:return vv.UNKNOWN;case kb.DEADLINE_EXCEEDED:return vv.DEADLINE_EXCEEDED;case kb.RESOURCE_EXHAUSTED:return vv.RESOURCE_EXHAUSTED;case kb.INTERNAL:return vv.INTERNAL;case kb.UNAVAILABLE:return vv.UNAVAILABLE;case kb.UNAUTHENTICATED:return vv.UNAUTHENTICATED;case kb.INVALID_ARGUMENT:return vv.INVALID_ARGUMENT;case kb.NOT_FOUND:return vv.NOT_FOUND;case kb.ALREADY_EXISTS:return vv.ALREADY_EXISTS;case kb.PERMISSION_DENIED:return vv.PERMISSION_DENIED;case kb.FAILED_PRECONDITION:return vv.FAILED_PRECONDITION;case kb.ABORTED:return vv.ABORTED;case kb.OUT_OF_RANGE:return vv.OUT_OF_RANGE;case kb.UNIMPLEMENTED:return vv.UNIMPLEMENTED;case kb.DATA_LOSS:return vv.DATA_LOSS;default:return pv()}}(Ib=kb||(kb={}))[Ib.OK=0]="OK",Ib[Ib.CANCELLED=1]="CANCELLED",Ib[Ib.UNKNOWN=2]="UNKNOWN",Ib[Ib.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ib[Ib.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ib[Ib.NOT_FOUND=5]="NOT_FOUND",Ib[Ib.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ib[Ib.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ib[Ib.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ib[Ib.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ib[Ib.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ib[Ib.ABORTED=10]="ABORTED",Ib[Ib.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ib[Ib.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ib[Ib.INTERNAL=13]="INTERNAL",Ib[Ib.UNAVAILABLE=14]="UNAVAILABLE",Ib[Ib.DATA_LOSS=15]="DATA_LOSS";class Pb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ab}static getOrCreateInstance(){return null===Ab&&(Ab=new Pb),Ab}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Ab=null;function Db(){return new TextEncoder}const Ob=new rv([4294967295,4294967295],0);function Lb(e){const t=Db().encode(e),n=new iv;return n.update(t),new Uint8Array(n.digest())}function Rb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new rv([n,i],0),new rv([r,s],0)]}class Mb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Fb("Invalid padding: ".concat(t));if(n<0)throw new Fb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Fb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Fb("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=rv.fromNumber(this.It)}Et(e,t,n){let i=e.add(t.multiply(rv.fromNumber(n)));return 1===i.compare(Ob)&&(i=new rv([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Lb(e),[n,i]=Rb(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);if(!this.At(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Mb(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Lb(e),[n,i]=Rb(t);for(let r=0;r<this.hashCount;r++){const e=this.Et(n,i,r);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Fb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jb{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,zb.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new jb(Lv.min(),i,new Gy(Pv),Dw(),Bw())}}class zb{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new zb(n,t,Bw(),Bw(),Bw())}}class Ub{constructor(e,t,n,i){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=i}}class Bb{constructor(e,t){this.targetId=e,this.Vt=t}}class Vb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class qb{constructor(){this.St=0,this.Dt=Gb(),this.Ct=e_.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Bw(),t=Bw(),n=Bw();return this.Dt.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:pv()}})),new zb(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Gb()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Hb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Dw(),this.zt=Wb(),this.Wt=new Gy(Pv)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:pv()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,i=e.Vt.count,r=this.se(n);if(r){const s=r.target;if(lw(s))if(0===i){const e=new zv(s.path);this.Yt(n,e,O_.newNoDocument(e,Lv.min()))}else mv(1===i);else{const r=this.ie(n);if(r!==i){const i=this.re(e,r);if(0!==i){this.ee(n);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Pb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var i,r,s,o,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(i=null==u?void 0:u.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(o=null===(s=null===(r=null==u?void 0:u.bits)||void 0===r?void 0:r.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(i,r,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:i}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=r_(r).toUint8Array()}catch(e){if(e instanceof $y)return dv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Mb(a,s,o)}catch(e){return dv(e instanceof Fb?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let i=0;return n.forEach((n=>{const r=this.Gt.ue(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),i++)})),i}ce(e){const t=new Map;this.Qt.forEach(((n,i)=>{const r=this.se(i);if(r){if(n.current&&lw(r.target)){const t=new zv(r.target.path);null!==this.jt.get(t)||this.ae(i,t)||this.Yt(i,t,O_.newNoDocument(t,e))}n.Mt&&(t.set(i,n.Ot()),n.Ft())}}));let n=Bw();this.zt.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const i=new jb(e,t,this.Wt,this.jt,n);return this.jt=Dw(),this.zt=Wb(),this.Wt=new Gy(Pv),i}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new qb,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Zy(Pv),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||uv("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new qb),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Wb(){return new Gy(zv.comparator)}function Gb(){return new Gy(zv.comparator)}const Kb={asc:"ASCENDING",desc:"DESCENDING"},Yb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zb={and:"AND",or:"OR"};class Qb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xb(e,t){return e.useProto3Json||hy(t)?t:{value:t}}function Jb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $b(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ex(e,t){return Jb(e,t.toTimestamp())}function tx(e){return mv(!!e),Lv.fromTimestamp(function(e){const t=n_(e);return new Ov(t.seconds,t.nanos)}(e))}function nx(e,t){return function(e){return new Mv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ix(e){const t=Mv.fromString(e);return mv(Sx(t)),t}function rx(e,t){return nx(e.databaseId,t.path)}function sx(e,t){const n=ix(t);if(n.get(1)!==e.databaseId.projectId)throw new yv(vv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yv(vv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zv(cx(n))}function ox(e,t){return nx(e.databaseId,t)}function ax(e){const t=ix(e);return 4===t.length?Mv.emptyPath():cx(t)}function lx(e){return new Mv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cx(e){return mv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ux(e,t,n){return{name:rx(e,t),fields:n.value.mapValue.fields}}function hx(e,t,n){const i=sx(e,t.name),r=tx(t.updateTime),s=t.createTime?tx(t.createTime):Lv.min(),o=new A_({mapValue:{fields:t.fields}}),a=O_.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function dx(e,t){let n;if(t instanceof mb)n={update:ux(e,t.key,t.value)};else if(t instanceof wb)n={delete:rx(e,t.key)};else if(t instanceof gb)n={update:ux(e,t.key,t.data),updateMask:Tx(t.fieldMask)};else{if(!(t instanceof bb))return pv();n={verify:rx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nb)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw pv()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ex(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pv()}(e,t.precondition)),n}function fx(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ab.updateTime(tx(e.updateTime)):void 0!==e.exists?ab.exists(e.exists):ab.none()}(t.currentDocument):ab.none(),i=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)mv("REQUEST_TIME"===t.setToServerValue),n=new Xw;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Jw(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new eb(e)}else"increment"in t?n=new nb(e,t.increment):pv();const i=jv.fromServerFormat(t.fieldPath);return new sb(i,n)}(e,t))):[];if(t.update){t.update.name;const r=sx(e,t.update.name),s=new A_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Jy(t.map((e=>jv.fromServerFormat(e))))}(t.updateMask);return new gb(r,s,e,n,i)}return new mb(r,s,n,i)}if(t.delete){const i=sx(e,t.delete);return new wb(i,n)}if(t.verify){const i=sx(e,t.verify);return new bb(i,n)}return pv()}function px(e,t){return{documents:[ox(e,t.path)]}}function mx(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=ox(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ox(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return Ex(B_.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:bx(e.field),direction:yx(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Xb(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gx(e){let t=ax(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){mv(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=vx(e);return t instanceof B_&&H_(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new F_(xx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,hy(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new L_(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new L_(n,t)}(n.endAt)),fw(t,r,o,s,a,"F",l,c)}function vx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xx(e.unaryFilter.field);return U_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xx(e.unaryFilter.field);return U_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xx(e.unaryFilter.field);return U_.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=xx(e.unaryFilter.field);return U_.create(r,"!=",{nullValue:"NULL_VALUE"});default:return pv()}}(e):void 0!==e.fieldFilter?function(e){return U_.create(xx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return B_.create(e.compositeFilter.filters.map((e=>vx(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pv()}}(e.compositeFilter.op))}(e):pv()}function yx(e){return Kb[e]}function _x(e){return Yb[e]}function wx(e){return Zb[e]}function bx(e){return{fieldPath:e.canonicalString()}}function xx(e){return jv.fromServerFormat(e.fieldPath)}function Ex(e){return e instanceof U_?function(e){if("=="===e.op){if(E_(e.value))return{unaryFilter:{field:bx(e.field),op:"IS_NAN"}};if(x_(e.value))return{unaryFilter:{field:bx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E_(e.value))return{unaryFilter:{field:bx(e.field),op:"IS_NOT_NAN"}};if(x_(e.value))return{unaryFilter:{field:bx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bx(e.field),op:_x(e.op),value:e.value}}}(e):e instanceof B_?function(e){const t=e.getFilters().map((e=>Ex(e)));return 1===t.length?t[0]:{compositeFilter:{op:wx(e.op),filters:t}}}(e):pv()}function Tx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Sx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class kx{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lv.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lv.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e_.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new kx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ix{constructor(e){this.fe=e}}function Cx(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=function(e,t){return{name:rx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jb(e,t.version.toTimestamp()),createTime:Jb(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Px(t.version)};else{if(!t.isUnknownDocument())return pv();i.unknownDocument={path:n.path.toArray(),version:Px(t.version)}}return i}function Nx(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Px(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ax(e){const t=new Ov(e.seconds,e.nanoseconds);return Lv.fromTimestamp(t)}function Dx(e,t){const n=(t.baseMutations||[]).map((t=>fx(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map((t=>fx(e.fe,t))),r=Ov.fromMillis(t.localWriteTimeMs);return new xb(t.batchId,r,n,i)}function Ox(e){const t=Ax(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ax(e.lastLimboFreeSnapshotVersion):Lv.min();let i;var r;return void 0!==e.query.documents?(mv(1===(r=e.query).documents.length),i=ww(pw(ax(r.documents[0])))):i=function(e){return ww(gx(e))}(e.query),new kx(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,e_.fromBase64String(e.resumeToken))}function Lx(e,t){const n=Px(t.snapshotVersion),i=Px(t.lastLimboFreeSnapshotVersion);let r;r=lw(t.target)?px(e.fe,t.target):mx(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ow(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Rx(e){const t=gx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?xw(t,t.limit,"L"):t}function Mx(e,t){return new Tb(t.largestBatchId,fx(e.fe,t.overlayMutation))}function Fx(e,t){const n=t.path.lastSegment();return[e,py(t.path.popLast()),n]}function jx(e,t,n,i){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Px(i.readTime),documentKey:py(i.documentKey.path),largestBatchId:i.largestBatchId}}class zx{getBundleMetadata(e,t){return Ux(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Ax(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Ux(e).put({bundleId:(n=t).id,createTime:Px(tx(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Bx(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Rx(t.bundledQuery),readTime:Ax(t.readTime)};var t}))}saveNamedQuery(e,t){return Bx(e).put(function(e){return{name:e.name,readTime:Px(tx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Ux(e){return Vy(e,"bundles")}function Bx(e){return Vy(e,"namedQueries")}class Vx{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new Vx(e,n)}getOverlay(e,t){return qx(e).get(Fx(this.userId,t)).next((e=>e?Mx(this.serializer,e):null))}getOverlays(e,t){const n=Mw();return Jv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const i=[];return n.forEach(((n,r)=>{const s=new Tb(t,r);i.push(this.we(e,s))})),Jv.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach((e=>i.add(py(e.getCollectionPath()))));const r=[];return i.forEach((t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(qx(e).J("collectionPathOverlayIndex",i))})),Jv.waitFor(r)}getOverlaysForCollection(e,t,n){const i=Mw(),r=py(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qx(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Mx(this.serializer,t);i.set(e.getKey(),e)}return i}))}getOverlaysForCollectionGroup(e,t,n,i){const r=Mw();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qx(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Mx(this.serializer,t);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>r))}we(e,t){return qx(e).put(function(e,t,n){const[i,r,s]=Fx(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:dx(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function qx(e){return Vy(e,"documentOverlays")}class Hx{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(i_(e.integerValue));else if("doubleValue"in e){const n=i_(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),dy(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(r_(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?k_(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):pv()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const i of Object.keys(n))this.Te(i,t),this.me(n[i],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const i of n)this.me(i,t)}ve(e,t){this.ye(t,37),zv.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Wx(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Gx(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=Wx(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}Hx.Ve=new Hx;class Kx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=Gx(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),n=Gx(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class Yx{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Zx{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qx{constructor(){this.je=new Kx,this.ze=new Yx(this.je),this.We=new Zx(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Xx{constructor(e,t,n,i){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Xx(this.indexId,this.documentKey,this.arrayValue,n)}}function Jx(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=$x(e.arrayValue,t.arrayValue),0!==n?n:(n=$x(e.directionalValue,t.directionalValue),0!==n?n:zv.comparator(e.documentKey,t.documentKey)))}function $x(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}class eE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){mv(e.collectionGroup===this.collectionId);const t=Bv(e);if(void 0!==t&&!this.en(t))return!1;const n=Vv(e);let i=0,r=0;for(;i<n.length&&this.en(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Ze){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[r++],e))return!1;++i}for(;i<n.length;++i){const e=n[i];if(r>=this.Ye.length||!this.sn(this.Ye[r++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function tE(e){var t,n;if(mv(e instanceof U_||e instanceof B_),e instanceof U_){if(e instanceof tw){const i=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>U_.create(e.field,"==",t))))||[];return B_.create(i,"or")}return e}const i=e.filters.map((e=>tE(e)));return B_.create(i,e.op)}function nE(e){if(0===e.getFilters().length)return[];const t=oE(tE(e));return mv(sE(t)),iE(t)||rE(t)?[t]:t.getFilters()}function iE(e){return e instanceof U_}function rE(e){return e instanceof B_&&H_(e)}function sE(e){return iE(e)||rE(e)||function(e){if(e instanceof B_&&q_(e)){for(const t of e.getFilters())if(!iE(t)&&!rE(t))return!1;return!0}return!1}(e)}function oE(e){if(mv(e instanceof U_||e instanceof B_),e instanceof U_)return e;if(1===e.filters.length)return oE(e.filters[0]);const t=e.filters.map((e=>oE(e)));let n=B_.create(t,e.op);return n=cE(n),sE(n)?n:(mv(n instanceof B_),mv(V_(n)),mv(n.filters.length>1),n.filters.reduce(((e,t)=>aE(e,t))))}function aE(e,t){let n;return mv(e instanceof U_||e instanceof B_),mv(t instanceof U_||t instanceof B_),n=e instanceof U_?t instanceof U_?function(e,t){return B_.create([e,t],"and")}(e,t):lE(e,t):t instanceof U_?lE(t,e):function(e,t){if(mv(e.filters.length>0&&t.filters.length>0),V_(e)&&V_(t))return Y_(e,t.getFilters());const n=q_(e)?e:t,i=q_(e)?t:e,r=n.filters.map((e=>aE(e,i)));return B_.create(r,"or")}(e,t),cE(n)}function lE(e,t){if(V_(t))return Y_(t,e.getFilters());{const n=t.filters.map((t=>aE(e,t)));return B_.create(n,"or")}}function cE(e){if(mv(e instanceof U_||e instanceof B_),e instanceof U_)return e;const t=e.getFilters();if(1===t.length)return cE(t[0]);if(W_(e))return e;const n=t.map((e=>cE(e))),i=[];return n.forEach((t=>{t instanceof U_?i.push(t):t instanceof B_&&(t.op===e.op?i.push(...t.filters):i.push(t))})),1===i.length?i[0]:B_.create(i,e.op)}class uE{constructor(){this.rn=new hE}addToCollectionParentIndex(e,t){return this.rn.add(t),Jv.resolve()}getCollectionParents(e,t){return Jv.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Jv.resolve()}deleteFieldIndex(e,t){return Jv.resolve()}getDocumentsMatchingTarget(e,t){return Jv.resolve(null)}getIndexType(e,t){return Jv.resolve(0)}getFieldIndexes(e,t){return Jv.resolve([])}getNextCollectionGroupToUpdate(e){return Jv.resolve(null)}getMinOffset(e,t){return Jv.resolve(Kv.min())}getMinOffsetFromCollectionGroup(e,t){return Jv.resolve(Kv.min())}updateCollectionGroup(e,t,n){return Jv.resolve()}updateIndexEntries(e,t){return Jv.resolve()}}class hE{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Zy(Mv.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Zy(Mv.comparator)).toArray()}}const dE=new Uint8Array(0);class fE{constructor(e,t){this.user=e,this.databaseId=t,this.on=new hE,this.un=new Pw((e=>ow(e)),((e,t)=>aw(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const r={collectionId:n,parent:py(i)};return pE(e).put(r)}return Jv.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[Dv(t),""],!1,!0);return pE(e).j(i).next((e=>{for(const i of e){if(i.collectionId!==t)break;n.push(vy(i.parent))}return n}))}addFieldIndex(e,t){const n=gE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete i.indexId;const r=n.add(i);if(t.indexState){const n=vE(e);return r.next((e=>{n.put(jx(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return r.next()}deleteFieldIndex(e,t){const n=gE(e),i=vE(e),r=mE(e);return n.delete(t.indexId).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=mE(e);let i=!0;const r=new Map;return Jv.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{i&&(i=!!e),r.set(t,e)})))).next((()=>{if(i){let e=Bw();const i=[];return Jv.forEach(r,((r,s)=>{var o;uv("IndexedDbIndexManager","Using index ".concat((o=r,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(ow(t)));const a=function(e,t){const n=Bv(t);if(void 0===n)return null;for(const i of cw(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(e,t){const n=new Map;for(const i of Vv(t))for(const t of cw(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of Vv(t)){const t=0===r.kind?uw(e,r.fieldPath,e.startAt):hw(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new L_(n,i)}(s,r),u=function(e,t){const n=[];let i=!0;for(const r of Vv(t)){const t=0===r.kind?hw(e,r.fieldPath,e.endAt):uw(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new L_(n,i)}(s,r),h=this.hn(r,s,c),d=this.hn(r,s,u),f=this.ln(r,s,l),p=this.fn(r.indexId,a,h,c.inclusive,d,u.inclusive,f);return Jv.forEach(p,(r=>n.H(r,t.limit).next((t=>{t.forEach((t=>{const n=zv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))}))}))))})).next((()=>i))}return Jv.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:nE(B_.create(e.filters,"and")).map((t=>sw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,i,r,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,r.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.dn(t[u/l]):dE,h=this.wn(e,a,n[u%l],i),d=this._n(e,a,r[u%l],s),f=o.map((t=>this.wn(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}wn(e,t,n,i){const r=new Xx(e,zv.empty(),t,n);return i?r:r.Je()}_n(e,t,n,i){const r=new Xx(e,zv.empty(),t,n);return i?r.Je():r}an(e,t){const n=new eE(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next((e=>{let t=null;for(const i of e)n.tn(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t}))}getIndexType(e,t){let n=2;const i=this.cn(t);return Jv.forEach(i,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Zy(jv.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&i.length>1&&2===n?1:n))}mn(e,t){const n=new Qx;for(const i of Vv(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.He(i.kind);Hx.Ve._e(e,r)}return n.Qe()}dn(e){const t=new Qx;return Hx.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Qx;return Hx.Ve._e(__(this.databaseId,t),n.He(function(e){const t=Vv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let i=[];i.push(new Qx);let r=0;for(const s of Vv(e)){const e=n[r++];for(const n of i)if(this.yn(t,s.fieldPath)&&b_(e))i=this.pn(i,s,e);else{const t=n.He(s.kind);Hx.Ve._e(e,t)}}return this.In(i)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new Qx;n.seed(e.Qe()),Hx.Ve._e(s,n.He(t.kind)),r.push(n)}return r}yn(e,t){return!!e.filters.find((e=>e instanceof U_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=gE(e),i=vE(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Jv.forEach(e,(e=>i.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Hv(t.sequenceNumber,new Kv(Ax(t.readTime),new zv(vy(t.documentKey)),t.largestBatchId)):Hv.empty(),i=e.fields.map((e=>{let[t,n]=e;return new qv(jv.fromServerFormat(t),n)}));return new Uv(e.indexId,e.collectionGroup,i,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const i=gE(e),r=vE(e);return this.Tn(e).next((e=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Jv.forEach(t,(t=>r.put(jx(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Jv.forEach(t,((t,i)=>{const r=n.get(t.collectionGroup);return(r?Jv.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next((r=>(n.set(t.collectionGroup,r),Jv.forEach(r,(n=>this.En(e,t,n).next((t=>{const r=this.An(i,n);return t.isEqual(r)?Jv.resolve():this.vn(e,i,n,t,r)})))))))}))}Rn(e,t,n,i){return mE(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,i){return mE(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const i=mE(e);let r=new Zy(Jx);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,i)=>{r=r.add(new Xx(n.indexId,t,i.arrayValue,i.directionalValue))})).next((()=>r))}An(e,t){let n=new Zy(Jx);const i=this.mn(t,e);if(null==i)return n;const r=Bv(t);if(null!=r){const s=e.data.field(r.fieldPath);if(b_(s))for(const r of s.arrayValue.values||[])n=n.add(new Xx(t.indexId,e.key,this.dn(r),i))}else n=n.add(new Xx(t.indexId,e.key,dE,i));return n}vn(e,t,n,i,r){uv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),o=t.getIterator();let a=Xy(s),l=Xy(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const i=n(a,l);i<0?t=!0:i>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(i(l),l=Xy(o)):t?(r(a),a=Xy(s)):(a=Xy(s),l=Xy(o))}}(i,r,Jx,(i=>{s.push(this.Rn(e,t,n,i))}),(i=>{s.push(this.Pn(e,t,n,i))})),Jv.waitFor(s)}Tn(e){let t=1;return vE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,i)=>{i.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Jx(e,t))).filter(((e,t,n)=>!t||0!==Jx(e,n[t-1])));const i=[];i.push(e);for(const s of n){const n=Jx(s,e),r=Jx(s,t);if(0===n)i[0]=e.Je();else if(n>0&&r<0)i.push(s),i.push(s.Je());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];const e=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,dE,[]],t=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,dE,[]];r.push(IDBKeyRange.bound(e,t))}return r}bn(e,t){return Jx(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yE)}getMinOffset(e,t){return Jv.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||pv())))).next(yE)}}function pE(e){return Vy(e,"collectionParents")}function mE(e){return Vy(e,"indexEntries")}function gE(e){return Vy(e,"indexConfiguration")}function vE(e){return Vy(e,"indexState")}function yE(e){mv(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;Yv(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Kv(t.readTime,t.documentKey,n)}const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wE{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new wE(e,wE.DEFAULT_COLLECTION_PERCENTILE,wE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bE(e,t,n){const i=e.store("mutations"),r=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{mv(1===a)})));const c=[];for(const u of n.mutations){const e=wy(t,u.key.path,n.batchId);s.push(r.delete(e)),c.push(u.key)}return Jv.waitFor(s).next((()=>c))}function xE(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pv();t=e.noDocument}return JSON.stringify(t).length}wE.DEFAULT_COLLECTION_PERCENTILE=10,wE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wE.DEFAULT=new wE(41943040,wE.DEFAULT_COLLECTION_PERCENTILE,wE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wE.DISABLED=new wE(-1,0,0);class EE{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Vn={}}static de(e,t,n,i){mv(""!==e.uid);const r=e.isAuthenticated()?e.uid:"";return new EE(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return SE(e).X({index:"userMutationsIndex",range:n},((e,n,i)=>{t=!1,i.done()})).next((()=>t))}addMutationBatch(e,t,n,i){const r=kE(e),s=SE(e);return s.add({}).next((o=>{mv("number"==typeof o);const a=new xb(o,t,n,i),l=function(e,t,n){const i=n.baseMutations.map((t=>dx(e.fe,t))),r=n.mutations.map((t=>dx(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,a),c=[];let u=new Zy(((e,t)=>Pv(e.canonicalString(),t.canonicalString())));for(const e of i){const t=wy(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,by))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[o]=a.keys()})),Jv.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return SE(e).get(t).next((e=>e?(mv(e.userId===this.userId),Dx(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Jv.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return SE(e).X({index:"userMutationsIndex",range:i},((e,t,i)=>{t.userId===this.userId&&(mv(t.batchId>=n),r=Dx(this.serializer,t)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return SE(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,i)=>{n=t.batchId,i.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return SE(e).j("userMutationsIndex",t).next((e=>e.map((e=>Dx(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=_y(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return kE(e).X({range:i},((n,i,s)=>{const[o,a,l]=n,c=vy(a);if(o===this.userId&&t.path.isEqual(c))return SE(e).get(l).next((e=>{if(!e)throw pv();mv(e.userId===this.userId),r.push(Dx(this.serializer,e))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zy(Pv);const i=[];return t.forEach((t=>{const r=_y(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=kE(e).X({range:s},((e,i,r)=>{const[s,o,a]=e,l=vy(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):r.done()}));i.push(o)})),Jv.waitFor(i).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=_y(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new Zy(Pv);return kE(e).X({range:s},((e,t,r)=>{const[s,a,l]=e,c=vy(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()})).next((()=>this.Dn(e,o)))}Dn(e,t){const n=[],i=[];return t.forEach((t=>{i.push(SE(e).get(t).next((e=>{if(null===e)throw pv();mv(e.userId===this.userId),n.push(Dx(this.serializer,e))})))})),Jv.waitFor(i).next((()=>n))}removeMutationBatch(e,t){return bE(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Jv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Jv.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return kE(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=vy(e[1]);i.push(t)}else n.done()})).next((()=>{mv(0===i.length)}))}))}containsKey(e,t){return TE(e,this.userId,t)}xn(e){return IE(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function TE(e,t,n){const i=_y(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return kE(e).X({range:s,Y:!0},((e,n,i)=>{const[s,a,l]=e;s===t&&a===r&&(o=!0),i.done()})).next((()=>o))}function SE(e){return Vy(e,"mutations")}function kE(e){return Vy(e,"documentMutations")}function IE(e){return Vy(e,"mutationQueues")}class CE{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new CE(0)}static Mn(){return new CE(-1)}}class NE{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new CE(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>Lv.fromTimestamp(new Ov(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>PE(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(mv(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let i=0;const r=[];return PE(e).X(((s,o)=>{const a=Ox(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(e,a)))})).next((()=>Jv.waitFor(r))).next((()=>i))}forEachTarget(e,t){return PE(e).X(((e,n)=>{const i=Ox(n);t(i)}))}$n(e){return AE(e).get("targetGlobalKey").next((e=>(mv(null!==e),e)))}On(e,t){return AE(e).put("targetGlobalKey",t)}Fn(e,t){return PE(e).put(Lx(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ow(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return PE(e).X({range:i,index:"queryTargetsIndex"},((e,n,i)=>{const s=Ox(n);aw(t,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(e,t,n){const i=[],r=DE(e);return t.forEach((t=>{const s=py(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))})),Jv.waitFor(i)}removeMatchingKeys(e,t,n){const i=DE(e);return Jv.forEach(t,(t=>{const r=py(t.path);return Jv.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=DE(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=DE(e);let r=Bw();return i.X({range:n,Y:!0},((e,t,n)=>{const i=vy(e[1]),s=new zv(i);r=r.add(s)})).next((()=>r))}containsKey(e,t){const n=py(t.path),i=IDBKeyRange.bound([n],[Dv(n)],!1,!0);let r=0;return DE(e).X({index:"documentTargetsIndex",Y:!0,range:i},((e,t,n)=>{let[i,s]=e;0!==i&&(r++,n.done())})).next((()=>r>0))}le(e,t){return PE(e).get(t).next((e=>e?Ox(e):null))}}function PE(e){return Vy(e,"targets")}function AE(e){return Vy(e,"targetGlobal")}function DE(e){return Vy(e,"targetDocuments")}function OE(e,t){let[n,i]=e,[r,s]=t;const o=Pv(n,r);return 0===o?Pv(i,s):o}class LE{constructor(e){this.Ln=e,this.buffer=new Zy(OE),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();OE(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RE{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){uv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){iy(e)?uv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Xv(e)}await this.Qn(3e5)}))}}class ME{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Jv.resolve(uy.ct);const n=new LE(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(uv("LruGarbageCollector","Garbage collection skipped; disabled"),Jv.resolve(_E)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(uv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),_E):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,i,r,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(uv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i)))).next((i=>(n=i,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(r=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),cv()<=Zs.DEBUG&&uv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(i," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(r," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Jv.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e}))))}}function FE(e,t){return new ME(e,t)}class jE{constructor(e,t){this.db=e,this.garbageCollector=FE(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return zE(e,n)}removeReference(e,t,n){return zE(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zE(e,t)}Xn(e,t){return function(e,t){let n=!1;return IE(e).Z((i=>TE(e,i,t).next((e=>(e&&(n=!0),Jv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Yn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return r++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Lv.min()),DE(e).delete([0,py(s.path)]))))}));i.push(t)}})).next((()=>Jv.waitFor(i))).next((()=>n.apply(e))).next((()=>r))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zE(e,t)}Yn(e,t){const n=DE(e);let i,r=uy.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(r!==uy.ct&&t(new zv(vy(i)),r),r=l,i=a):r=uy.ct})).next((()=>{r!==uy.ct&&t(new zv(vy(i)),r)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zE(e,t){return DE(e).put(function(e,t){return{targetId:0,path:py(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class UE{constructor(){this.changes=new Pw((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,O_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return WE(e).put(n)}removeEntry(e,t,n){return WE(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Nx(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=O_.newInvalidDocument(t);return WE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(GE(t))},((e,i)=>{n=this.ts(t,i)})).next((()=>n))}es(e,t){let n={size:0,document:O_.newInvalidDocument(t)};return WE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(GE(t))},((e,i)=>{n={document:this.ts(t,i),size:xE(i)}})).next((()=>n))}getEntries(e,t){let n=Dw();return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i)})).next((()=>n))}ss(e,t){let n=Dw(),i=new Gy(zv.comparator);return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r),i=i.insert(e,xE(t))})).next((()=>({documents:n,rs:i})))}ns(e,t,n){if(t.isEmpty())return Jv.resolve();let i=new Zy(YE);t.forEach((e=>i=i.add(e)));const r=IDBKeyRange.bound(GE(i.first()),GE(i.last())),s=i.getIterator();let o=s.getNext();return WE(e).X({index:"documentKeyIndex",range:r},((e,t,i)=>{const r=zv.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&YE(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?i.G(GE(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,i){const r=t.path,s=[r.popLast().toArray(),r.lastSegment(),Nx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return WE(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=Dw();for(const r of e){const e=this.ts(zv.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(kw(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,i){let r=Dw();const s=KE(t,n),o=KE(t,Kv.max());return WE(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ts(zv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(e){return new qE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return HE(e).get("remoteDocumentGlobalKey").next((e=>(mv(!!e),e)))}Zn(e,t){return HE(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=hx(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=zv.fromSegments(t.noDocument.path),i=Ax(t.noDocument.readTime);n=O_.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pv();{const e=zv.fromSegments(t.unknownDocument.path),i=Ax(t.unknownDocument.version);n=O_.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new Ov(e[0],e[1]);return Lv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Lv.min()))return e}return O_.newInvalidDocument(e)}}function VE(e){return new BE(e)}class qE extends UE{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Pw((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,i=new Zy(((e,t)=>Pv(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.us.get(r);if(t.push(this.os.removeEntry(e,r,o.readTime)),s.isValidDocument()){const a=Cx(this.os.serializer,s);i=i.add(r.path.popLast());const l=xE(a);n+=l-o.size,t.push(this.os.addEntry(e,r,a))}else if(n-=o.size,this.trackRemovals){const n=Cx(this.os.serializer,s.convertToNoDocument(Lv.min()));t.push(this.os.addEntry(e,r,n))}})),i.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Jv.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function HE(e){return Vy(e,"remoteDocumentGlobal")}function WE(e){return Vy(e,"remoteDocumentsV14")}function GE(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KE(e,t){const n=t.documentKey.path.toArray();return[e,Nx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function YE(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Pv(n[s],i[s]),r)return r;return r=Pv(n.length,i.length),r||(r=Pv(n[n.length-2],i[i.length-2]),r||Pv(n[n.length-1],i[i.length-1]))}class ZE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QE{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&db(n.mutation,e,Jy.empty(),Ov.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Bw()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bw();const i=Mw();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=Lw();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Mw();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Bw())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=Dw();const s=jw(),o=jw();return t.forEach(((e,t)=>{const o=n.get(t.key);i.has(t.key)&&(void 0===o||o.mutation instanceof gb)?r=r.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),db(o.mutation,t,o.mutation.getFieldMask(),Ov.now())):s.set(t.key,Jy.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ZE(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=jw();let i=new Gy(((e,t)=>e-t)),r=Bw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Jy.empty();o=r.applyToLocalView(s,o),n.set(e,o);const a=(i.get(r.batchId)||Bw()).add(e);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=Fw();l.forEach((e=>{if(!r.has(e)){const i=ub(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Jv.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):Jv.resolve(Mw());let o=-1,a=r;return s.next((t=>Jv.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(t)?Jv.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,a,t,Bw()))).next((e=>({batchId:o,changes:Rw(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zv(t)).next((e=>{let t=Lw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const i=t.collectionGroup;let r=Lw();return this.indexManager.getCollectionParents(e,i).next((s=>Jv.forEach(s,(s=>{const o=function(e,t){return new dw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i)))).next((e=>{i.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,O_.newInvalidDocument(i)))}));let n=Lw();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&db(s.mutation,r,Jy.empty(),Ov.now()),kw(t,r)&&(n=n.insert(e,r))})),n}))}}class XE{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Jv.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:tx(n.createTime)}),Jv.resolve()}getNamedQuery(e,t){return Jv.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Rx(e.bundledQuery),readTime:tx(e.readTime)}}(t)),Jv.resolve()}}class JE{constructor(){this.overlays=new Gy(zv.comparator),this.ls=new Map}getOverlay(e,t){return Jv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mw();return Jv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.we(e,t,i)})),Jv.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Jv.resolve()}getOverlaysForCollection(e,t,n){const i=Mw(),r=t.length+1,s=new zv(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Jv.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new Gy(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=Mw(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Mw(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=i)););return Jv.resolve(o)}we(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Tb(t,n));let r=this.ls.get(t);void 0===r&&(r=Bw(),this.ls.set(t,r)),this.ls.set(t,r.add(n.key))}}class $E{constructor(){this.fs=new Zy(eT.ds),this.ws=new Zy(eT._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new eT(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new eT(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new zv(new Mv([])),n=new eT(t,e),i=new eT(t,e+1),r=[];return this.ws.forEachInRange([n,i],(e=>{this.ys(e),r.push(e.key)})),r}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new zv(new Mv([])),n=new eT(t,e),i=new eT(t,e+1);let r=Bw();return this.ws.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new eT(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class eT{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return zv.comparator(e.key,t.key)||Pv(e.As,t.As)}static _s(e,t){return Pv(e.As,t.As)||zv.comparator(e.key,t.key)}}class tT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Zy(eT.ds)}checkEmpty(e){return Jv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xb(r,t,n,i);this.mutationQueue.push(s);for(const o of i)this.Rs=this.Rs.add(new eT(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Jv.resolve(s)}lookupMutationBatch(e,t){return Jv.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.bs(n),r=i<0?0:i;return Jv.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return Jv.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Jv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new eT(t,0),i=new eT(t,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([n,i],(e=>{const t=this.Ps(e.As);r.push(t)})),Jv.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zy(Pv);return t.forEach((e=>{const t=new eT(e,0),i=new eT(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,i],(e=>{n=n.add(e.As)}))})),Jv.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;zv.isDocumentKey(r)||(r=r.child(""));const s=new eT(new zv(r),0);let o=new Zy(Pv);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(o=o.add(e.As)),!0)}),s),Jv.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){mv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Jv.forEach(t.mutations,(i=>{const r=new eT(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new eT(t,0),i=this.Rs.firstAfterOrEqual(n);return Jv.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Jv.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nT{constructor(e){this.Ds=e,this.docs=new Gy(zv.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Jv.resolve(n?n.document.mutableCopy():O_.newInvalidDocument(t))}getEntries(e,t){let n=Dw();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():O_.newInvalidDocument(e))})),Jv.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Dw();const s=t.path,o=new zv(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Yv(Gv(o),n)<=0||(i.has(o.key)||kw(t,o))&&(r=r.insert(o.key,o.mutableCopy()))}return Jv.resolve(r)}getAllFromCollectionGroup(e,t,n,i){pv()}Cs(e,t){return Jv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new iT(this)}getSize(e){return Jv.resolve(this.size)}}class iT extends UE{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(n)})),Jv.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rT{constructor(e){this.persistence=e,this.xs=new Pw((e=>ow(e)),aw),this.lastRemoteSnapshotVersion=Lv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $E,this.targetCount=0,this.Ms=CE.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Jv.resolve()}getLastRemoteSnapshotVersion(e){return Jv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jv.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Jv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Jv.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new CE(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Jv.resolve()}updateTargetData(e,t){return this.Fn(t),Jv.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Jv.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.xs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Jv.waitFor(r).next((()=>i))}getTargetCount(e){return Jv.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Jv.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Jv.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),Jv.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Jv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Jv.resolve(n)}containsKey(e,t){return Jv.resolve(this.ks.containsKey(t))}}class sT{constructor(e,t){this.$s={},this.overlays={},this.Os=new uy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rT(this),this.indexManager=new uE,this.remoteDocumentCache=function(e){return new nT(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new Ix(t),this.qs=new XE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new tT(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){uv("MemoryPersistence","Starting transaction:",e);const i=new oT(this.Os.next());return this.referenceDelegate.Us(),n(i).next((e=>this.referenceDelegate.Ks(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Gs(e,t){return Jv.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class oT extends Qv{constructor(e){super(),this.currentSequenceNumber=e}}class aT{constructor(e){this.persistence=e,this.Qs=new $E,this.js=null}static zs(e){return new aT(e)}get Ws(){if(this.js)return this.js;throw pv()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Jv.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Jv.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Jv.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jv.forEach(this.Ws,(n=>{const i=zv.fromPath(n);return this.Hs(e,i).next((e=>{e||t.removeEntry(i,Lv.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Jv.or([()=>Jv.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class lT{constructor(e){this.serializer=e}O(e,t,n,i){const r=new $v("createOrUpgrade",t);n<1&&i>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yy,{unique:!0}),e.createObjectStore("documentMutations")}(e),cT(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Jv.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),cT(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yy,{unique:!0});const i=t.store("mutations"),r=n.map((e=>i.put(e)));return Jv.waitFor(r)}))}(e,r)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&i>=5&&(s=s.next((()=>this.Ys(r)))),n<6&&i>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(r))))),n<7&&i>=7&&(s=s.next((()=>this.Zs(r)))),n<8&&i>=8&&(s=s.next((()=>this.ti(e,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&i>=10&&(s=s.next((()=>this.ei(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&i>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Oy});t.createIndex("collectionPathOverlayIndex",Ly,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ry,{unique:!1})}(e)}))),n<13&&i>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:xy});t.createIndex("documentKeyIndex",Ey),t.createIndex("collectionGroupIndex",Ty)}(e))).next((()=>this.ni(e,r))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.si(e,r)))),n<15&&i>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ny}).createIndex("sequenceNumberIndex",Py,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ay}).createIndex("documentKeyIndex",Dy,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=xE(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Jv.forEach(t,(t=>{const i=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",i).next((n=>Jv.forEach(n,(n=>{mv(n.userId===t.userId);const i=Dx(this.serializer,n);return bE(e,t.userId,i).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const i=[];return n.X(((n,r)=>{const s=new Mv(n),o=function(e){return[0,py(e)]}(s);i.push(t.get(o).next((n=>n?Jv.resolve():(n=>t.put({targetId:0,path:py(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Jv.waitFor(i)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Cy});const n=t.store("collectionParents"),i=new hE,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:py(i)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Mv(e);return r(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,i,s]=e;const o=vy(i);return r(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const i=Ox(n),r=Lx(this.serializer,i);return t.put(r)}))}ni(e,t){const n=t.store("remoteDocuments"),i=[];return n.X(((e,n)=>{const r=t.store("remoteDocumentsV14"),s=(o=n,o.document?new zv(Mv.fromString(o.document.name).popFirst(5)):o.noDocument?zv.fromSegments(o.noDocument.path):o.unknownDocument?zv.fromSegments(o.unknownDocument.path):pv()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))})).next((()=>Jv.waitFor(i)))}si(e,t){const n=t.store("mutations"),i=VE(this.serializer),r=new sT(aT.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let i=null!==(t=n.get(e.userId))&&void 0!==t?t:Bw();Dx(this.serializer,e).keys().forEach((e=>i=i.add(e))),n.set(e.userId,i)})),Jv.forEach(n,((e,n)=>{const s=new ov(n),o=Vx.de(this.serializer,s),a=r.getIndexManager(s),l=EE.de(s,this.serializer,a,r.referenceDelegate);return new QE(i,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new By(t,uy.ct),e).next()}))}))}}function cT(e){e.createObjectStore("targetDocuments",{keyPath:ky}).createIndex("documentTargetsIndex",Iy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sy,{unique:!0}),e.createObjectStore("targetGlobal")}const uT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hT{constructor(e,t,n,i,r,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=r,this.window=s,this.document=o,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!hT.D())throw new yv(vv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jE(this,i),this.di=t+"main",this.serializer=new Ix(a),this.wi=new ey(this.di,this.ui,new lT(this.serializer)),this.Bs=new NE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VE(this.serializer),this.qs=new zx,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&hv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yv(vv.FAILED_PRECONDITION,uT);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new uy(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>fT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(iy(e))return uv("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return uv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return dT(e).get("owner").next((e=>Jv.resolve(this.Ri(e))))}Pi(e){return fT(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Vy(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),i=e.filter((e=>-1===n.indexOf(e)));return Jv.forEach(i,(e=>t.delete(e.clientId))).next((()=>i))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Jv.resolve(!0):dT(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new yv(vv.FAILED_PRECONDITION,uT);return!1}}return!(!this.networkEnabled||!this.inForeground)||fT(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&uv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new By(e,uy.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>fT(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return EE.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fE(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Vx.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){uv("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=15===(s=this.ui)?Uy:14===s?zy:13===s?jy:12===s?Fy:11===s?My:void pv();var s;let o;return this.wi.runTransaction(e,i,r,(i=>(o=new By(i,this.Os?this.Os.next():uy.ct),"readwrite-primary"===t?this.Ti(o).next((e=>!!e||this.Ei(o))).next((t=>{if(!t)throw hv("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new yv(vv.FAILED_PRECONDITION,Zv);return n(o)})).next((e=>this.vi(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return dT(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new yv(vv.FAILED_PRECONDITION,uT)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dT(e).put("owner",t)}static D(){return ey.D()}Ai(e){const t=dT(e);return t.get("owner").next((e=>this.Ri(e)?(uv("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Jv.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(hv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!ks()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return uv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return hv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){hv("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function dT(e){return Vy(e,"owner")}function fT(e){return Vy(e,"clientMetadata")}function pT(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class mT{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=i}static Li(e,t){let n=Bw(),i=Bw();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new mT(e,t.fromCache,n,i)}}class gT{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,i){return this.Ki(e,t).next((r=>r||this.Gi(e,t,i,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(mw(t))return Jv.resolve(null);let n=ww(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=xw(t,null,"F"),n=ww(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=Bw(...i);return this.Ui.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,i);return this.zi(t,s,r,n.readTime)?this.Ki(e,xw(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,i){return mw(t)||i.isEqual(Lv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((r=>{const s=this.ji(t,r);return this.zi(t,s,n,i)?this.Qi(e,t):(cv()<=Zs.DEBUG&&uv("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sw(t)),this.Wi(e,s,t,Wv(i,-1)))}))}ji(e,t){let n=new Zy(Cw(e));return t.forEach(((t,i)=>{kw(e,i)&&(n=n.add(i))})),n}zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,t){return cv()<=Zs.DEBUG&&uv("QueryEngine","Using full collection scan to execute query:",Sw(t)),this.Ui.getDocumentsMatchingQuery(e,t,Kv.min())}Wi(e,t,n,i){return this.Ui.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class vT{constructor(e,t,n,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Gy(Pv),this.Yi=new Pw((e=>ow(e)),aw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function yT(e,t,n,i){return new vT(e,t,n,i)}async function _T(e,t){const n=gv(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let o=Bw();for(const e of i){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function wT(e){const t=gv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function bT(e,t,n){let i=Bw(),r=Bw();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=Dw();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(Lv.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):uv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{nr:i,sr:r}}))}function xT(e,t){const n=gv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ET(e,t){const n=gv(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.Bs.getTargetData(e,t).next((r=>r?(i=r,Jv.resolve(i)):n.Bs.allocateTargetId(e).next((r=>(i=new kx(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.Ji.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function TT(e,t,n){const i=gv(e),r=i.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!iy(e))throw e;uv("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}function ST(e,t,n){const i=gv(e);let r=Lv.min(),s=Bw();return i.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const i=gv(e),r=i.Yi.get(n);return void 0!==r?Jv.resolve(i.Ji.get(r)):i.Bs.getTargetData(t,n)}(i,e,ww(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.Hi.getDocumentsMatchingQuery(e,t,n?r:Lv.min(),n?s:Bw()))).next((e=>(CT(i,Iw(t),e),{documents:e,ir:s})))))}function kT(e,t){const n=gv(e),i=gv(n.Bs),r=n.Ji.get(t);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(e=>i.le(e,t).next((e=>e?e.target:null))))}function IT(e,t){const n=gv(e),i=n.Xi.get(t)||Lv.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Wv(i,-1),Number.MAX_SAFE_INTEGER))).then((e=>(CT(n,t,e),e)))}function CT(e,t,n){let i=e.Xi.get(t)||Lv.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.Xi.set(t,i)}async function NT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bw();const i=await ET(e,ww(Rx(t.bundledQuery))),r=gv(e);return r.persistence.runTransaction("Save named query","readwrite",(e=>{const s=tx(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.qs.saveNamedQuery(e,t);const o=i.withResumeToken(e_.EMPTY_BYTE_STRING,s);return r.Ji=r.Ji.insert(o.targetId,o),r.Bs.updateTargetData(e,o).next((()=>r.Bs.removeMatchingKeysForTargetId(e,i.targetId))).next((()=>r.Bs.addMatchingKeys(e,n,i.targetId))).next((()=>r.qs.saveNamedQuery(e,t)))}))}function PT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function AT(e,t,n){let i="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(i+="_".concat(t.uid)),i}function DT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class OT{constructor(e,t,n,i){this.user=e,this.batchId=t,this.state=n,this.error=i}static ar(e,t,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new yv(i.error.code,i.error.message))),s?new OT(e,t,i.state,r):(hv("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class LT{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let i,r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code,r&&(i=new yv(n.error.code,n.error.message))),r?new LT(e,n.state,i):(hv("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let i="object"==typeof n&&n.activeTargetIds instanceof Array,r=qw();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=fy(n.activeTargetIds[s]),r=r.add(n.activeTargetIds[s]);return i?new RT(e,r):(hv("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class MT{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new MT(t.clientId,t.onlineState):(hv("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class FT{constructor(){this.activeTargetIds=qw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jT{constructor(e,t,n,i,r){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Gy(Pv),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.pr=PT(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new FT),this.Tr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(PT(this.persistenceKey,n));if(e){const t=RT.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(DT(this.persistenceKey,e));if(n){const i=LT.ar(e,n);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DT(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return uv("SharedClientState","READ",e,t),t}setItem(e,t){uv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){uv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(uv("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void hv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=uy.ct;if(null!=e)try{const n=JSON.parse(e);mv("number"==typeof n),t=n}catch(e){hv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==uy.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const i=new OT(this.currentUser,e,t,n),r=AT(this.persistenceKey,this.currentUser,e);this.setItem(r,i.hr())}Cr(e){const t=AT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const i=DT(this.persistenceKey,e),r=new LT(e,t,n);this.setItem(i,r.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return RT.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return OT.ar(new ov(r),i,t)}Ur(e,t){const n=this.Ar.exec(e),i=Number(n[1]);return LT.ar(i,t)}br(e){return MT.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);uv("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),r=this.Sr(n),s=[],o=[];return r.forEach((e=>{i.has(e)||s.push(e)})),i.forEach((e=>{r.has(e)||o.push(e)})),this.syncEngine.Wr(s,o).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=qw();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class zT{constructor(){this.Hr=new FT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new FT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UT{Yr(e){}shutdown(){}}class BT{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){uv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){uv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let VT=null;function qT(){return null===VT?VT=268435456+Math.round(2147483648*Math.random()):VT++,"0x"+VT.toString(16)}const HT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WT{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const GT="WebChannelConnection";class KT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,i,r){const s=qT(),o=this.To(e,t);uv("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,i,r),this.Ao(e,o,a,n).then((t=>(uv("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw dv("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,i,r,s){return this.Io(e,t,n,i,r)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+av,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=HT[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,i){const r=qT();return new Promise(((s,o)=>{const a=new nv;a.setWithCredentials(!0),a.listenOnce(Xg.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Qg.NO_ERROR:const t=a.getResponseJson();uv(GT,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case Qg.TIMEOUT:uv(GT,"RPC '".concat(e,"' ").concat(r," timed out")),o(new yv(vv.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const n=a.getStatus();if(uv(GT,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vv).indexOf(t)>=0?t:vv.UNKNOWN}(t.status);o(new yv(e,t.message))}else o(new yv(vv.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new yv(vv.UNAVAILABLE,"Connection failed."));break;default:pv()}}finally{uv(GT,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);uv(GT,"RPC '".concat(e,"' ").concat(r," sending request:"),i),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const i=qT(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yg(),o=Zg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new ev({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=r.join("");uv(GT,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new WT({ro:t=>{d?uv(GT,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(uv(GT,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),uv(GT,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,tv.EventType.OPEN,(()=>{d||uv(GT,"RPC '".concat(e,"' stream ").concat(i," transport opened."))})),p(u,tv.EventType.CLOSE,(()=>{d||(d=!0,uv(GT,"RPC '".concat(e,"' stream ").concat(i," transport closed")),f.wo())})),p(u,tv.EventType.ERROR,(t=>{d||(d=!0,dv(GT,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),f.wo(new yv(vv.UNAVAILABLE,"The operation could not be completed")))})),p(u,tv.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];mv(!!r);const s=r,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){uv(GT,"RPC '".concat(e,"' stream ").concat(i," received error:"),o);const t=o.status;let n=function(e){const t=kb[e];if(void 0!==t)return Nb(t)}(t),r=o.message;void 0===n&&(n=vv.INTERNAL,r="Unknown error status: "+t+" with message "+o.message),d=!0,f.wo(new yv(n,r)),u.close()}else uv(GT,"RPC '".concat(e,"' stream ").concat(i," received:"),r),f._o(r)}})),p(o,Jg.STAT_EVENT,(t=>{t.stat===$g.PROXY?uv(GT,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===$g.NOPROXY&&uv(GT,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function YT(){return"undefined"!=typeof window?window:null}function ZT(){return"undefined"!=typeof document?document:null}function QT(e){return new Qb(e,!0)}class XT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-n);i>0&&uv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class JT{constructor(e,t,n,i,r,s,o,a){this.ii=e,this.$o=n,this.Oo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XT(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===vv.RESOURCE_EXHAUSTED?(hv(t.toString()),hv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===vv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Fo===t&&this.Zo(n,i)}),(t=>{e((()=>{const e=new yv(vv.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return uv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(uv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $T extends JT{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pv()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(mv(void 0===t||"string"==typeof t),e_.fromBase64String(t||"")):(mv(void 0===t||t instanceof Uint8Array),e_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?vv.UNKNOWN:Nb(e.code);return new yv(t,e.message||"")}(o);n=new Vb(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=sx(e,i.document.name),s=tx(i.document.updateTime),o=i.document.createTime?tx(i.document.createTime):Lv.min(),a=new A_({mapValue:{fields:i.document.fields}}),l=O_.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Ub(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=sx(e,i.document),s=i.readTime?tx(i.readTime):Lv.min(),o=O_.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Ub([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=sx(e,i.document),s=i.removedTargetIds||[];n=new Ub([],s,r,null)}else{if(!("filter"in t))return pv();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new Sb(i,r),o=e.targetId;n=new Bb(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Lv.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Lv.min():t.readTime?tx(t.readTime):Lv.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=lx(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=lw(i)?{documents:px(e,i)}:{query:mx(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$b(e,t.resumeToken);const i=Xb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Lv.min())>0){n.readTime=Jb(e,t.snapshotVersion.toTimestamp());const i=Xb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=lx(this.serializer),t.removeTarget=e,this.Wo(t)}}class eS extends JT{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(mv(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?tx(e.updateTime):tx(t);return n.isEqual(Lv.min())&&(n=tx(t)),new ob(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=tx(e.commitTime);return this.listener.cu(n,t)}return mv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=lx(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>dx(this.serializer,e)))};this.Wo(t)}}class tS extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new yv(vv.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.connection.Io(e,t,n,r,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yv(vv.UNKNOWN,e.toString())}))}vo(e,t,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,o]=r;return this.connection.vo(e,t,n,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===vv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yv(vv.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class nS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(hv(t),this.mu=!1):uv("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class iS{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{dS(this)&&(uv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=gv(e);t.vu.add(4),await sS(t),t.bu.set("Unknown"),t.vu.delete(4),await rS(t)}(this))}))})),this.bu=new nS(n,i)}}async function rS(e){if(dS(e))for(const t of e.Ru)await t(!0)}async function sS(e){for(const t of e.Ru)await t(!1)}function oS(e,t){const n=gv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),hS(n)?uS(n):PS(n).Ko()&&lS(n,t))}function aS(e,t){const n=gv(e),i=PS(n);n.Au.delete(t),i.Ko()&&cS(n,t),0===n.Au.size&&(i.Ko()?i.jo():dS(n)&&n.bu.set("Unknown"))}function lS(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lv.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}PS(e).su(t)}function cS(e,t){e.Vu.qt(t),PS(e).iu(t)}function uS(e){e.Vu=new Hb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),PS(e).start(),e.bu.gu()}function hS(e){return dS(e)&&!PS(e).Uo()&&e.Au.size>0}function dS(e){return 0===gv(e).vu.size}function fS(e){e.Vu=void 0}async function pS(e){e.Au.forEach(((t,n)=>{lS(e,t)}))}async function mS(e,t){fS(e),hS(e)?(e.bu.Iu(t),uS(e)):e.bu.set("Unknown")}async function gS(e,t,n){if(e.bu.set("Online"),t instanceof Vb&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Au.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Au.delete(i),e.Vu.removeTarget(i))}(e,t)}catch(n){uv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await vS(e,n)}else if(t instanceof Ub?e.Vu.Ht(t):t instanceof Bb?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Lv.min()))try{const t=await wT(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Au.get(i);r&&e.Au.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.Au.get(t);if(!i)return;e.Au.set(t,i.withResumeToken(e_.EMPTY_BYTE_STRING,i.snapshotVersion)),cS(e,t);const r=new kx(i.target,t,n,i.sequenceNumber);lS(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){uv("RemoteStore","Failed to raise snapshot:",t),await vS(e,t)}}async function vS(e,t,n){if(!iy(t))throw t;e.vu.add(1),await sS(e),e.bu.set("Offline"),n||(n=()=>wT(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{uv("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await rS(e)}))}function yS(e,t){return t().catch((n=>vS(e,n,t)))}async function _S(e){const t=gv(e),n=AS(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;wS(t);)try{const e=await xT(t.localStore,i);if(null===e){0===t.Eu.length&&n.jo();break}i=e.batchId,bS(t,e)}catch(e){await vS(t,e)}xS(t)&&ES(t)}function wS(e){return dS(e)&&e.Eu.length<10}function bS(e,t){e.Eu.push(t);const n=AS(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function xS(e){return dS(e)&&!AS(e).Uo()&&e.Eu.length>0}function ES(e){AS(e).start()}async function TS(e){AS(e).hu()}async function SS(e){const t=AS(e);for(const n of e.Eu)t.uu(n.mutations)}async function kS(e,t,n){const i=e.Eu.shift(),r=Eb.from(i,t,n);await yS(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await _S(e)}async function IS(e,t){t&&AS(e).ou&&await async function(e,t){if(Cb(n=t.code)&&n!==vv.ABORTED){const n=e.Eu.shift();AS(e).Qo(),await yS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await _S(e)}var n}(e,t),xS(e)&&ES(e)}async function CS(e,t){const n=gv(e);n.asyncQueue.verifyOperationInProgress(),uv("RemoteStore","RemoteStore received new credentials");const i=dS(n);n.vu.add(3),await sS(n),i&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await rS(n)}async function NS(e,t){const n=gv(e);t?(n.vu.delete(2),await rS(n)):t||(n.vu.add(2),await sS(n),n.bu.set("Unknown"))}function PS(e){return e.Su||(e.Su=function(e,t,n){const i=gv(e);return i.fu(),new $T(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:pS.bind(null,e),ao:mS.bind(null,e),nu:gS.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),hS(e)?uS(e):e.bu.set("Unknown")):(await e.Su.stop(),fS(e))}))),e.Su}function AS(e){return e.Du||(e.Du=function(e,t,n){const i=gv(e);return i.fu(),new eS(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{uo:TS.bind(null,e),ao:IS.bind(null,e),au:SS.bind(null,e),cu:kS.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await _S(e)):(await e.Du.stop(),e.Eu.length>0&&(uv("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class DS{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new _v,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,o=new DS(e,t,s,i,r);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yv(vv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OS(e,t){if(hv("AsyncQueue","".concat(t,": ").concat(e)),iy(e))return new yv(vv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class LS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||zv.comparator(t.key,n.key):(e,t)=>zv.comparator(e.key,t.key),this.keyedMap=Lw(),this.sortedSet=new Gy(this.comparator)}static emptySet(e){return new LS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof LS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new LS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class RS{constructor(){this.Cu=new Gy(zv.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):pv():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class MS{constructor(e,t,n,i,r,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new MS(e,t,LS.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ew(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class FS{constructor(){this.Nu=void 0,this.listeners=[]}}class jS{constructor(){this.queries=new Pw((e=>Tw(e)),Ew),this.onlineState="Unknown",this.ku=new Set}}async function zS(e,t){const n=gv(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new FS),r)try{s.Nu=await n.onListen(i)}catch(e){const n=OS(e,"Initialization of query '".concat(Sw(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&qS(n)}async function US(e,t){const n=gv(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function BS(e,t){const n=gv(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(r)&&(i=!0);t.Nu=r}}i&&qS(n)}function VS(e,t,n){const i=gv(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function qS(e){e.ku.forEach((e=>{e.next()}))}class HS{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new MS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=MS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class WS{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class GS{constructor(e){this.serializer=e}rr(e){return sx(this.serializer,e)}ur(e){return e.metadata.exists?hx(this.serializer,e.document,!1):O_.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return tx(e)}}class KS{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YS(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=Mv.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new GS(this.serializer);for(const i of e)if(i.metadata.queries){const e=n.rr(i.metadata.name);for(const n of i.metadata.queries){const i=(t.get(n)||Bw()).add(e);t.set(n,i)}}return t}async complete(){const e=await async function(e,t,n,i){const r=gv(e);let s=Bw(),o=Dw();for(const c of n){const e=t.rr(c.metadata.name);c.document&&(s=s.add(e));const n=t.ur(c);n.setReadTime(t.cr(c.metadata.readTime)),o=o.insert(e,n)}const a=r.Zi.newChangeBuffer({trackRemovals:!0}),l=await ET(r,function(e){return ww(pw(Mv.fromString("__bundle__/docs/".concat(e))))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",(e=>bT(e,a,o).next((t=>(a.apply(e),t))).next((t=>r.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>r.Bs.addMatchingKeys(e,s,l.targetId))).next((()=>r.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new GS(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await NT(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function YS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class ZS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class XS{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Bw(),this.mutatedKeys=Bw(),this.tc=Cw(e),this.ec=new LS(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new RS,i=t?t.ec:this.ec;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=kw(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:r}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pv()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==r.length||a?{snapshot:new MS(this.query,e.ec,i,r,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new RS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Bw(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new QS(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new ZS(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Bw();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return MS.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class JS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $S{constructor(e){this.key=e,this.fc=!1}}class ek{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Pw((e=>Tw(e)),Ew),this._c=new Map,this.mc=new Set,this.gc=new Gy(zv.comparator),this.yc=new Map,this.Ic=new $E,this.Tc={},this.Ec=new Map,this.Ac=CE.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function tk(e,t){const n=Ik(e);let i,r;const s=n.wc.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const e=await ET(n.localStore,ww(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await nk(n,t,i,"current"===s,e.resumeToken),n.isPrimaryClient&&oS(n.remoteStore,e)}return r}async function nk(e,t,n,i,r){e.Rc=(t,n,i)=>async function(e,t,n,i){let r=t.view.sc(n);r.zi&&(r=await ST(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,r)})));const s=i&&i.targetChanges.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s);return fk(e,t.targetId,o.cc),o.snapshot}(e,t,n,i);const s=await ST(e.localStore,t,!0),o=new XS(t,s.ir),a=o.sc(s.documents),l=zb.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=o.applyChanges(a,e.isPrimaryClient,l);fk(e,n,c.cc);const u=new JS(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function ik(e,t){const n=gv(e),i=n.wc.get(t),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter((e=>!Ew(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await TT(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),aS(n.remoteStore,i.targetId),hk(n,i.targetId)})).catch(Xv)):(hk(n,i.targetId),await TT(n.localStore,i.targetId,!0))}async function rk(e,t){const n=gv(e);try{const e=await function(e,t){const n=gv(e),i=t.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const o=[];t.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(e_.EMPTY_BYTE_STRING,Lv.min()).withLastLimboFreeSnapshotVersion(Lv.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Bs.updateTargetData(e,c))}));let a=Dw(),l=Bw();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),o.push(bT(e,s,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!i.isEqual(Lv.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,i)));o.push(t)}return Jv.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.yc.get(t);i&&(mv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.fc=!0:e.modifiedDocuments.size>0?mv(i.fc):e.removedDocuments.size>0&&(mv(i.fc),i.fc=!1))})),await gk(n,e,t)}catch(e){await Xv(e)}}function sk(e,t,n){const i=gv(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.wc.forEach(((n,i)=>{const r=i.view.Mu(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=gv(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Mu(t)&&(i=!0)})),i&&qS(n)}(i.eventManager,t),e.length&&i.dc.nu(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ok(e,t,n){const i=gv(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.yc.get(t),s=r&&r.key;if(s){let e=new Gy(zv.comparator);e=e.insert(s,O_.newNoDocument(s,Lv.min()));const n=Bw().add(s),r=new jb(Lv.min(),new Map,new Gy(Pv),e,n);await rk(i,r),i.gc=i.gc.remove(s),i.yc.delete(t),mk(i)}else await TT(i.localStore,t,!1).then((()=>hk(i,t,n))).catch(Xv)}async function ak(e,t){const n=gv(e),i=t.batch.batchId;try{const e=await function(e,t){const n=gv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let o=Jv.resolve();return s.forEach((e=>{o=o.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);mv(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Bw();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);uk(n,i,null),ck(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gk(n,e)}catch(e){await Xv(e)}}async function lk(e,t,n){const i=gv(e);try{const e=await function(e,t){const n=gv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(mv(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);uk(i,t,n),ck(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gk(i,e)}catch(n){await Xv(n)}}function ck(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function uk(e,t,n){const i=gv(e);let r=i.Tc[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function hk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e._c.get(t))e.wc.delete(i),n&&e.dc.Pc(i,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||dk(e,t)}))}function dk(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(aS(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),mk(e))}function fk(e,t,n){for(const i of n)i instanceof ZS?(e.Ic.addReference(i.key,t),pk(e,i)):i instanceof QS?(uv("SyncEngine","Document no longer in limbo: "+i.key),e.Ic.removeReference(i.key,t),e.Ic.containsKey(i.key)||dk(e,i.key)):pv()}function pk(e,t){const n=t.key,i=n.path.canonicalString();e.gc.get(n)||e.mc.has(i)||(uv("SyncEngine","New document in limbo: "+n),e.mc.add(i),mk(e))}function mk(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new zv(Mv.fromString(t)),i=e.Ac.next();e.yc.set(i,new $S(n)),e.gc=e.gc.insert(n,i),oS(e.remoteStore,new kx(ww(pw(n.path)),i,"TargetPurposeLimboResolution",uy.ct))}}async function gk(e,t,n){const i=gv(e),r=[],s=[],o=[];i.wc.isEmpty()||(i.wc.forEach(((e,a)=>{o.push(i.Rc(a,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=mT.Li(a.targetId,e);s.push(t)}})))})),await Promise.all(o),i.dc.nu(r),await async function(e,t){const n=gv(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Jv.forEach(t,(t=>Jv.forEach(t.Fi,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Jv.forEach(t.Bi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!iy(e))throw e;uv("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ji.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Ji=n.Ji.insert(e,r)}}}(i.localStore,s))}async function vk(e,t){const n=gv(e);if(!n.currentUser.isEqual(t)){uv("SyncEngine","User change. New user:",t.toKey());const e=await _T(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new yv(vv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await gk(n,e.er)}}function yk(e,t){const n=gv(e),i=n.yc.get(t);if(i&&i.fc)return Bw().add(i.key);{let e=Bw();const i=n._c.get(t);if(!i)return e;for(const t of i){const i=n.wc.get(t);e=e.unionWith(i.view.nc)}return e}}async function _k(e,t){const n=gv(e),i=await ST(n.localStore,t.query,!0),r=t.view.hc(i);return n.isPrimaryClient&&fk(n,t.targetId,r.cc),r}async function wk(e,t){const n=gv(e);return IT(n.localStore,t).then((e=>gk(n,e)))}async function bk(e,t,n,i){const r=gv(e),s=await function(e,t){const n=gv(e),i=gv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>i.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Jv.resolve(null)))))}(r.localStore,t);null!==s?("pending"===n?await _S(r.remoteStore):"acknowledged"===n||"rejected"===n?(uk(r,t,i||null),ck(r,t),function(e,t){gv(gv(e).mutationQueue).Cn(t)}(r.localStore,t)):pv(),await gk(r,s)):uv("SyncEngine","Cannot apply mutation batch with id: "+t)}async function xk(e,t,n){const i=gv(e),r=[],s=[];for(const o of t){let e;const t=i._c.get(o);if(t&&0!==t.length){e=await ET(i.localStore,ww(t[0]));for(const e of t){const t=i.wc.get(e),n=await _k(i,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await kT(i.localStore,o);e=await ET(i.localStore,t),await nk(i,Ek(t),o,!1,e.resumeToken)}r.push(e)}return i.dc.nu(s),r}function Ek(e){return fw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Tk(e){const t=gv(e);return gv(gv(t.localStore).persistence).$i()}async function Sk(e,t,n,i){const r=gv(e);if(r.vc)return void uv("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await IT(r.localStore,Iw(s[0])),i=jb.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,e_.EMPTY_BYTE_STRING);await gk(r,e,i);break}case"rejected":await TT(r.localStore,t,!0),hk(r,t,i);break;default:pv()}}async function kk(e,t,n){const i=Ik(e);if(i.vc){for(const e of t){if(i._c.has(e)){uv("SyncEngine","Adding an already active target "+e);continue}const t=await kT(i.localStore,e),n=await ET(i.localStore,t);await nk(i,Ek(t),n.targetId,!1,n.resumeToken),oS(i.remoteStore,n)}for(const e of n)i._c.has(e)&&await TT(i.localStore,e,!1).then((()=>{aS(i.remoteStore,e),hk(i,e)})).catch(Xv)}}function Ik(e){const t=gv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ok.bind(null,t),t.dc.nu=BS.bind(null,t.eventManager),t.dc.Pc=VS.bind(null,t.eventManager),t}function Ck(e){const t=gv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ak.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lk.bind(null,t),t}class Nk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=QT(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yT(this.persistence,new gT,e.initialUser,this.serializer)}createPersistence(e){return new sT(aT.zs,this.serializer)}createSharedClientState(e){return new zT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Pk extends Nk{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await Ck(this.Vc.syncEngine),await _S(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return yT(this.persistence,new gT,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new RE(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new cy(t,this.persistence);return new ly(e.asyncQueue,n)}createPersistence(e){const t=pT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wE.withCacheSize(this.cacheSizeBytes):wE.DEFAULT;return new hT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,YT(),ZT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new zT}}class Ak extends Pk{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof jT&&(this.sharedClientState.syncEngine={jr:bk.bind(null,t),zr:Sk.bind(null,t),Wr:kk.bind(null,t),$i:Tk.bind(null,t),Qr:wk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=gv(e);if(Ik(n),Ck(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await xk(n,e.toArray());n.vc=!0,await NS(n.remoteStore,!0);for(const i of t)oS(n.remoteStore,i)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((i,r)=>{n.sharedClientState.isLocalQueryTarget(r)?e.push(r):t=t.then((()=>(hk(n,r),TT(n.localStore,r,!0)))),aS(n.remoteStore,r)})),await t,await xk(n,e),function(e){const t=gv(e);t.yc.forEach(((e,n)=>{aS(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Gy(zv.comparator)}(n),n.vc=!1,await NS(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=YT();if(!jT.D(t))throw new yv(vv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=pT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Dk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>sk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=vk.bind(null,this.syncEngine),await NS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jS}createDatastore(e){const t=QT(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new KT(i));var i;return function(e,t,n,i){return new tS(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>sk(this.syncEngine,e,0),s=BT.D()?new BT:new UT,new iS(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,o){const a=new ek(e,t,n,i,r,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=gv(e);uv("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await sS(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function Ok(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const i={value:e.slice(n,n+t),done:!1};return n+=t,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):hv("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Rk{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new _v,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const i=await this.$c(n);return new WS(JSON.parse(i),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Mk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new yv(vv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=gv(e),i=lx(n.serializer)+"/documents",r={documents:t.map((e=>rx(n.serializer,e)))},s=await n.vo("BatchGetDocuments",i,r,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){mv(!!t.found),t.found.name,t.found.updateTime;const n=sx(e,t.found.name),i=tx(t.found.updateTime),r=t.found.createTime?tx(t.found.createTime):Lv.min(),s=new A_({mapValue:{fields:t.found.fields}});return O_.newFoundDocument(n,i,r,s)}(e,t):"missing"in t?function(e,t){mv(!!t.missing),mv(!!t.readTime);const n=sx(e,t.missing),i=tx(t.readTime);return O_.newNoDocument(n,i)}(e,t):pv()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());mv(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new wb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=zv.fromPath(t);this.mutations.push(new bb(n,this.precondition(n)))})),await async function(e,t){const n=gv(e),i=lx(n.serializer)+"/documents",r={writes:t.map((e=>dx(n.serializer,e)))};await n.Io("Commit",i,r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pv();t=Lv.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yv(vv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lv.min())?ab.exists(!1):ab.updateTime(t):ab.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lv.min()))throw new yv(vv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ab.updateTime(t)}return ab.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fk{constructor(e,t,n,i,r){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=i,this.deferred=r,this.Bc=n.maxAttempts,this.qo=new XT(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new Mk(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!hy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cb(t)}return!1}}class jk{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ov.UNAUTHENTICATED,this.clientId=Nv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{uv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(uv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yv(vv.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _v;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(MN){const n=OS(MN,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function zk(e,t){e.asyncQueue.verifyOperationInProgress(),uv("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await _T(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Uk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Vk(e);uv("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>CS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>CS(t.remoteStore,n))),e._onlineComponents=t}function Bk(e){return"FirebaseError"===e.name?e.code===vv.FAILED_PRECONDITION||e.code===vv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Vk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){uv("FirestoreClient","Using user provided OfflineComponentProvider");try{await zk(e,e._uninitializedComponentsProvider._offline)}catch(MN){const n=MN;if(!Bk(n))throw n;dv("Error using user provided cache. Falling back to memory cache: "+n),await zk(e,new Nk)}}else uv("FirestoreClient","Using default OfflineComponentProvider"),await zk(e,new Nk);return e._offlineComponents}async function qk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(uv("FirestoreClient","Using user provided OnlineComponentProvider"),await Uk(e,e._uninitializedComponentsProvider._online)):(uv("FirestoreClient","Using default OnlineComponentProvider"),await Uk(e,new Dk))),e._onlineComponents}function Hk(e){return Vk(e).then((e=>e.persistence))}function Wk(e){return Vk(e).then((e=>e.localStore))}function Gk(e){return qk(e).then((e=>e.remoteStore))}function Kk(e){return qk(e).then((e=>e.syncEngine))}function Yk(e){return qk(e).then((e=>e.datastore))}async function Zk(e){const t=await qk(e),n=t.eventManager;return n.onListen=tk.bind(null,t.syncEngine),n.onUnlisten=ik.bind(null,t.syncEngine),n}function Qk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new _v;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Lk({next:s=>{t.enqueueAndForget((()=>US(e,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new yv(vv.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new yv(vv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),o=new HS(pw(n.path),s,{includeMetadataChanges:!0,Ku:!0});return zS(e,o)}(await Zk(e),e.asyncQueue,t,n,i))),i.promise}function Xk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new _v;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new Lk({next:n=>{t.enqueueAndForget((()=>US(e,o))),n.fromCache&&"server"===i.source?r.reject(new yv(vv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),o=new HS(n,s,{includeMetadataChanges:!0,Ku:!0});return zS(e,o)}(await Zk(e),e.asyncQueue,t,n,i))),i.promise}function Jk(e,t,n,i){const r=function(e,t){let n;return n="string"==typeof e?Db().encode(e):e,function(e,t){return new Rk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ok(e,t);if(e instanceof ArrayBuffer)return Ok(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,QT(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const i=gv(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=gv(e),i=tx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(i)>=0))}(e.localStore,i))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),Promise.resolve(new Set);n._updateProgress(YS(i));const r=new KS(i,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await r.zu(s);e&&n._updateProgress(e),s=await t.bc()}const o=await r.complete();return await gk(e,o.Ju,void 0),await function(e,t){const n=gv(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(o.progress),Promise.resolve(o.Hu)}catch(e){return dv("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(i,t,n).then((e=>{i.sharedClientState.notifyBundleLoaded(e)}))}(await Kk(e),r,i)}))}function $k(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const eI=new Map;function tI(e,t,n){if(!n)throw new yv(vv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function nI(e,t,n,i){if(!0===t&&!0===i)throw new yv(vv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iI(e){if(!zv.isDocumentKey(e))throw new yv(vv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rI(e){if(zv.isDocumentKey(e))throw new yv(vv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function sI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pv()}function oI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yv(vv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sI(e);throw new yv(vv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function aI(e,t){if(t<=0)throw new yv(vv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class lI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yv(vv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yv(vv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$k(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yv(vv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yv(vv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yv(vv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class cI{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yv(vv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yv(vv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bv;switch(e.type){case"firstParty":return new Sv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yv(vv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=eI.get(e);t&&(uv("ComponentProvider","Removing Datastore"),eI.delete(e),t.terminate())}(this),Promise.resolve()}}function uI(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=oI(e,cI))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&dv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=ov.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gs(JSON.stringify({alg:"none",type:"JWT"})),gs(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new yv(vv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ov(s)}e._authCredentials=new xv(new wv(t,n))}}class hI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hI(this.firestore,e,this._key)}}class dI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dI(this.firestore,e,this._query)}}class fI extends dI{constructor(e,t,n){super(e,t,pw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hI(this.firestore,null,new zv(e))}withConverter(e){return new fI(this.firestore,e,this._path)}}function pI(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=qs(e),tI("collection","path",t),e instanceof cI){const n=Mv.fromString(t,...i);return rI(n),new fI(e,null,n)}{if(!(e instanceof hI||e instanceof fI))throw new yv(vv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mv.fromString(t,...i));return rI(n),new fI(e.firestore,null,n)}}function mI(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=qs(e),1===arguments.length&&(t=Nv.A()),tI("doc","path",t),e instanceof cI){const n=Mv.fromString(t,...i);return iI(n),new hI(e,null,new zv(n))}{if(!(e instanceof hI||e instanceof fI))throw new yv(vv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mv.fromString(t,...i));return iI(n),new hI(e.firestore,e instanceof fI?e.converter:null,new zv(n))}}function gI(e,t){return e=qs(e),t=qs(t),(e instanceof hI||e instanceof fI)&&(t instanceof hI||t instanceof fI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function vI(e,t){return e=qs(e),t=qs(t),e instanceof dI&&t instanceof dI&&e.firestore===t.firestore&&Ew(e._query,t._query)&&e.converter===t.converter}class yI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XT(this,"async_queue_retry"),this.Xc=()=>{const e=ZT();e&&uv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ZT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ZT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new _v;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!iy(e))throw e;uv("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hv("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=DS.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(i),i}Zc(){this.Wc&&pv()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function _I(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of["next","error","complete"])if(i in n&&"function"==typeof n[i])return!0;return!1}(e)}class wI{constructor(){this._progressObserver={},this._taskCompletionResolver=new _v,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bI extends cI{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new yI,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EI(this),this._firestoreClient.terminate()}}function xI(e){return e._firestoreClient||EI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function EI(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new l_(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,$k(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new jk(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=r.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function TI(e,t,n){const i=new _v;return e.asyncQueue.enqueue((async()=>{try{await zk(e,n),await Uk(e,t),i.resolve()}catch(e){const n=e;if(!Bk(n))throw n;dv("Error enabling indexeddb cache. Falling back to memory cache: "+n),i.reject(n)}})).then((()=>i.promise))}function SI(e){return function(e){const t=new _v;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=gv(e);dS(n.remoteStore)||uv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=gv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const i=n.Ec.get(e)||[];i.push(t),n.Ec.set(e,i)}catch(e){const n=OS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Kk(e),t))),t.promise}(xI(e=oI(e,bI)))}function kI(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Hk(e),n=await Gk(e);return t.setNetworkEnabled(!0),function(e){const t=gv(e);return t.vu.delete(0),rS(t)}(n)}))}(xI(e=oI(e,bI)))}function II(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Hk(e),n=await Gk(e);return t.setNetworkEnabled(!1),async function(e){const t=gv(e);t.vu.add(0),await sS(t),t.bu.set("Offline")}(n)}))}(xI(e=oI(e,bI)))}function CI(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=gv(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await Wk(e),t)))}(xI(e=oI(e,bI)),t).then((t=>t?new dI(e,null,t.query):null))}function NI(e){if(e._initialized||e._terminated)throw new yv(vv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class PI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new PI(e_.fromBase64String(e))}catch(e){throw new yv(vv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new PI(e_.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class AI{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new yv(vv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jv(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DI{constructor(e){this._methodName=e}}class OI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yv(vv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yv(vv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pv(this._lat,e._lat)||Pv(this._long,e._long)}}const LI=/^__.*__$/;class RI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new gb(e,this.data,this.fieldMask,t,this.fieldTransforms):new mb(e,this.data,t,this.fieldTransforms)}}class MI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new gb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pv()}}class jI{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.fa(e),i}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:n,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(FI(this.ca)&&LI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||QT(e)}ya(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new jI({ca:e,methodName:t,ga:n,path:jv.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UI(e){const t=e._freezeSettings(),n=QT(e._databaseId);return new zI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BI(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,r);eC("Data must be an object, but it was:",o,i);const a=JI(i,o);let l,c;if(s.merge)l=new Jy(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=tC(t,i,n);if(!o.contains(r))throw new yv(vv.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));sC(e,r)||e.push(r)}l=new Jy(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new RI(new A_(a),l,c)}class VI extends DI{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof VI}}function qI(e,t,n){return new jI({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class HI extends DI{_toFieldTransform(e){return new sb(e.path,new Xw)}isEqual(e){return e instanceof HI}}class WI extends DI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qI(this,e,!0),n=this.pa.map((e=>XI(e,t))),i=new Jw(n);return new sb(e.path,i)}isEqual(e){return this===e}}class GI extends DI{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=qI(this,e,!0),n=this.pa.map((e=>XI(e,t))),i=new eb(n);return new sb(e.path,i)}isEqual(e){return this===e}}class KI extends DI{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new nb(e.serializer,Gw(e.serializer,this.Ia));return new sb(e.path,t)}isEqual(e){return this===e}}function YI(e,t,n,i){const r=e.ya(1,t,n);eC("Data must be an object, but it was:",r,i);const s=[],o=A_.empty();Hy(i,((e,i)=>{const a=iC(t,e,n);i=qs(i);const l=r.da(a);if(i instanceof VI)s.push(a);else{const e=XI(i,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Jy(s);return new MI(o,a,r.fieldTransforms)}function ZI(e,t,n,i,r,s){const o=e.ya(1,t,n),a=[tC(t,i,n)],l=[r];if(s.length%2!=0)throw new yv(vv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(tC(t,s[d])),l.push(s[d+1]);const c=[],u=A_.empty();for(let d=a.length-1;d>=0;--d)if(!sC(c,a[d])){const e=a[d];let t=l[d];t=qs(t);const n=o.da(e);if(t instanceof VI)c.push(e);else{const i=XI(t,n);null!=i&&(c.push(e),u.set(e,i))}}const h=new Jy(c);return new MI(u,h,o.fieldTransforms)}function QI(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XI(n,e.ya(i?4:3,t))}function XI(e,t){if($I(e=qs(e)))return eC("Unsupported field value:",t,e),JI(e,t);if(e instanceof DI)return function(e,t){if(!FI(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=XI(r,t.wa(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=qs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ov.fromDate(e);return{timestampValue:Jb(t.serializer,n)}}if(e instanceof Ov){const n=new Ov(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jb(t.serializer,n)}}if(e instanceof OI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof PI)return{bytesValue:$b(t.serializer,e._byteString)};if(e instanceof hI){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t._a("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(sI(e)))}(e,t)}function JI(e,t){const n={};return Wy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hy(e,((e,i)=>{const r=XI(i,t.ha(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function $I(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ov||e instanceof OI||e instanceof PI||e instanceof hI||e instanceof DI)}function eC(e,t,n){if(!$I(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=sI(n);throw"an object"===i?t._a(e+" a custom object"):t._a(e+" "+i)}}function tC(e,t,n){if((t=qs(t))instanceof AI)return t._internalPath;if("string"==typeof t)return iC(e,t);throw rC("Field path arguments must be of type string or ",e,!1,void 0,n)}const nC=new RegExp("[~\\*/\\[\\]]");function iC(e,t,n){if(t.search(nC)>=0)throw rC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new AI(...t.split("."))._internalPath}catch(i){throw rC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rC(e,t,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(i)),o&&(l+=" in document ".concat(r)),l+=")"),new yv(vv.INVALID_ARGUMENT,a+e+l)}function sC(e,t){return e.some((e=>e.isEqual(t)))}class oC{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new hI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aC extends oC{data(){return super.data()}}function lC(e,t){return"string"==typeof t?iC(e,t):t instanceof AI?t._internalPath:t._delegate._internalPath}function cC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yv(vv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{}class hC extends uC{}function dC(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof uC&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof pC)).length,n=e.filter((e=>e instanceof fC)).length;if(t>1||t>0&&n>0)throw new yv(vv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class fC extends hC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fC(e,t,n)}_apply(e){const t=this._parse(e);return xC(e._query,t),new dI(e.firestore,e.converter,bw(e._query,t))}_parse(e){const t=UI(e.firestore),n=function(e,t,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new yv(vv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){bC(o,s);const t=[];for(const n of o)t.push(wC(i,e,n));a={arrayValue:{values:t}}}else a=wC(i,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||bC(o,s),a=QI(n,"where",o,"in"===s||"not-in"===s);return U_.create(r,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class pC extends uC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new pC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:B_.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)xC(n,r),n=bw(n,r)}(e._query,t),new dI(e.firestore,e.converter,bw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mC extends hC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new yv(vv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yv(vv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new F_(t,n);return function(e,t){if(null===gw(e)){const n=vw(e);null!==n&&EC(e,n,t.field)}}(e,i),i}(e._query,this._field,this._direction);return new dI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new dw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class gC extends hC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new gC(e,t,n)}_apply(e){return new dI(e.firestore,e.converter,xw(e._query,this._limit,this._limitType))}}class vC extends hC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new vC(e,t,n)}_apply(e){const t=_C(e,this.type,this._docOrFields,this._inclusive);return new dI(e.firestore,e.converter,function(e,t){return new dw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class yC extends hC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new yC(e,t,n)}_apply(e){const t=_C(e,this.type,this._docOrFields,this._inclusive);return new dI(e.firestore,e.converter,function(e,t){return new dw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function _C(e,t,n,i){if(n[0]=qs(n[0]),n[0]instanceof oC)return function(e,t,n,i,r){if(!i)throw new yv(vv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of _w(e))if(o.field.isKeyField())s.push(__(t,i.key));else{const e=i.data.field(o.field);if(s_(e))throw new yv(vv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new yv(vv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new L_(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=UI(e.firestore);return function(e,t,n,i,r,s){const o=e.explicitOrderBy;if(r.length>o.length)throw new yv(vv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<r.length;l++){const s=r[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new yv(vv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof s));if(!yw(e)&&-1!==s.indexOf("/"))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Mv.fromString(s));if(!zv.isDocumentKey(n))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new zv(n);a.push(__(t,r))}else{const e=QI(n,i,s);a.push(e)}}return new L_(a,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function wC(e,t,n){if("string"==typeof(n=qs(n))){if(""===n)throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yw(t)&&-1!==n.indexOf("/"))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(Mv.fromString(n));if(!zv.isDocumentKey(i))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return __(e,new zv(i))}if(n instanceof hI)return __(e,n._key);throw new yv(vv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(sI(n),"."))}function bC(e,t){if(!Array.isArray(e)||0===e.length)throw new yv(vv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function xC(e,t){if(t.isInequality()){const n=vw(e),i=t.field;if(null!==n&&!n.isEqual(i))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(i.toString(),"'"));const r=gw(e);null!==r&&EC(e,i,r)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new yv(vv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yv(vv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function EC(e,t,n){if(!n.isEqual(t))throw new yv(vv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class TC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(d_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return i_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(r_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pv()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Hy(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new OI(i_(e.latitude),i_(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=o_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(a_(e));default:return null}}convertTimestamp(e){const t=n_(e);return new Ov(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mv.fromString(e);mv(Sx(n));const i=new c_(n.get(1),n.get(3)),r=new zv(n.popFirst(5));return i.isEqual(t)||hv("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function SC(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class kC extends TC{constructor(e){super(),this.firestore=e}convertBytes(e){return new PI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hI(this.firestore,null,t)}}class IC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CC extends oC{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new NC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class NC extends CC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class PC{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new IC(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new NC(this._firestore,this._userDataWriter,n.key,n,new IC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yv(vv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new NC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new IC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new NC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new IC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:AC(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function AC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pv()}}function DC(e,t){return e instanceof CC&&t instanceof CC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof PC&&t instanceof PC&&e._firestore===t._firestore&&vI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class OC extends TC{constructor(e){super(),this.firestore=e}convertBytes(e){return new PI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hI(this.firestore,null,t)}}function LC(e){e=oI(e,hI);const t=oI(e.firestore,bI),n=xI(t),i=new OC(t);return function(e,t){const n=new _v;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await function(e,t){const n=gv(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new yv(vv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const i=OS(e,"Failed to get document '".concat(t," from cache"));n.reject(i)}}(await Wk(e),t,n))),n.promise}(n,e._key).then((n=>new CC(t,i,e._key,n,new IC(null!==n&&n.hasLocalMutations,!0),e.converter)))}function RC(e){e=oI(e,dI);const t=oI(e.firestore,bI),n=xI(t),i=new OC(t);return function(e,t){const n=new _v;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const i=await ST(e,t,!0),r=new XS(t,i.ir),s=r.sc(i.documents),o=r.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const i=OS(e,"Failed to execute query '".concat(t," against cache"));n.reject(i)}}(await Wk(e),t,n))),n.promise}(n,e._query).then((n=>new PC(t,i,e,n)))}function MC(e,t,n){e=oI(e,hI);const i=oI(e.firestore,bI),r=SC(e.converter,t,n);return UC(i,[BI(UI(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,ab.none())])}function FC(e,t,n){e=oI(e,hI);const i=oI(e.firestore,bI),r=UI(i);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=qs(t))||t instanceof AI?ZI(r,"updateDoc",e._key,t,n,a):YI(r,"updateDoc",e._key,t),UC(i,[s.toMutation(e._key,ab.exists(!0))])}function jC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,s,o;e=qs(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||_I(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(_I(n[l])){const e=n[l];n[l]=null===(r=e.next)||void 0===r?void 0:r.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof hI)h=oI(e.firestore,bI),d=pw(e._key.path),u={next:t=>{n[l]&&n[l](BC(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=oI(e,dI);h=oI(t.firestore,bI),d=t._query;const i=new OC(h);u={next:e=>{n[l]&&n[l](new PC(h,i,t,e))},error:n[l+1],complete:n[l+2]},cC(e._query)}return function(e,t,n,i){const r=new Lk(i),s=new HS(t,r,n);return e.asyncQueue.enqueueAndForget((async()=>zS(await Zk(e),s))),()=>{r.Dc(),e.asyncQueue.enqueueAndForget((async()=>US(await Zk(e),s)))}}(xI(h),d,c,u)}function zC(e,t){return function(e,t){const n=new Lk(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){gv(e).ku.add(t),t.next()}(await Zk(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){gv(e).ku.delete(t)}(await Zk(e),n)))}}(xI(e=oI(e,bI)),_I(t)?t:{next:t})}function UC(e,t){return function(e,t){const n=new _v;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Ck(e);try{const e=await function(e,t){const n=gv(e),i=Ov.now(),r=t.reduce(((e,t)=>e.add(t.key)),Bw());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Dw(),l=Bw();return n.Zi.getEntries(e,r).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((r=>{s=r;const o=[];for(const e of t){const t=fb(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new gb(e.key,t,D_(t.value.mapValue),ab.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,o,t)})).next((t=>{o=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:Rw(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Tc[e.currentUser.toKey()];i||(i=new Gy(Pv)),i=i.insert(t,n),e.Tc[e.currentUser.toKey()]=i}(i,e.batchId,n),await gk(i,e.changes),await _S(i.remoteStore)}catch(e){const t=OS(e,"Failed to persist write");n.reject(t)}}(await Kk(e),t,n))),n.promise}(xI(e),t)}function BC(e,t,n){const i=n.docs.get(t._key),r=new OC(e);return new CC(e,r,t._key,i,new IC(n.hasPendingWrites,n.fromCache),t.converter)}const VC={maxAttempts:5};class qC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=UI(e)}set(e,t,n){this._verifyNotCommitted();const i=HC(e,this._firestore),r=SC(i.converter,t,n),s=BI(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,ab.none())),this}update(e,t,n){this._verifyNotCommitted();const i=HC(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=qs(t))||t instanceof AI?ZI(this._dataReader,"WriteBatch.update",i._key,t,n,o):YI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ab.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=HC(e,this._firestore);return this._mutations=this._mutations.concat(new wb(t._key,ab.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yv(vv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function HC(e,t){if((e=qs(e)).firestore!==t)throw new yv(vv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class WC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=UI(e)}get(e){const t=HC(e,this._firestore),n=new kC(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return pv();const i=e[0];if(i.isFoundDocument())return new oC(this._firestore,n,i.key,i,t.converter);if(i.isNoDocument())return new oC(this._firestore,n,t._key,null,t.converter);throw pv()}))}set(e,t,n){const i=HC(e,this._firestore),r=SC(i.converter,t,n),s=BI(this._dataReader,"Transaction.set",i._key,r,null!==i.converter,n);return this._transaction.set(i._key,s),this}update(e,t,n){const i=HC(e,this._firestore);let r;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return r="string"==typeof(t=qs(t))||t instanceof AI?ZI(this._dataReader,"Transaction.update",i._key,t,n,o):YI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}delete(e){const t=HC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=HC(e,this._firestore),n=new OC(this._firestore);return super.get(e).then((e=>new CC(this._firestore,n,t._key,e._document,new IC(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){av=e}(Ro),No(new Hs("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const s=e.getProvider("app").getImmediate(),o=new bI(new Ev(e.getProvider("auth-internal")),new Iv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yv(vv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c_(e.options.projectId,t)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Uo(sv,"3.12.0",e),Uo(sv,"3.12.0","esm2017")}();function GC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function KC(){if("undefined"===typeof Uint8Array)throw new yv("unimplemented","Uint8Arrays are not available in this environment.")}function YC(){if("undefined"==typeof atob)throw new yv("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ZC{constructor(e){this._delegate=e}static fromBase64String(e){return YC(),new ZC(PI.fromBase64String(e))}static fromUint8Array(e){return KC(),new ZC(PI.fromUint8Array(e))}toBase64(){return YC(),this._delegate.toBase64()}toUint8Array(){return KC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"===typeof n[i])return!0;return!1}(e,["next","error","complete"])}class XC{enableIndexedDbPersistence(e,t){return function(e,t){NI(e=oI(e,bI));const n=xI(e);if(n._uninitializedComponentsProvider)throw new yv(vv.FAILED_PRECONDITION,"SDK cache is already specified.");dv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=e._freezeSettings(),r=new Dk;return TI(n,r,new Pk(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){NI(e=oI(e,bI));const t=xI(e);if(t._uninitializedComponentsProvider)throw new yv(vv.FAILED_PRECONDITION,"SDK cache is already specified.");dv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),i=new Dk;return TI(t,i,new Ak(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new yv(vv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _v;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ey.D())return Promise.resolve();const t=e+"main";await ey.delete(t)}(pT(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class JC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof c_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||dv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uI(this._delegate,e,t,n)}enableNetwork(){return kI(this._delegate)}disableNetwork(){return II(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,nI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return SI(this._delegate)}onSnapshotsInSync(e){return zC(this._delegate,e)}get app(){if(!this._appCompat)throw new yv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dN(this,pI(this._delegate,e))}catch(MN){throw rN(MN,"collection()","Firestore.collection()")}}doc(e){try{return new iN(this,mI(this._delegate,e))}catch(MN){throw rN(MN,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cN(this,function(e,t){if(e=oI(e,cI),tI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yv(vv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dI(e,null,function(e){return new dw(Mv.emptyPath(),e)}(t))}(this._delegate,e))}catch(MN){throw rN(MN,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=oI(e,bI);const i=Object.assign(Object.assign({},VC),n);return function(e){if(e.maxAttempts<1)throw new yv(vv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(e,t,n){const i=new _v;return e.asyncQueue.enqueueAndForget((async()=>{const r=await Yk(e);new Fk(e.asyncQueue,r,n,t,i).run()})),i.promise}(xI(e),(n=>t(new WC(e,n))),i)}(this._delegate,(t=>e(new eN(this,t))))}batch(){return xI(this._delegate),new tN(new qC(this._delegate,(e=>UC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=xI(e=oI(e,bI)),i=new wI;return Jk(n,e._databaseId,t,i),i}(this._delegate,e)}namedQuery(e){return CI(this._delegate,e).then((e=>e?new cN(this,e):null))}}class $C extends TC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ZC(new PI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return iN.forKey(t,this.firestore,null)}}class eN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}get(e){const t=fN(e);return this._delegate.get(t).then((e=>new aN(this._firestore,new CC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const i=fN(e);return n?(GC("Transaction.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=fN(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=fN(e);return this._delegate.delete(t),this}}class tN{constructor(e){this._delegate=e}set(e,t,n){const i=fN(e);return n?(GC("WriteBatch.set",n),this._delegate.set(i,t,n)):this._delegate.set(i,t),this}update(e,t,n){for(var i=arguments.length,r=new Array(i>3?i-3:0),s=3;s<i;s++)r[s-3]=arguments[s];const o=fN(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...r),this}delete(e){const t=fN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new NC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=nN.INSTANCES;let i=n.get(e);i||(i=new WeakMap,n.set(e,i));let r=i.get(t);return r||(r=new nN(e,new $C(e),t),i.set(t,r)),r}}nN.INSTANCES=new WeakMap;class iN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}static forPath(e,t,n){if(e.length%2!==0)throw new yv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new iN(t,new hI(t._delegate,n,new zv(e)))}static forKey(e,t,n){return new iN(t,new hI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new dN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dN(this.firestore,pI(this._delegate,e))}catch(MN){throw rN(MN,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=qs(e))instanceof hI&&gI(this._delegate,e)}set(e,t){t=GC("DocumentReference.set",t);try{return t?MC(this._delegate,e,t):MC(this._delegate,e)}catch(MN){throw rN(MN,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];try{return 1===arguments.length?FC(this._delegate,e):FC(this._delegate,e,t,...i)}catch(MN){throw rN(MN,"updateDoc()","DocumentReference.update()")}}delete(){return UC(oI((e=this._delegate).firestore,bI),[new wb(e._key,ab.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=sN(t),r=oN(t,(e=>new aN(this.firestore,new CC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return jC(this._delegate,i,r)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?LC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,hI);const t=oI(e.firestore,bI);return Qk(xI(t),e._key,{source:"server"}).then((n=>BC(t,e,n)))}(this._delegate):function(e){e=oI(e,hI);const t=oI(e.firestore,bI);return Qk(xI(t),e._key).then((n=>BC(t,e,n)))}(this._delegate),t.then((e=>new aN(this.firestore,new CC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new iN(this.firestore,e?this._delegate.withConverter(nN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rN(e,t,n){return e.message=e.message.replace(t,n),e}function sN(e){for(const t of e)if("object"===typeof t&&!QC(t))return t;return{}}function oN(e,t){var n,i;let r;return r=QC(e[0])?e[0]:QC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{r.next&&r.next(t(e))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class aN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new iN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DC(this._delegate,e._delegate)}}class lN extends aN{data(e){const t=this._delegate.data(e);return void 0!==t||pv(),t}}class cN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}where(e,t,n){try{return new cN(this.firestore,dC(this._delegate,function(e,t,n){const i=t,r=lC("where",e);return fC._create(r,i,n)}(e,t,n)))}catch(MN){throw rN(MN,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cN(this.firestore,dC(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lC("orderBy",e);return mC._create(n,t)}(e,t)))}catch(MN){throw rN(MN,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cN(this.firestore,dC(this._delegate,(aI("limit",t=e),gC._create("limit",t,"F"))))}catch(MN){throw rN(MN,"limit()","Query.limit()")}var t}limitToLast(e){try{return new cN(this.firestore,dC(this._delegate,(aI("limitToLast",t=e),gC._create("limitToLast",t,"L"))))}catch(MN){throw rN(MN,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new cN(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vC._create("startAt",t,!0)}(...arguments)))}catch(MN){throw rN(MN,"startAt()","Query.startAt()")}}startAfter(){try{return new cN(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vC._create("startAfter",t,!1)}(...arguments)))}catch(MN){throw rN(MN,"startAfter()","Query.startAfter()")}}endBefore(){try{return new cN(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yC._create("endBefore",t,!1)}(...arguments)))}catch(MN){throw rN(MN,"endBefore()","Query.endBefore()")}}endAt(){try{return new cN(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yC._create("endAt",t,!0)}(...arguments)))}catch(MN){throw rN(MN,"endAt()","Query.endAt()")}}isEqual(e){return vI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?RC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oI(e,dI);const t=oI(e.firestore,bI),n=xI(t),i=new OC(t);return Xk(n,e._query,{source:"server"}).then((n=>new PC(t,i,e,n)))}(this._delegate):function(e){e=oI(e,dI);const t=oI(e.firestore,bI),n=xI(t),i=new OC(t);return cC(e._query),Xk(n,e._query).then((n=>new PC(t,i,e,n)))}(this._delegate),t.then((e=>new hN(this.firestore,new PC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=sN(t),r=oN(t,(e=>new hN(this.firestore,new PC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return jC(this._delegate,i,r)}withConverter(e){return new cN(this.firestore,e?this._delegate.withConverter(nN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class uN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new lN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new uN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new lN(this._firestore,n))}))}isEqual(e){return DC(this._delegate,e._delegate)}}class dN extends cN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new iN(this.firestore,e):null}doc(e){try{return new iN(this.firestore,void 0===e?mI(this._delegate):mI(this._delegate,e))}catch(MN){throw rN(MN,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=oI(e.firestore,bI),i=mI(e),r=SC(e.converter,t);return UC(n,[BI(UI(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,ab.exists(!1))]).then((()=>i))}(this._delegate,e).then((e=>new iN(this.firestore,e)))}isEqual(e){return gI(this._delegate,e._delegate)}withConverter(e){return new dN(this.firestore,e?this._delegate.withConverter(nN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function fN(e){return oI(e,hI)}class pN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new AI(...t)}static documentId(){return new pN(jv.keyField().canonicalString())}isEqual(e){return(e=qs(e))instanceof AI&&this._delegate._internalPath.isEqual(e._internalPath)}}class mN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new HI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mN(e)}static delete(){const e=new VI("deleteField");return e._methodName="FieldValue.delete",new mN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WI("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new mN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GI("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new mN(e)}static increment(e){const t=new KI("increment",e);return t._methodName="FieldValue.increment",new mN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const gN={Firestore:JC,GeoPoint:OI,Timestamp:Ov,Blob:ZC,Transaction:eN,WriteBatch:tN,DocumentReference:iN,DocumentSnapshot:aN,Query:cN,QueryDocumentSnapshot:lN,QuerySnapshot:hN,CollectionReference:dN,FieldPath:pN,FieldValue:mN,setLogLevel:function(e){var t;t=e,lv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Hs("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return t(n,i)}),"PUBLIC").setServiceProps(Object.assign({},gN)))}(e,((e,t)=>new JC(e,t,new XC))),e.registerVersion("@firebase/firestore-compat","0.3.9")}(Gh);Gh.initializeApp({apiKey:"AIzaSyD1rPHVBBjcRzLAbCOaZp6P2yyYwsSwVIM",authDomain:"bryllup-10466.firebaseapp.com",projectId:"bryllup-10466",storageBucket:"bryllup-10466.appspot.com",messagingSenderId:"574777653334",appId:"1:574777653334:web:73d588a765bb93b9d3a3f7"});const vN=Gh.auth(),yN=Gh.firestore(),_N=Gh.firestore.FieldValue.serverTimestamp;var wN=n(426),bN=n.n(wN);const xN=function(e){let{post:t}=e;return(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("span",{className:"post-author",children:t.author}),(0,o.jsxs)("span",{className:"post-time",children:[" ",(e=>{if(!e)return"";const t=e.toDate();return bN()(t).format("MMM DD, YYYY")})(t.createdAt)]}),(0,o.jsx)("br",{}),(0,o.jsx)("hr",{className:"post-hr"}),(0,o.jsx)("span",{className:"post-content",children:t.content})]})};const EN=function(){const[e,n]=(0,t.useState)(""),[i,r]=(0,t.useState)("");return(0,t.useEffect)((()=>{const e=vN.onAuthStateChanged((e=>{e&&r(e.displayName)}));return()=>e()}),[]),(0,o.jsxs)(ds,{onSubmit:async t=>{t.preventDefault();vN.currentUser?(await yN.collection("posts").add({content:e,author:i,createdAt:_N()}),n("")):gt.error("Please sign in to post.")},children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)(ds.Group,{className:"mt-3",children:(0,o.jsx)(ds.Control,{value:i,onChange:e=>r(e.target.value),placeholder:"Navn",disabled:!0})}),(0,o.jsx)(ds.Group,{className:"mt-3",children:(0,o.jsx)(ds.Control,{as:"textarea",rows:3,value:e,onChange:e=>n(e.target.value),placeholder:"Hva har du p\xe5 hjertet?"})})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6"}),(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6"})," ",(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6",children:(0,o.jsx)(br,{className:"mt-3",variant:"primary",type:"submit",children:"Post"})})]})]})};const TN=n.p+"static/media/chat.507432b4f052a5ad0ac900ec17483d68.svg";const SN=function(){const[e,n]=(0,t.useState)([]);return(0,t.useEffect)((()=>{const e=yN.collection("posts").onSnapshot((e=>{const t=e.docs.map((e=>{const t={id:e.id,...e.data(),comments:[]};return e.ref.collection("comments").onSnapshot((e=>{const n=e.docs.map((e=>({id:e.id,...e.data()})));t.comments=n})),t}));n(t)}));return()=>{e()}}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"row text-center",children:[(0,o.jsx)("h1",{children:"Oppdateringer"}),(0,o.jsx)("h5",{children:"Her kommer det oppdateringer, og folk kan stille sp\xf8rsm\xe5l"})]}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-3"}),(0,o.jsx)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-6",children:(0,o.jsx)(EN,{})}),(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3"})]}),(0,o.jsxs)("div",{className:"row mt-5",children:[(0,o.jsx)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-3"}),(0,o.jsx)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-6",children:e.map((e=>(0,o.jsxs)(t.Fragment,{children:[(0,o.jsx)(xN,{post:e}),(0,o.jsx)("br",{}),(0,o.jsxs)(Me,{to:"/oppdateringer/".concat(e.id),style:{textDecoration:"none"},children:[(0,o.jsx)("img",{src:TN,alt:"chat",className:"icon",width:"30px"}),(0,o.jsxs)("span",{className:"comment-count",children:["(",e.comments.length,")"]})]})]},e.id)))}),(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3"})]})]})};const kN=n.p+"static/media/trash.3533bf93c28289586c172997d8703057.svg";const IN=function(e){let{comment:t,postId:n}=e;const i=vN.currentUser;return(0,o.jsx)(v,{children:(0,o.jsxs)("div",{className:"row mt-5",children:[(0,o.jsx)("hr",{}),(0,o.jsx)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-3"}),(0,o.jsxs)("div",{className:"col-12 col-sm-3 col-md-3 col-lg-4 col-xl-6",children:[(0,o.jsxs)("div",{className:"row post-author",children:[t.author," - ",(e=>{if(!e)return"";const t=e.toDate();return bN()(t).format("MMM DD, YYYY")})(t.createdAt)]}),(0,o.jsx)("div",{className:"row",children:t.content})]}),(0,o.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 col-xl-3",children:i&&i.uid===t.authorId&&(0,o.jsxs)("div",{className:"delete-button",onClick:async()=>{try{const e=vN.currentUser;console.log(t);window.confirm("Are you sure you want to delete this comment?");e&&e.uid===t.authorId?(await yN.collection("posts").doc(n).collection("comments").doc(t.id).delete(),console.log("Comment deleted successfully")):console.log("You are not authorized to delete this comment")}catch(e){console.error("Error deleting comment",e)}},children:[(0,o.jsx)("img",{src:kN,alt:"chat",className:"icon",width:"20px"})," "]})})]})})};const CN=function(e){let{postId:n}=e;const[i,r]=(0,t.useState)([]);(0,t.useEffect)((()=>{const e=yN.collection("posts").doc(n).collection("comments").orderBy("createdAt","desc").onSnapshot((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t)}));return()=>{e()}}),[n]);const s=async e=>{try{await yN.collection("posts").doc(n).collection("comments").doc(e).delete(),console.log("Comment deleted successfully")}catch(t){console.error("Error deleting comment",t)}};return(0,o.jsx)("div",{children:i.map((e=>(0,o.jsx)(IN,{comment:e,postId:n,onDelete:s},e.id)))})};const NN=function(e){let{postId:n}=e;const[i,r]=(0,t.useState)(""),[s,a]=(0,t.useState)("");return(0,t.useEffect)((()=>{const e=vN.onAuthStateChanged((e=>{e&&a(e.displayName)}));return()=>e()}),[]),(0,o.jsxs)(ds,{onSubmit:async e=>{e.preventDefault();const t=vN.currentUser;if(!t)return void gt.error("Please sign in to post.");if(i.length<5)return void gt.error("Comment must be at least 5 characters long.");const s={content:i,author:t.displayName,authorId:t.uid,createdAt:_N()};try{await yN.collection("posts").doc(n).collection("comments").add(s),r("")}catch(o){console.error(o)}},children:[(0,o.jsx)(ds.Group,{className:"mt-3",children:(0,o.jsx)(ds.Control,{disabled:!0,value:s,onChange:e=>a(e.target.value),placeholder:"Your name"})}),(0,o.jsx)(ds.Group,{className:"mt-3",children:(0,o.jsx)(ds.Control,{as:"textarea",rows:3,value:i,onChange:e=>r(e.target.value),placeholder:"Write a comment..."})}),(0,o.jsx)(br,{className:"mt-3",variant:"primary",type:"submit",children:"Post Comment"})]})};const PN=function(){const{id:e}=function(){let{matches:e}=t.useContext(oe),n=e[e.length-1];return n?n.params:{}}(),[n,i]=(0,t.useState)(null),r=vN.currentUser;return console.log(r),(0,t.useEffect)((()=>{(async()=>{const t=await yN.collection("posts").doc(e).get();t.exists?i({id:t.id,...t.data()}):console.log("No such post!")})()}),[e]),n?(0,o.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,o.jsx)("div",{children:(0,o.jsx)(xN,{post:n,onDelete:async()=>{try{await yN.collection("posts").doc(e).delete(),console.log("Post deleted successfully")}catch(t){console.error("Error deleting post",t)}}})}),(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsx)("h5",{className:"mt-5",children:"Kommentarer"}),(0,o.jsx)(CN,{postId:e,currentUser:r})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{className:"mt-3",children:"Legg til kommentar"}),(0,o.jsx)(NN,{postId:e})]})]}):(0,o.jsx)("div",{children:"Loading..."})},AN=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:r="div",...a}=e;const l=d(n,"row"),c=f(),u=p(),h="".concat(l,"-cols"),m=[];return c.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const i=e!==u?"-".concat(e):"";null!=n&&m.push("".concat(h).concat(i,"-").concat(n))})),(0,o.jsx)(r,{ref:t,...a,className:s()(i,l,...m)})}));AN.displayName="Row";const DN=AN,ON=()=>{const[e,n]=(0,t.useState)(!1),i=e=>()=>{navigator.clipboard.writeText(e),n(!0),setTimeout((()=>{n(!1)}),1e3)};return(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"card shadow-sm my-4",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h1",{className:"display-4 fading-border",children:"Praktisk informasjon"}),(0,o.jsxs)("p",{className:"lead",children:["Velkommen til bryllupet v\xe5rt! Her er litt praktisk informasjon for den store dagen ",(0,o.jsx)("br",{})]}),(0,o.jsx)("p",{children:"PS - Vi kommer til \xe5 oppdatere denne siden etterhvert som det n\xe6rmer seg. S\xe5 sjekk innom her innimellom."})]})}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Dato og tid i kirka"}),(0,o.jsx)("p",{children:"Dato: 01.06.24"}),(0,o.jsx)("p",{children:"Tid: kl.13:45"})]})}),(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Sted"}),(0,o.jsxs)("p",{children:["Adresse Julebygda kapell: ",(0,o.jsx)("br",{}),(0,o.jsx)("a",{href:"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwj8_OKO7-uDAxXSFBAIHWOdCuwQ4kB6BAg4EAM&url=%2Fmaps%2Fplace%2F%2Fdata%3D!4m2!3m1!1s0x463a49b2fb8f28db%3A0x90c18982c55bb09e%3Fsa%3DX%26ved%3D2ahUKEwj8_OKO7-uDAxXSFBAIHWOdCuwQ4kB6BAgQEAA&usg=AOvVaw1W4MJ9qurwQlVb5CWd_qyv&opi=89978449",children:"Leiteveien 150, 4312 Sandnes"})]}),(0,o.jsxs)("p",{children:["Adresse L\xf8\xe5 p\xe5 Lea: ",(0,o.jsx)("br",{}),(0,o.jsx)("a",{href:"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&cad=rja&uact=8&ved=2ahUKEwiJoOnq8OuDAxVfHRAIHSh0BSsQ4kB6BAhIEAM&url=%2Fmaps%2Fplace%2F%2Fdata%3D!4m2!3m1!1s0x463a48222ff52e85%3A0xc0171275b7c709af%3Fsa%3DX%26ved%3D2ahUKEwiJoOnq8OuDAxVfHRAIHSh0BSsQ4kB6BAgOEAA&usg=AOvVaw1gVd2OMTry_2cRCx5MoqIN&opi=89978449",children:"Leaveien 205, 4312 Sandnes"})]})]})}),(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Overnatting"}),(0,o.jsx)("p",{children:"Hvis du kommer langveisfra, her er noen anbefalte overnattingssteder:"}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("a",{href:"https://www.strawberry.no/hotell/norge/sandnes/quality-hotel-residence/",children:"Quality Hotel Residence"}),"(Rabattkode kommer om f\xe5 uker)"]}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://www.volstadskogen.no/nb/velkommen/",children:"V\xf8lstadskogen hytter og Camping"})})]})]})})]}),(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Dagen f\xf8r"}),(0,o.jsx)("ul",{children:(0,o.jsx)("li",{children:"Vi \xf8nsker \xe5 tilbringe dagen f\xf8r bryllupet sammen med v\xe5re n\xe6rmeste. Vi kommer til \xe5 ha en uformell samling i Sandnes Mer informasjon kommer."})})]})}),(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Taler o.l."}),(0,o.jsxs)("p",{children:["Hvis du \xf8nsker \xe5 holde en tale, lek, innslag eller lignenede ta kontakt med v\xe5r toastmaster, Viljar Fjellanger. Han kan kontaktes p\xe5 tlf:"," ",(0,o.jsxs)("span",{style:{cursor:"pointer",borderBottom:"1px solid"},onClick:i("97405495"),children:["974 05 495",e&&" (kopiert)"]})," ","eller epost:"," ",(0,o.jsxs)("span",{style:{cursor:"pointer",borderBottom:"1px solid"},onClick:i("viljar.fjellang@gmail.com"),children:["viljar.fjellang@gmail.com ",e&&" (kopiert)"]}),(0,o.jsx)("br",{}),"Vi har prosjektor og lydanlegg p\xe5 stedet."]})]})})]}),(0,o.jsxs)("div",{className:"col-md-4",children:[(0,o.jsx)(DN,{children:(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Transport"}),(0,o.jsx)("p",{children:"Vi kommer til \xe5 sette opp taxi fra L\xf8a p\xe5 Lea til Quality Hotel Residence p\xe5 kvelden/natten. Tidsplan kommer."})]})})}),(0,o.jsx)(DN,{children:(0,o.jsx)("div",{className:"card shadow-sm mb-2",children:(0,o.jsxs)("div",{className:"card-body",children:[(0,o.jsx)("h2",{className:"fading-border",children:"Annen informasjon"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Vi \xf8nsker ikke at det tas bilder under vielsen. Vi kommer til \xe5 f\xe5 tatt bilder av en fotograf som vi deler med dere."}),(0,o.jsxs)("li",{children:["Antrekk: M\xf8rk dress. ",(0,o.jsx)("br",{})," Bare bruden skal ha hvite kl\xe6r."]}),(0,o.jsx)("li",{children:"Barn er ikke invitert til bryllupet."})]})]})})})]})]})]})};const LN=function(){return(0,o.jsxs)(Oe,{children:[(0,o.jsx)(ot,{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0}),(0,o.jsx)(_h,{}),(0,o.jsx)(v,{className:"content-container",children:(0,o.jsxs)(ke,{children:[(0,o.jsx)(Te,{path:"/",element:(0,o.jsx)(Ln,{})}),(0,o.jsx)(Te,{path:"/gavelister",element:(0,o.jsx)(wh,{})}),(0,o.jsx)(Te,{path:"/kart",element:(0,o.jsx)(Bh,{})}),(0,o.jsx)(Te,{exact:!0,path:"/oppdateringer",element:(0,o.jsx)(SN,{})}),(0,o.jsx)(Te,{path:"/informasjon",element:(0,o.jsx)(ON,{})}),(0,o.jsx)(Te,{path:"/oppdateringer/:id",element:(0,o.jsx)(PN,{})})]})})]})},RN=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:s,getTTFB:o}=t;n(e),i(e),r(e),s(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(LN,{})})),RN()})()})();
//# sourceMappingURL=main.9dd60ede.js.map